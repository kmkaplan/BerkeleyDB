%!PS-Adobe-3.0
%%Creator: groff version 1.10
%%CreationDate: Mon Nov  3 11:30:03 1997
%%DocumentNeededResources: font Times-Roman
%%+ font Times-Bold
%%+ font Times-Italic
%%DocumentSuppliedResources: procset grops 1.10 0
%%Pages: 7
%%PageOrder: Ascend
%%Orientation: Portrait
%%EndComments
%%BeginProlog
%%BeginResource: procset grops 1.10 0
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/MF{
findfont
[5 2 roll
0 3 1 roll
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}bind def
/DA{
newpath arcn stroke
}bind def
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
/DL{
SN
moveto
SN
lineto stroke
}bind def
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
/FL{
currentgray exch setgray fill setgray
}bind def
/BL/fill load def
/LW/setlinewidth load def
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
}bind def
/PEND{
clear
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%IncludeResource: font Times-Roman
%%IncludeResource: font Times-Bold
%%IncludeResource: font Times-Italic
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 792 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron/Zcaron
/scaron/zcaron/Ydieresis/trademark/quotesingle/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Times-Italic@0 ENC0/Times-Italic RE/Times-Bold@0 ENC0/Times-Bold RE
/Times-Roman@0 ENC0/Times-Roman RE
%%EndProlog
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 364.4(DbMpool\(3\) DbMpool\(3\))72 48 R/F1 9
/Times-Bold@0 SF -.18(NA)72 84 S(ME).18 E F0
(DbMpool \255 shared memory b)108 96 Q(uf)-.2 E(fer pool)-.25 E F1
(SYNOPSIS)72 112.8 Q/F2 10/Times-Bold@0 SF(#include <db_cxx.h>)108 124.8
Q(static int)108 148.8 Q(DbMpool::open\(char *dir)108 160.8 Q(,)-.92 E
(int \215ags, int mode, DbEn)158 172.8 Q 2.5(v*)-.4 G(dben)-2.5 E 1.1
-.55(v, D)-.4 H(bMpool **r).55 E(egionp\);)-.18 E(int)108 196.8 Q
(DbMpool::close\(\);)108 208.8 Q(static int)108 232.8 Q
(DbMpool::unlink\(const char *dir)108 244.8 Q 2.5(,i)-.92 G(nt f)-2.5 E
(or)-.25 E(ce, DbEn)-.18 E 2.5(v*)-.4 G(\);)-2.5 E(int)108 268.8 Q
(DbMpool::db_r)108 280.8 Q(egister\(int ftype,)-.18 E
(int \(*pgin\)\(db_pgno_t pgno, v)158 292.8 Q(oid *pgaddr)-.1 E 2.5(,D)
-.92 G(bt *pgcookie\),)-2.5 E(int \(*pgout\)\(db_pgno_t pgno, v)158
304.8 Q(oid *pgaddr)-.1 E 2.5(,D)-.92 G(bt *pgcookie\)\);)-2.5 E(int)108
328.8 Q(DbMpool::trickle\(int pct, int *nwr)108 340.8 Q(otep\);)-.18 E
(int)108 364.8 Q(DbMpool::sync\(LSN *lsn\);)108 376.8 Q(int)108 400.8 Q
(DbMpool::stat\(DB_MPOOL_ST)108 412.8 Q 1.9 -.95(AT *)-.9 H(*gsp,).95 E
(DB_MPOOL_FST)158 424.8 Q 1.9 -.95(AT *)-.9 H(\(*fsp\)[], v).95 E
(oid *\(*db_malloc\)\(size_t\)\);)-.1 E F1(DESCRIPTION)72 441.6 Q F0
1.02(The DB library is a f)108 453.6 R 1.019(amily of classes that pro)
-.1 F 1.019(vides a modular programming interf)-.15 F 1.019
(ace to transactions and)-.1 F 1.377(record-oriented \214le access.)108
465.6 R 1.378(The library includes support for transactions, locking, logging and \214le page)
6.377 F .443(caching, as well as v)108 477.6 R .443(arious inde)-.25 F
-.15(xe)-.15 G 2.943(da).15 G .442(ccess methods.)-2.943 F(Man)5.442 E
2.942(yo)-.15 G 2.942(ft)-2.942 G .442
(he classes \(e.g., the \214le page caching class\))-2.942 F .4(are useful independent of the other DB classes, although some classes are e)
108 489.6 R .4(xplicitly based on other classes)-.15 F
(\(e.g., transactions and logging\).)108 501.6 Q -.15(Fo)5 G 2.5(rag).15
G(eneral description of the DB package, see)-2.5 E/F3 10/Times-Italic@0
SF(db_intr)2.5 E(o)-.45 E F0(\(3\).).18 E(This manual page describes the speci\214c details of the memory pool interf)
108 518.4 Q(ace.)-.1 E(The)108 535.2 Q F3(DbMpool)2.7 E F0 .2(\(3\) and)
.51 F F3(DbMpoolF)2.7 E(ile)-.45 E F0 .2
(\(3\) classes are the library interf).18 F .2(ace intended to pro)-.1 F
.2(vide general-purpose,)-.15 F 1.033(page-oriented b)108 547.2 R(uf)-.2
E 1.033(fer management of one or more \214les.)-.25 F 1.033
(While designed to w)6.033 F 1.033(ork with the other Db func-)-.1 F
1.954(tions, these functions are also useful for more general purposes.)
108 559.2 R 1.953(The memory pools \(DbMpool')6.953 F 1.953(s\) are)-.55
F .117(referred to in this document as simply `)108 571.2 R(`pools')-.74
E 2.617('. Pools)-.74 F .118(may be shared between processes.)2.618 F
.118(Pools are usually)5.118 F 1.444
(\214lled by pages from one or more \214les \(DbMpoolFile')108 583.2 R
3.944(s\). P)-.55 F 1.444(ages in the pool are replaced in LR)-.15 F
3.944(U\()-.4 G(least-)-3.944 E 1.971(recently-used\) order)108 595.2 R
4.471(,w)-.4 G 1.971(ith each ne)-4.471 F 4.471(wp)-.25 G 1.971
(age replacing the page that has been unused the longest.)-4.471 F -.15
(Pa)6.972 G(ges).15 E(retrie)108 607.2 Q -.15(ve)-.25 G 2.52(df).15 G
.02(rom the pool using)-2.52 F F3(DbMpoolF)2.52 E(ile::g)-.45 E(et)-.1 E
F0 .02(are `)2.52 F(`pinned')-.74 E 2.52('i)-.74 G 2.52(nt)-2.52 G .02
(he pool, by def)-2.52 F .02(ault, until the)-.1 F 2.52(ya)-.15 G .02
(re returned)-2.52 F(to the pool')108 619.2 Q 2.5(sc)-.55 G
(ontrol using the)-2.5 E F3(DbMpoolF)2.5 E(ile::put)-.45 E F0(method.)
2.5 E F3(DbMpool::open)92 636 Q F0(The)108 648 Q F3(DbMpool::open)3.035
E F0 .535(method copies a pointer)3.035 F 3.035(,t)-.4 G 3.035(ot)-3.035
G .535(he memory pool identi\214ed by the)-3.035 F F2(dir)3.035 E
(ectory)-.18 E F3(dir)3.035 E F0 3.035(,i).73 G .535(nto the)-3.035 F
(memory location referenced by)108 660 Q F3 -.37(re)2.5 G(gionp)-.03 E
F0(.).19 E 2.668(If the)108 676.8 R F3(dben)5.168 E(v)-.4 E F0(ar)5.168
E 2.668(gument to)-.18 F F3(DbMpool::open)5.168 E F0 -.1(wa)5.168 G
5.168(si).1 G 2.668(nitialized using)-5.168 F F3(DbEn)5.168 E
(v::appinit)-.4 E F0(,).68 E F3(dir)5.167 E F0 2.667(is interpreted as)
5.167 F(described by)108 688.8 Q F3(DbEn)2.5 E(v)-.4 E F0(\(3\).).32 E
.667(Otherwise, if)108 705.6 R F3(dir)3.167 E F0 .668
(is not NULL, it is interpreted relati)3.167 F .968 -.15(ve t)-.25 H
3.168(ot).15 G .668(he current w)-3.168 F .668
(orking directory of the process.)-.1 F(If)5.668 E F3(dir)108 717.6 Q F0
2.388(is NULL, the follo)4.888 F 2.388(wing en)-.25 F 2.388(vironment v)
-.4 F 2.388(ariables are check)-.25 F 2.387(ed in order: `)-.1 F
(`TMPDIR')-.74 E 2.387(', `)-.74 F(`TEMP')-.74 E 2.387(', and)-.74 F
-.74(``)108 729.6 S(TMP').74 E 2.545('. If)-.74 F .045
(one of them is set, memory pool \214les are created relati)2.545 F .346
-.15(ve t)-.25 H 2.546(ot).15 G .046(he directory it speci\214es.)-2.546
F .046(If none of)5.046 F(No)268.795 768 Q -.15(ve)-.15 G(mber 2, 1997)
.15 E(1)191.795 E EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 364.4(DbMpool\(3\) DbMpool\(3\))72 48 R 1.501
(them are set, the \214rst possible one of the follo)108 84 R 1.5
(wing directories is used:)-.25 F/F1 10/Times-Italic@0 SF(/var/tmp)4 E
F0(,).19 E F1(/usr/tmp)4 E F0(,).19 E F1(/temp)4 E F0(,).19 E F1(/tmp)4
E F0(,).19 E F1(C:/temp)108 96 Q F0(and)2.5 E F1(C:/tmp)2.5 E F0(.).19 E
.942(All \214les associated with the memory pool are created in this directory)
108 112.8 R 5.943(.T)-.65 G .943(his directory must already e)-5.943 F
(xist)-.15 E(when)108 124.8 Q F1 .467(is called.)2.967 F F0 .467
(If the memory pool already e)5.467 F .467(xists, the process must ha)
-.15 F .766 -.15(ve p)-.2 H .466(ermission to read and write the).15 F
-.15(ex)108 136.8 S(isting \214les.).15 E
(If the memory pool does not already e)5 E
(xist, it is optionally created and initialized.)-.15 E(The)108 153.6 Q
F1<8d61>3.76 E(gs)-.1 E F0(and)3.76 E F1(mode)3.76 E F0(ar)3.76 E 1.26
(guments specify ho)-.18 F 3.761<778c>-.25 G 1.261
(les will be opened and/or created when the)-3.761 F 3.761(yd)-.15 G
(on')-3.761 E 3.761(ta)-.18 G(lready)-3.761 E -.15(ex)108 165.6 S 2.5
(ist. The).15 F(\215ags v)2.5 E(alue is speci\214ed by)-.25 E/F2 10
/Times-Bold@0 SF(or)2.5 E F0('ing together one or more of the follo)A
(wing v)-.25 E(alues:)-.25 E(DB_CREA)108 182.4 Q(TE)-1.11 E .484
(Create an)133 194.4 R 2.984(yu)-.15 G .483
(nderlying \214les, as necessary)-2.984 F 5.483(.I)-.65 G 2.983(ft)
-5.483 G .483(he \214les do not already e)-2.983 F .483
(xist and the DB_CREA)-.15 F .483(TE \215ag)-1.11 F
(is not speci\214ed, the call will f)133 206.4 Q(ail.)-.1 E
(DB_MPOOL_PRIV)108 223.2 Q -1.11(AT)-1.35 G(E)1.11 E(Create a pri)133
235.2 Q -.25(va)-.25 G(te MPOOL that is not shared with an).25 E 2.5(yo)
-.15 G(ther process or thread.)-2.5 E(DB_NOMMAP)108 252 Q(Al)133 264 Q
-.1(wa)-.1 G 1.256(ys cop).1 F 3.756<798c>-.1 G 1.257(les in this memory pool into the local cache instead of mapping them into process)
-3.756 F(memory \(see the description of the)133 276 Q F1(mp_mmapsize)
2.5 E F0(\214eld of the DbEn)2.5 E 2.5(vo)-.4 G
(bject for further information\).)-2.5 E(DB_THREAD)108 292.8 Q .028
(Cause the DbMpool handle returned by the)133 304.8 R F1(DbMpool::open)
2.528 E F0 .028(method to be useable by multiple threads)2.528 F
(within a single address space, i.e., to be `)133 316.8 Q
(`free-threaded')-.74 E('.)-.74 E .111(All \214les created by the memory pool subsystem \(other than \214les created by the)
108 333.6 R F1(memp_fopen)2.612 E F0 .112(method, which)2.612 F .545
(are separately speci\214ed\) are created with mode)108 345.6 R F1(mode)
3.045 E F0 .545(\(as described in)3.045 F F1 -.15(ch)3.045 G(mod).15 E
F0 .545(\(2\)\) and modi\214ed by the pro-).77 F .323(cess' umask v)108
357.6 R .323(alue at the time of creation \(see)-.25 F F1(umask)2.823 E
F0 2.823(\(2\)\). The).67 F .323(group o)2.823 F .324
(wnership of created \214les is based on)-.25 F
(the system and directory def)108 369.6 Q
(aults, and is not further speci\214ed by DB.)-.1 E .33(The memory pool subsystem is con\214gured based on which set methods ha)
108 386.4 R .63 -.15(ve b)-.2 H .33(een used.).15 F .33(It is e)5.33 F
.33(xpected that)-.15 F .994(applications will use a single DbEn)108
398.4 R 3.494(vo)-.4 G .994(bject as the ar)-3.494 F .995
(gument to all of the subsystems in the DB package.)-.18 F .62
(The \214elds of the DbEn)108 410.4 R 3.12(vo)-.4 G .62(bject used by)
-3.12 F F1(DbMpool::open)3.119 E F0 .619(are described belo)3.119 F
4.419 -.65(w. A)-.25 H 3.119(sr).65 G .619(eferences to the DbEn)-3.119
F(v)-.4 E .829(object may be maintained by)108 422.4 R F1(DbMpool::open)
3.329 E F0 3.329(,i).24 G 3.329(ti)-3.329 G 3.329(sn)-3.329 G .829
(ecessary that the DbEn)-3.329 F 3.33(vo)-.4 G .83
(bject and memory it refer)-3.33 F(-)-.2 E .446(ences be v)108 434.4 R
.446(alid until the object is destro)-.25 F 2.946(yed. An)-.1 F 2.946
(yo)-.15 G 2.946(ft)-2.946 G .446(he DbEn)-2.946 F 2.946<768c>-.4 G .446
(elds that are not e)-2.946 F .445(xplicitly set will def)-.15 F(ault)
-.1 E(to appropriate v)108 446.4 Q(alues.)-.25 E .516(The follo)108
463.2 R .516(wing \214elds in the DbEn)-.25 F 3.016(vo)-.4 G .516(bject may be initialized, using the appropriate set method, before call-)
-3.016 F(ing)108 475.2 Q F1(DbMpool::open)2.5 E F0(:).24 E -.2(vo)108
504 S(id *\(*db_errcall\)\(char *db_errpfx, char *b).2 E(uf)-.2 E
(fer\);)-.25 E(FILE *db_err\214le;)108 516 Q(const char *db_errpfx;)108
528 Q(class ostream *db_error_stream;)108 540 Q(int db_v)108 552 Q
(erbose;)-.15 E(The error \214elds of the DbEn)133 564 Q 2.5(vb)-.4 G
(eha)-2.5 E .3 -.15(ve a)-.2 H 2.5(sd).15 G(escribed for)-2.5 E F1(DbEn)
2.5 E(v)-.4 E F0(\(3\).).32 E(size_t mp_mmapsize;)108 580.8 Q 1.631
(Files that are opened read-only in the pool \(and that satisfy a fe)133
592.8 R 4.13(wo)-.25 G 1.63(ther criteria\) are, by def)-4.13 F(ault,)
-.1 E .04(mapped into the process address space instead of being copied into the local cache.)
133 604.8 R .041(This can result in)5.041 F(better)133 616.8 Q 1.331
(-than-usual performance, as a)-.2 F -.25(va)-.2 G 1.331
(ilable virtual memory is normally much lar).25 F 1.33
(ger than the local)-.18 F .85(cache, and page f)133 628.8 R .85
(aults are f)-.1 F .851(aster than page cop)-.1 F .851(ying on man)-.1 F
3.351(ys)-.15 G 3.351(ystems. Ho)-3.351 F(we)-.25 E -.15(ve)-.25 G 1.651
-.4(r, i).15 H 3.351(nt).4 G .851(he presence of)-3.351 F .262
(limited virtual memory it can cause resource starv)133 640.8 R .262
(ation, and in the presence of lar)-.25 F .261(ge databases, it can)-.18
F .076(result in immense process sizes.)133 652.8 R(If)5.076 E F1
(mp_mmapsize)2.576 E F0 .076
(is non-zero, it speci\214es the maximum \214le size for a)2.576 F
(\214le to be mapped into the process address space.)133 664.8 Q(By def)
5 E(ault, it is set to 10Mb)-.1 E(.)-.4 E(size_t mp_size;)108 681.6 Q
.757(The suggested size of the pool, in bytes.)133 693.6 R .756
(This should be the size of the normal w)5.756 F .756
(orking data set of)-.1 F 1.501(the application, with some small amount of additional memory for unusual situations.)
133 705.6 R 1.502(\(Note, the)6.502 F -.1(wo)133 717.6 S .324(rking set is not the same as the number of simultaneously referenced pages, and should be quite a)
.1 F .548(bit lar)133 729.6 R 3.048(ger!\) The)-.18 F(def)3.048 E .548(ault cache size is 128K bytes \(16 8K byte pages\), and may not be less than 20K)
-.1 F(No)268.795 768 Q -.15(ve)-.15 G(mber 2, 1997).15 E(2)191.795 E EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 364.4(DbMpool\(3\) DbMpool\(3\))72 48 R(bytes.)
133 84 Q(The)108 100.8 Q/F1 10/Times-Italic@0 SF(DbMpool::open)2.596 E
F0 .096(method thro)2.596 F .096(ws a)-.25 F F1(DbException)2.596 E F0
.095(\(3\) or returns the v).24 F .095(alue of)-.25 F F1(errno)2.595 E
F0 .095(on f)2.595 F .095(ailure and 0 on suc-)-.1 F(cess.)108 112.8 Q
F1(DbMpool::close)92 129.6 Q F0(The)108 141.6 Q F1(DbMpool::close)4.73 E
F0 2.231
(method closes the pool indicated by the DbMpool object, as returned by)
4.73 F F1(DbM-)4.731 E(pool::open)108 153.6 Q F0 6.015(.T).24 G 1.014
(his method does not imply a call to)-6.015 F F1(DbMpoolF)3.514 E
(ile::sync)-.45 E F0 1.014(\(or to)3.514 F F1(DbMpoolF)3.514 E
(ile::close)-.45 E F0 3.514(\)i).18 G 1.014(.e. no)-3.514 F
(pages are written to the source \214le as as a result of calling)108
165.6 Q F1(DbMpool::close)2.5 E F0(.).18 E 2.744(In addition, if the)108
182.4 R F1(dir)5.244 E F0(ar)5.244 E 2.744(gument to)-.18 F F1
(DbMpool::open)5.244 E F0 -.1(wa)5.244 G 5.244(sN).1 G 2.744(ULL and)
-5.244 F F1(dben)5.244 E(v)-.4 E F0 -.1(wa)5.244 G 5.244(sn).1 G 2.744
(ot initialized using)-5.244 F F1(DbEn)108 194.4 Q(v::appinit)-.4 E F0
2.725(,a).68 G .225(ll \214les created for this shared re)-2.725 F .225
(gion will be remo)-.15 F -.15(ve)-.15 G .224(d, as if).15 F F1
(DbMpool::unlink)2.724 E F0 .224(were called.)2.724 F .187
(When multiple threads are using the DbMpool handle concurrently)108
211.2 R 2.688(,o)-.65 G .188(nly a single thread may call the)-2.688 F
F1(DbM-)2.688 E(pool::close)108 223.2 Q F0(method.)2.5 E(The)108 240 Q
F1(DbMpool::close)2.53 E F0 .03(method thro)2.53 F .03(ws a)-.25 F F1
(DbException)2.53 E F0 .03(\(3\) or returns the v).24 F .03(alue of)-.25
F F1(errno)2.53 E F0 .03(on f)2.53 F .03(ailure and 0 on suc-)-.1 F
(cess.)108 252 Q F1(DbMpool::unlink)92 280.8 Q F0(The)108 292.8 Q F1
(DbMpool::unlink)3.146 E F0 .646(method destro)3.146 F .646
(ys the memory pool identi\214ed by the directory)-.1 F F1(dir)3.147 E
F0 3.147(,r).73 G(emo)-3.147 E .647(ving all \214les)-.15 F .733
(used to implement the memory pool.)108 304.8 R .732(\(The directory)
5.733 F F1(dir)3.232 E F0 .732(is not remo)3.232 F -.15(ve)-.15 G 3.232
(d.\) If).15 F .732(there are processes that ha)3.232 F -.15(ve)-.2 G
(called)108 316.8 Q F1(DbMpool::open)3.206 E F0 .706(without calling)
3.206 F F1(DbMpool::close)3.206 E F0 .707
(\(i.e., there are processes currently using the mem-)3.207 F .16
(ory pool\),)108 328.8 R F1(DbMpool::unlink)2.66 E F0 .16(will f)2.66 F
.16(ail without further action, unless the force \215ag is set, in which case)
-.1 F F1(DbM-)2.66 E(pool::unlink)108 340.8 Q F0 .376
(will attempt to remo)2.876 F .676 -.15(ve t)-.15 H .376
(he memory pool \214les re).15 F -.05(ga)-.15 G .376(rdless of an).05 F
2.876(yp)-.15 G .377(rocesses still using the mem-)-2.876 F(ory pool.)
108 352.8 Q .766(The result of attempting to forcibly destro)108 369.6 R
3.266(yt)-.1 G .766(he re)-3.266 F .766(gion when a process has the re)
-.15 F .765(gion open is unspeci\214ed.)-.15 F 1.232
(Processes using a shared memory re)108 381.6 R 1.232
(gion maintain an open \214le descriptor for it.)-.15 F 1.232
(On UNIX systems, the)6.232 F(re)108 393.6 Q .474(gion remo)-.15 F -.25
(va)-.15 G 2.974(ls).25 G .473(hould succeed and processes that ha)
-2.974 F .773 -.15(ve a)-.2 H .473(lready joined the re).15 F .473
(gion should continue to run in)-.15 F .097(the re)108 405.6 R .097
(gion without change, ho)-.15 F(we)-.25 E -.15(ve)-.25 G 2.597(rp).15 G
.098(rocesses attempting to join the memory pool will either f)-2.597 F
.098(ail or attempt)-.1 F .587(to create a ne)108 417.6 R 3.087(wr)-.25
G -.15(eg)-3.087 G 3.087(ion. On).15 F .586(other systems, e.g., WNT)
3.087 F 3.086(,w)-.74 G .586(here the)-3.086 F F1(unlink)3.086 E F0 .586
(\(2\) system call will f).67 F .586(ail if an)-.1 F 3.086(yp)-.15 G
(ro-)-3.086 E(cess has an open \214le descriptor for the \214le, the re)
108 429.6 Q(gion remo)-.15 E -.25(va)-.15 G 2.5(lw).25 G(ill f)-2.5 E
(ail.)-.1 E .66(In the case of catastrophic or system f)108 446.4 R .661
(ailure, database reco)-.1 F -.15(ve)-.15 G .661
(ry must be performed \(see).15 F F1(db_r)3.161 E(eco)-.37 E(very)-.1 E
F0 .661(\(1\) or).32 F 2.132(the DB_RECO)108 458.4 R 2.132
(VER \215ags to)-.5 F F1(DbEn)4.632 E(v::appinit)-.4 E F0 4.632
(\(3\)\). Alternati).68 F -.15(ve)-.25 G(ly).15 E 4.632(,i)-.65 G 4.632
(fr)-4.632 G(eco)-4.632 E -.15(ve)-.15 G 2.131
(ry is not required because no).15 F .267
(database state is maintained across f)108 470.4 R .267
(ailures, it is possible to clean up a memory pool by remo)-.1 F .268
(ving all of the)-.15 F .187
(\214les in the directory speci\214ed to the)108 482.4 R F1
(DbMpool::open)2.687 E F0 .187(method, as memory pool \214les are ne)
2.687 F -.15(ve)-.25 G 2.687(rc).15 G .187(reated in an)-2.687 F(y)-.15
E 1.691(directory other than the one speci\214ed to)108 494.4 R F1
(DbMpool::open)4.191 E F0 6.691(.N).24 G 1.691(ote, ho)-6.691 F(we)-.25
E -.15(ve)-.25 G 2.491 -.4(r, t).15 H 1.692
(hat this has the potential to).4 F(remo)108 506.4 Q .3 -.15(ve \214)
-.15 H(les created by the other DB subsystems in this database en).15 E
(vironment.)-.4 E(The)108 523.2 Q F1(DbMpool::unlink)3.452 E F0 .952
(method thro)3.452 F .952(ws a)-.25 F F1(DbException)3.451 E F0 .951
(\(3\) or returns the v).24 F .951(alue of)-.25 F F1(errno)3.451 E F0
.951(on f)3.451 F .951(ailure and 0 on)-.1 F(success.)108 535.2 Q(The)
108 552 Q F1(DbMpool::db_r)2.992 E -.4(eg)-.37 G(ister).4 E F0 .492
(method thro)2.992 F .492(ws a)-.25 F F1(DbException)2.992 E F0 .492
(\(3\) or returns the v).24 F .492(alue of)-.25 F F1(errno)2.992 E F0
.492(on f)2.992 F .492(ailure and 0)-.1 F(on success.)108 564 Q F1
(DbMpool::tric)92 580.8 Q(kle)-.2 E F0(The)108 592.8 Q F1(DbMpool::tric)
3.011 E(kle)-.2 E F0 .511(method ensures that at least)3.011 F F1(pct)
3.011 E F0 .51(percent of the pages in the shared memory pool are)3.011
F .844(clean by writing dirty pages to their backing \214les.)108 604.8
R .844(If the)5.844 F F1(nwr)3.344 E(otep)-.45 E F0(ar)3.344 E .844
(gument is non-NULL, the number of)-.18 F(pages that were written to reach the correct percentage is returned in the memory location it references.)
108 616.8 Q .528(The purpose of the)108 633.6 R F1(DbMpool::tric)3.028 E
(kle)-.2 E F0 .528
(method is to enable a memory pool manager to ensure that a page is)
3.028 F(al)108 645.6 Q -.1(wa)-.1 G(ys a).1 E -.25(va)-.2 G
(ilable for reading in ne).25 E 2.5(wi)-.25 G(nformation without ha)-2.5
E(ving to w)-.2 E(ait for a write.)-.1 E(The)108 662.4 Q F1
(DbMpool::tric)3.429 E(kle)-.2 E F0 .929(method thro)3.429 F .929(ws a)
-.25 F F1(DbException)3.429 E F0 .929(\(3\) or returns the v).24 F .929
(alue of)-.25 F F1(errno)3.43 E F0 .93(on f)3.43 F .93(ailure and 0 on)
-.1 F(success.)108 674.4 Q F1(DbMpool::sync)92 691.2 Q F0(The)108 703.2
Q F1(DbMpool::sync)3.915 E F0 1.415(method ensures that all the modi\214ed pages in the pool with log sequence numbers)
3.915 F(\(LSNs\) less than the)108 715.2 Q F1(lsn)2.5 E F0(ar)2.5 E
(gument are written to disk.)-.18 E(No)268.795 768 Q -.15(ve)-.15 G
(mber 2, 1997).15 E(3)191.795 E EP
%%Page: 4 4
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 364.4(DbMpool\(3\) DbMpool\(3\))72 48 R(The)108
84 Q/F1 10/Times-Italic@0 SF(DbMpool::sync)2.618 E F0 .118(method thro)
2.618 F .118(ws a)-.25 F F1(DbException)2.619 E F0 .119
(\(3\) or returns the v).24 F .119(alue of)-.25 F F1(errno)2.619 E F0
.119(on f)2.619 F .119(ailure, 0 on success,)-.1 F 1.996
(and DB_INCOMPLETE if there were pages which need to be written b)108 96
R 1.995(ut which)-.2 F F1(DbMpool::sync)4.495 E F0 -.1(wa)4.495 G(s).1 E
.668(unable to write immediately)108 108 R 5.668(.I)-.65 G 3.168(na)
-5.668 G .668(ddition, if)-3.168 F F1(DbMpool::sync)3.168 E F0 .668
(returns success, the v)3.168 F .668(alue of)-.25 F F1(lsn)3.168 E F0
.669(will be o)3.168 F -.15(ve)-.15 G -.2(r-).15 G(written with the lar)
108 120 Q(gest LSN from an)-.18 E 2.5(yp)-.15 G(age which w)-2.5 E
(as written by)-.1 E F1(DbMpool::sync)2.5 E F0(to satisfy this request.)
2.5 E .195(The purpose of the)108 136.8 R F1(DbMpool::sync)2.695 E F0
.194(method is to enable a transaction manager to ensure, as part of a check-)
2.695 F .601(point, that all pages modi\214ed by a certain time ha)108
148.8 R .902 -.15(ve b)-.2 H .602(een written to disk.).15 F -.15(Pa)
5.602 G .602(ges in the pool which cannot).15 F .459(be written back to disk immediately \(e.g., are currently pinned\) are written to disk as soon as it is possible)
108 160.8 R .306(to do so.)108 172.8 R .306(The e)5.306 F .306
(xpected beha)-.15 F .306
(vior of the transaction manager is to call the)-.2 F F1(DbMpool::sync)
2.807 E F0 .307(method and then,)2.807 F .112(if the return indicates that some pages could not be written immediately)
108 184.8 R 2.612(,t)-.65 G 2.612(ow)-2.612 G .112
(ait brie\215y and retry ag)-2.712 F .112(ain with)-.05 F
(the same LSN until the)108 196.8 Q F1(DbMpool::sync)2.5 E F0
(method returns that all pages ha)2.5 E .3 -.15(ve b)-.2 H(een written.)
.15 E 1.816 -.8(To s)108 213.6 T .216(upport the).8 F F1(DbMpool::sync)
2.717 E F0(functionality)2.717 E 2.717(,i)-.65 G 2.717(ti)-2.717 G 2.717
(sn)-2.717 G .217(ecessary that the pool functions kno)-2.717 F 2.717
(wt)-.25 G .217(he location of the)-2.717 F 1.146
(LSN on the page for each \214le type.)108 225.6 R 1.146(This location should be speci\214ed when the \214le is opened using the)
6.146 F F1(DbMpoolF)108 237.6 Q(ile::open)-.45 E F0 2.5(method. \(Note,)
2.5 F(it is not required that the LSN be aligned on the page in an)2.5 E
2.5(yw)-.15 G(ay)-2.6 E(.\))-.65 E F1(DbMpool::stat)92 254.4 Q F0(The)
108 266.4 Q F1(DbMpool::stat)4.308 E F0 1.808(method creates statistical structures and copies pointers to them into user)
4.308 F(-speci\214ed)-.2 E .83(memory locations.)108 278.4 R .829(The statistics include the number of \214les participating in the pool, the acti)
5.83 F 1.129 -.15(ve p)-.25 H .829(ages in).15 F
(the pool, and information as to ho)108 290.4 Q 2.5(we)-.25 G -.25(ff)
-2.5 G(ecti).25 E .3 -.15(ve t)-.25 H(he cache has been.).15 E .048
(Statistical structures are created in allocated memory)108 307.2 R
5.049(.I)-.65 G(f)-5.049 E F1(db_malloc)2.549 E F0 .049
(is non-NULL, it is called to allocate the)2.549 F(memory)108 319.2 Q
2.83(,o)-.65 G .33(therwise, the library function)-2.83 F F1(malloc)
2.829 E F0 .329(\(3\) is used.).31 F .329(The function)5.329 F F1
(db_malloc)2.829 E F0 .329(must match the calling)2.829 F(con)108 331.2
Q -.15(ve)-.4 G 2.03(ntions of the).15 F F1(malloc)4.53 E F0 2.031
(\(3\) library routine.).31 F(Re)7.031 E -.05(ga)-.15 G 2.031
(rdless, the caller is responsible for deallocating the).05 F .708
(returned memory)108 343.2 R 5.708(.T)-.65 G 3.208(od)-6.508 G .708
(eallocate the returned memory)-3.208 F 3.208(,f)-.65 G .707
(ree each returned memory pointer; pointers inside)-3.208 F
(the memory do not need to be indi)108 355.2 Q(vidually freed.)-.25 E
(If)108 372 Q F1(gsp)2.69 E F0 .191(is non-NULL, the global statistics for the memory pool object are copied into the memory location it)
2.69 F 5.399(references. The)108 384 R 2.898
(global statistics are stored in a structure of type DB_MPOOL_ST)5.399 F
5.118 -1.11(AT \()-.93 H -1.95(typedef ')1.11 F 5.398(di)-.5 G(n)-5.398
E(<db_cxx.h>\).)108 396 Q(The follo)108 412.8 Q(wing DB_MPOOL_ST)-.25 E
2.22 -1.11(AT \214)-.93 H(elds will be \214lled in:)1.11 E
(size_t st_cachesize;)108 429.6 Q(Cache size in bytes.)133 441.6 Q
(unsigned long st_cache_hit;)108 453.6 Q
(Requested pages found in the cache.)133 465.6 Q
(unsigned long st_cache_miss;)108 477.6 Q
(Requested pages not found in the cache.)133 489.6 Q
(unsigned long st_map;)108 501.6 Q 1.688
(Requested pages mapped into the process' address space \(there is no a)
133 513.6 R -.25(va)-.2 G 1.689(ilable information as to).25 F .673
(whether or not this request caused disk I/O, although e)133 525.6 R
.672(xamining the application page f)-.15 F .672(ault rate may)-.1 F
(be helpful\).)133 537.6 Q(unsigned long st_page_create;)108 549.6 Q
-.15(Pa)133 561.6 S(ges created in the cache.).15 E
(unsigned long st_page_in;)108 573.6 Q -.15(Pa)133 585.6 S
(ges read into the cache.).15 E(unsigned long st_page_out;)108 597.6 Q
-.15(Pa)133 609.6 S(ges written from the cache to the backing \214le.)
.15 E(unsigned long st_ro_e)108 621.6 Q(vict;)-.25 E
(Clean pages forced from the cache.)133 633.6 Q(unsigned long st_rw_e)
108 645.6 Q(vict;)-.25 E(Dirty pages forced from the cache.)133 657.6 Q
(unsigned long st_hash_b)108 669.6 Q(uck)-.2 E(ets;)-.1 E
(Number of hash b)133 681.6 Q(uck)-.2 E(ets in b)-.1 E(uf)-.2 E
(fer hash table.)-.25 E(unsigned long st_hash_searches;)108 693.6 Q -.8
(To)133 705.6 S(tal number of b).8 E(uf)-.2 E(fer hash table lookups.)
-.25 E(No)268.795 768 Q -.15(ve)-.15 G(mber 2, 1997).15 E(4)191.795 E EP
%%Page: 5 5
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 364.4(DbMpool\(3\) DbMpool\(3\))72 48 R
(unsigned long st_hash_longest;)108 84 Q(The longest chain e)133 96 Q
-.15(ve)-.25 G 2.5(re).15 G(ncountered in b)-2.5 E(uf)-.2 E
(fer hash table lookups.)-.25 E(unsigned long st_hash_e)108 108 Q
(xamined;)-.15 E -.8(To)133 120 S(tal number of hash elements tra).8 E
-.15(ve)-.2 G(rsed during hash table lookups.).15 E
(unsigned long st_page_clean;)108 132 Q
(Clean pages currently in the cache.)133 144 Q
(unsigned long st_page_dirty;)108 156 Q
(Dirty pages currently in the cache.)133 168 Q
(unsigned long st_page_trickle;)108 180 Q(Dirty pages written using the)
133 192 Q/F1 10/Times-Italic@0 SF(memp_tric)2.5 E(kle)-.2 E F0(interf)
2.5 E(ace.)-.1 E(If)108 208.8 Q F1(fsp)2.65 E F0 .15
(is non-NULL, a pointer to a NULL-terminated v)2.65 F .151
(ariable length array of statistics for indi)-.25 F .151
(vidual \214les in)-.25 F .683
(the memory pool is copied into the memory location it references.)108
220.8 R .683(If no indi)5.683 F .683(vidual \214les currently e)-.25 F
.682(xist in)-.15 F(the memory pool,)108 232.8 Q F1(fsp)2.5 E F0
(will be set to NULL.)2.5 E .228(The per)108 249.6 R .228
(-\214le statistics are stored in structures of type DB_MPOOL_FST)-.2 F
2.449 -1.11(AT \()-.93 H -1.95(typedef ')1.11 F 2.729(di)-.5 G 2.729(n<)
-2.729 G 2.729(db_cxx.h>\). The)-2.729 F(follo)108 261.6 Q 1.186
(wing DB_MPOOL_FST)-.25 F 3.406 -1.11(AT \214)-.93 H 1.185(elds will be \214lled in for each \214le in the pool, i.e., each element of the)
1.11 F(array:)108 273.6 Q(char *\214le_name;)108 290.4 Q
(The name of the \214le.)133 302.4 Q(size_t st_pagesize;)108 314.4 Q
-.15(Pa)133 326.4 S(ge size in bytes.).15 E(unsigned long st_cache_hit;)
108 338.4 Q(Requested pages found in the cache.)133 350.4 Q
(unsigned long st_cache_miss;)108 362.4 Q
(Requested pages not found in the cache.)133 374.4 Q
(unsigned long st_map;)108 386.4 Q
(Requested pages mapped into the process' address space.)133 398.4 Q
(unsigned long st_page_create;)108 410.4 Q -.15(Pa)133 422.4 S
(ges created in the cache.).15 E(unsigned long st_page_in;)108 434.4 Q
-.15(Pa)133 446.4 S(ges read into the cache.).15 E
(unsigned long st_page_out;)108 458.4 Q -.15(Pa)133 470.4 S
(ges written from the cache to the backing \214le.).15 E(The)108 487.2 Q
F1(DbMpool::stat)2.888 E F0 .388(method thro)2.888 F .389(ws a)-.25 F F1
(DbException)2.889 E F0 .389(\(3\) or returns the v).24 F .389(alue of)
-.25 F F1(errno)2.889 E F0 .389(on f)2.889 F .389(ailure and 0 on suc-)
-.1 F(cess.)108 499.2 Q/F2 9/Times-Bold@0 SF(ENVIR)72 516 Q(ONMENT V)
-.27 E(ARIABLES)-1.215 E F0(The follo)108 528 Q(wing en)-.25 E
(vironment v)-.4 E(ariables af)-.25 E(fect the beha)-.25 E(vior of)-.2 E
F1(DbMpoolF)2.5 E(ile)-.45 E F0(:).18 E(DB_HOME)108 544.8 Q .573(If the)
133 556.8 R F1(dben)3.073 E(v)-.4 E F0(ar)3.073 E .573(gument to)-.18 F
F1(DbMpool::open)3.073 E F0 -.1(wa)3.073 G 3.072(si).1 G .572
(nitialized using)-3.072 F F1(db_appinit)3.072 E F0 3.072(,t).68 G .572
(he en)-3.072 F .572(vironment v)-.4 F(ariable)-.25 E .508(DB_HOME may be used as the path of the database home for the interpretation of the)
133 568.8 R F1(dir)3.009 E F0(ar)3.009 E(gument)-.18 E(to)133 580.8 Q F1
(DbMpool::open)2.5 E F0 2.5(,a).24 G 2.5(sd)-2.5 G(escribed in)-2.5 E F1
(db_appinit)2.5 E F0(\(3\).).68 E(TMPDIR)108 597.6 Q .195(If the)133
609.6 R F1(dben)2.695 E(v)-.4 E F0(ar)2.695 E .195(gument to)-.18 F F1
(DbMpool::open)2.695 E F0 -.1(wa)2.695 G 2.695(sN).1 G .195
(ULL or not initialized using)-2.695 F F1(db_appinit)2.695 E F0 2.695
(,t).68 G .195(he en)-2.695 F(viron-)-.4 E 2.349(ment v)133 621.6 R
2.349(ariable TMPDIR may be used as the directory in which to create the memory pool, as)
-.25 F(described in the)133 633.6 Q F1(DbMpool::open)2.5 E F0
(section abo)2.5 E -.15(ve)-.15 G(.).15 E F2(ERR)72 650.4 Q(ORS)-.27 E
F0 .05(Methods mark)108 662.4 R .05(ed as returning)-.1 F F1(errno)2.55
E F0 .049(will, by def)2.55 F .049(ault, thro)-.1 F 2.549(wa)-.25 G
2.549(ne)-2.549 G .049(xception that encapsulates the error informa-)
-2.699 F 2.5(tion. The)108 674.4 R(def)2.5 E(ault error beha)-.1 E
(vior can be changed, see)-.2 E F1(DbException)2.5 E F0(\(3\).).24 E
(The)108 691.2 Q F1(DbMpool::open)3.828 E F0 1.328(method may f)3.828 F
1.328(ail and thro)-.1 F 3.828(wa)-.25 G F1(DbException)A F0 1.328
(\(3\) or return).24 F F1(errno)3.828 E F0 1.328(for an)3.828 F 3.828
(yo)-.15 G 3.829(ft)-3.828 G 1.329(he errors)-3.829 F
(speci\214ed for the follo)108 703.2 Q
(wing DB and library functions: DBmemp->pgin\(3\), DBmemp->pgout\(3\),)
-.25 E(DbLog::compare\(3\), DbLog::\215ush\(3\), DbMpool::close\(3\), DbMpool::unlink\(3\), close\(2\), db_v)
108 715.2 Q(ersion\(3\),)-.15 E(fcntl\(2\), f)108 727.2 Q
(\215ush\(3\), fsync\(2\), lseek\(2\), malloc\(3\), memcmp\(3\), memcp)
-.25 E(y\(3\), memset\(3\), mmap\(2\),)-.1 E(No)268.795 768 Q -.15(ve)
-.15 G(mber 2, 1997).15 E(5)191.795 E EP
%%Page: 6 6
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 364.4(DbMpool\(3\) DbMpool\(3\))72 48 R(munmap\(2\), open\(2\), sig\214llset\(3\), sigprocmask\(2\), stat\(2\), strcp)
108 84 Q(y\(3\), strdup\(3\), strerror\(3\), strlen\(3\),)-.1 E
(time\(3\), unlink\(2\), and write\(2\).)108 96 Q .78(In addition, the)
108 112.8 R/F1 10/Times-Italic@0 SF(DbMpool::open)3.28 E F0 .78
(method may f)3.28 F .779(ail and thro)-.1 F 3.279(wa)-.25 G F1
(DbException)A F0 .779(\(3\) or return).24 F F1(errno)3.279 E F0 .779
(for the fol-)3.279 F(lo)108 124.8 Q(wing conditions:)-.25 E([EA)108
141.6 Q(GAIN])-.4 E(The shared memory re)133 153.6 Q(gion w)-.15 E
(as lock)-.1 E(ed and \(repeatedly\) una)-.1 E -.25(va)-.2 G(ilable.).25
E([EINV)108 170.4 Q(AL])-1.35 E(An in)133 182.4 Q -.25(va)-.4 G
(lid \215ag v).25 E(alue or parameter w)-.25 E(as speci\214ed.)-.1 E
(The DB_THREAD \215ag w)133 206.4 Q(as speci\214ed and spinlocks are not implemented for this architecture.)
-.1 E 2.5(AN)133 230.4 S(ULL pathname w)-2.5 E
(as speci\214ed without the DB_MPOOL_PRIV)-.1 E -1.11(AT)-1.35 G 2.5
<458d>1.11 G(ag.)-2.5 E(The speci\214ed cache size w)133 254.4 Q
(as impossibly small.)-.1 E(The)108 271.2 Q F1(DbMpool::close)3.758 E F0
1.258(method may f)3.758 F 1.259(ail and thro)-.1 F 3.759(wa)-.25 G F1
(DbException)A F0 1.259(\(3\) or return).24 F F1(errno)3.759 E F0 1.259
(for an)3.759 F 3.759(yo)-.15 G 3.759(ft)-3.759 G 1.259(he errors)-3.759
F(speci\214ed for the follo)108 283.2 Q(wing DB and library functions: DbMpoolFile::close\(3\), close\(2\), fcntl\(2\), f)
-.25 E(\215ush\(3\),)-.25 E(munmap\(2\), and strerror\(3\).)108 295.2 Q
(The)108 312 Q F1(DbMpool::unlink)3.48 E F0 .98(method may f)3.48 F .98
(ail and thro)-.1 F 3.481(wa)-.25 G F1(DbException)A F0 .981
(\(3\) or return).24 F F1(errno)3.481 E F0 .981(for an)3.481 F 3.481(yo)
-.15 G 3.481(ft)-3.481 G .981(he errors)-3.481 F
(speci\214ed for the follo)108 324 Q
(wing DB and library functions: close\(2\), fcntl\(2\), f)-.25 E
(\215ush\(3\), malloc\(3\), memcp)-.25 E(y\(3\),)-.1 E(memset\(3\), mmap\(2\), munmap\(2\), open\(2\), sig\214llset\(3\), sigprocmask\(2\), stat\(2\), strcp)
108 336 Q(y\(3\), strdup\(3\),)-.1 E
(strerror\(3\), strlen\(3\), and unlink\(2\).)108 348 Q .432
(In addition, the)108 364.8 R F1(DbMpool::unlink)2.932 E F0 .432
(method may f)2.932 F .432(ail and thro)-.1 F 2.932(wa)-.25 G F1
(DbException)A F0 .432(\(3\) or return).24 F F1(errno)2.932 E F0 .431
(for the fol-)2.932 F(lo)108 376.8 Q(wing conditions:)-.25 E([EB)108
393.6 Q(USY])-.1 E(The shared memory re)133 405.6 Q(gion w)-.15 E
(as in use and the force \215ag w)-.1 E(as not set.)-.1 E(The)108 422.4
Q F1(DbMpool::db_r)2.985 E -.4(eg)-.37 G(ister).4 E F0 .485
(method may f)2.985 F .485(ail and thro)-.1 F 2.986(wa)-.25 G F1
(DbException)A F0 .486(\(3\) or return).24 F F1(errno)2.986 E F0 .486
(for an)2.986 F 2.986(yo)-.15 G 2.986(ft)-2.986 G .486(he er)-2.986 F(-)
-.2 E(rors speci\214ed for the follo)108 434.4 Q
(wing DB and library functions: fcntl\(2\), and malloc\(3\).)-.25 E(The)
108 451.2 Q F1(DbMpool::tric)3.459 E(kle)-.2 E F0 .959(method may f)
3.459 F .959(ail and thro)-.1 F 3.459(wa)-.25 G F1(DbException)A F0 .959
(\(3\) or return).24 F F1(errno)3.459 E F0 .958(for an)3.459 F 3.458(yo)
-.15 G 3.458(ft)-3.458 G .958(he errors)-3.458 F
(speci\214ed for the follo)108 463.2 Q
(wing DB and library functions: DBmemp->pgin\(3\), DBmemp->pgout\(3\),)
-.25 E
(DbLog::compare\(3\), DbLog::\215ush\(3\), close\(2\), fcntl\(2\), f)108
475.2 Q(\215ush\(3\), fsync\(2\), lseek\(2\), malloc\(3\),)-.25 E
(memcmp\(3\), memcp)108 487.2 Q(y\(3\), memset\(3\), mmap\(2\), open\(2\), sig\214llset\(3\), sigprocmask\(2\), stat\(2\), strcp)
-.1 E(y\(3\),)-.1 E(strdup\(3\), strerror\(3\), strlen\(3\), time\(3\), unlink\(2\), and write\(2\).)
108 499.2 Q .41(In addition, the)108 516 R F1(DbMpool::tric)2.91 E(kle)
-.2 E F0 .41(method may f)2.91 F .41(ail and thro)-.1 F 2.91(wa)-.25 G
F1(DbException)A F0 .41(\(3\) or return).24 F F1(errno)2.91 E F0 .41
(for the fol-)2.91 F(lo)108 528 Q(wing conditions:)-.25 E([EINV)108
544.8 Q(AL])-1.35 E(An in)133 556.8 Q -.25(va)-.4 G(lid \215ag v).25 E
(alue or parameter w)-.25 E(as speci\214ed.)-.1 E(The)108 573.6 Q F1
(DbMpool::sync)3.932 E F0 1.432(method may f)3.932 F 1.432(ail and thro)
-.1 F 3.932(wa)-.25 G F1(DbException)A F0 1.433(\(3\) or return).24 F F1
(errno)3.933 E F0 1.433(for an)3.933 F 3.933(yo)-.15 G 3.933(ft)-3.933 G
1.433(he errors)-3.933 F(speci\214ed for the follo)108 585.6 Q
(wing DB and library functions: DBmemp->pgin\(3\), DBmemp->pgout\(3\),)
-.25 E
(DbLog::compare\(3\), DbLog::\215ush\(3\), close\(2\), fcntl\(2\), f)108
597.6 Q(\215ush\(3\), fsync\(2\), lseek\(2\), malloc\(3\),)-.25 E
(memcmp\(3\), memcp)108 609.6 Q(y\(3\), memset\(3\), mmap\(2\), open\(2\), qsort\(3\), realloc\(3\), sig\214llset\(3\), sigprocmask\(2\),)
-.1 E(stat\(2\), strcp)108 621.6 Q(y\(3\), strdup\(3\), strerror\(3\), strlen\(3\), time\(3\), unlink\(2\), and write\(2\).)
-.1 E .883(In addition, the)108 638.4 R F1(DbMpool::sync)3.383 E F0 .884
(method may f)3.383 F .884(ail and thro)-.1 F 3.384(wa)-.25 G F1
(DbException)A F0 .884(\(3\) or return).24 F F1(errno)3.384 E F0 .884
(for the fol-)3.384 F(lo)108 650.4 Q(wing conditions:)-.25 E([EINV)108
667.2 Q(AL])-1.35 E(An in)133 679.2 Q -.25(va)-.4 G(lid \215ag v).25 E
(alue or parameter w)-.25 E(as speci\214ed.)-.1 E(The)133 703.2 Q F1
(DbMpool::sync)2.5 E F0(method w)2.5 E(as called without logging ha)-.1
E(ving been initialized in the en)-.2 E(vironment.)-.4 E(The)108 720 Q
F1(DbMpool::stat)2.656 E F0 .156(method may f)2.656 F .156(ail and thro)
-.1 F 2.655(wa)-.25 G F1(DbException)A F0 .155(\(3\) or return).24 F F1
(errno)2.655 E F0 .155(for an)2.655 F 2.655(yo)-.15 G 2.655(ft)-2.655 G
.155(he errors spec-)-2.655 F(No)268.795 768 Q -.15(ve)-.15 G
(mber 2, 1997).15 E(6)191.795 E EP
%%Page: 7 7
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 364.4(DbMpool\(3\) DbMpool\(3\))72 48 R
(i\214ed for the follo)108 84 Q
(wing DB and library functions: fcntl\(2\), malloc\(3\), memcp)-.25 E
(y\(3\), and strlen\(3\).)-.1 E/F1 9/Times-Bold@0 SF(SEE ALSO)72 100.8 Q
/F2 10/Times-Italic@0 SF(db_ar)108 112.8 Q -.15(ch)-.37 G(ive).15 E F0
(\(1\),).18 E F2(db_c)2.5 E(hec)-.15 E(kpoint)-.2 E F0(\(1\),).68 E F2
(db_deadloc)2.5 E(k)-.2 E F0(\(1\),).67 E F2(db_dump)2.5 E F0(\(1\),).19
E F2(db_load)2.5 E F0(\(1\),).77 E F2(db_r)2.5 E(eco)-.37 E(ver)-.1 E F0
(\(1\),).73 E F2(db_stat)2.5 E F0(\(1\),).68 E F2(db_intr)108 124.8 Q(o)
-.45 E F0(\(3\),).18 E F2(db_jump)2.5 E F0(\(3\),).19 E F2(db_thr)2.5 E
(ead)-.37 E F0(\(3\),).77 E F2(Db)2.5 E F0(\(3\),).23 E F2(Dbc)2.5 E F0
(\(3\),).31 E F2(DbEn)2.5 E(v)-.4 E F0(\(3\),).32 E F2(DbException)2.5 E
F0(\(3\),).24 E F2(DbInfo)2.5 E F0(\(3\),).18 E F2(DbLoc)2.5 E(k)-.2 E
F0(\(3\),).67 E F2(DbLoc)108 136.8 Q(ktab)-.2 E F0(\(3\),).23 E F2(DbLo)
2.5 E(g)-.1 E F0(\(3\),).22 E F2(DbLsn)2.5 E F0(\(3\),).24 E F2(DbMpool)
2.5 E F0(\(3\),).51 E F2(DbMpoolF)2.5 E(ile)-.45 E F0(\(3\),).18 E F2
(Dbt)2.5 E F0(\(3\),).68 E F2(DbTxn)2.5 E F0(\(3\),).24 E F2(DbTxnMgr)
2.5 E F0(\(3\)).73 E(No)268.795 768 Q -.15(ve)-.15 G(mber 2, 1997).15 E
(7)191.795 E EP
%%Trailer
end
%%EOF
