%!PS-Adobe-3.0
%%Creator: groff version 1.10
%%CreationDate: Mon Nov  3 11:30:04 1997
%%DocumentNeededResources: font Times-Roman
%%+ font Times-Bold
%%+ font Times-Italic
%%DocumentSuppliedResources: procset grops 1.10 0
%%Pages: 5
%%PageOrder: Ascend
%%Orientation: Portrait
%%EndComments
%%BeginProlog
%%BeginResource: procset grops 1.10 0
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/MF{
findfont
[5 2 roll
0 3 1 roll
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}bind def
/DA{
newpath arcn stroke
}bind def
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
/DL{
SN
moveto
SN
lineto stroke
}bind def
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
/FL{
currentgray exch setgray fill setgray
}bind def
/BL/fill load def
/LW/setlinewidth load def
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
}bind def
/PEND{
clear
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%IncludeResource: font Times-Roman
%%IncludeResource: font Times-Bold
%%IncludeResource: font Times-Italic
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 792 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron/Zcaron
/scaron/zcaron/Ydieresis/trademark/quotesingle/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Times-Italic@0 ENC0/Times-Italic RE/Times-Bold@0 ENC0/Times-Bold RE
/Times-Roman@0 ENC0/Times-Roman RE
%%EndProlog
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 333.28(DbMpoolFile\(3\) DbMpoolFile\(3\))72 48 R
/F1 9/Times-Bold@0 SF -.18(NA)72 84 S(ME).18 E F0
(DbMpoolFile \255 shared memory b)108 96 Q(uf)-.2 E(fer pool)-.25 E F1
(SYNOPSIS)72 112.8 Q/F2 10/Times-Bold@0 SF(#include <db_cxx.h>)108 124.8
Q(static int)108 148.8 Q
(DbMpoolFile::open\(DbMpool *mp, char *\214le, int ftype, int \215ags,)
108 160.8 Q(int mode, size_t pagesize, int lsn_offset, Dbt *pgcookie,)
158 172.8 Q(u_int8_t *uid, DbMpoolFile **mpf\);)158 184.8 Q(int)108
208.8 Q(DbMpoolFile::close\(\);)108 220.8 Q(int)108 244.8 Q
(DbMpoolFile::get\(db_pgno_t *pgnoaddr)108 256.8 Q 2.5(,i)-.92 G
(nt \215ags, v)-2.5 E(oid **pagep\);)-.1 E(int)108 280.8 Q
(DbMpoolFile::put\(v)108 292.8 Q(oid *pgaddr)-.1 E 2.5(,i)-.92 G
(nt \215ags\);)-2.5 E(int)108 316.8 Q(DbMpoolFile::set\(v)108 328.8 Q
(oid *pgaddr)-.1 E 2.5(,i)-.92 G(nt \215ags\);)-2.5 E(int)108 352.8 Q
(DbMpoolFile::sync\(\);)108 364.8 Q F1(DESCRIPTION)72 381.6 Q F0 1.02
(The DB library is a f)108 393.6 R 1.019(amily of classes that pro)-.1 F
1.019(vides a modular programming interf)-.15 F 1.019
(ace to transactions and)-.1 F 1.377(record-oriented \214le access.)108
405.6 R 1.378(The library includes support for transactions, locking, logging and \214le page)
6.377 F .443(caching, as well as v)108 417.6 R .443(arious inde)-.25 F
-.15(xe)-.15 G 2.943(da).15 G .442(ccess methods.)-2.943 F(Man)5.442 E
2.942(yo)-.15 G 2.942(ft)-2.942 G .442
(he classes \(e.g., the \214le page caching class\))-2.942 F .4(are useful independent of the other DB classes, although some classes are e)
108 429.6 R .4(xplicitly based on other classes)-.15 F
(\(e.g., transactions and logging\).)108 441.6 Q -.15(Fo)5 G 2.5(rag).15
G(eneral description of the DB package, see)-2.5 E/F3 10/Times-Italic@0
SF(db_intr)2.5 E(o)-.45 E F0(\(3\).).18 E
(This manual page describes the speci\214c details of the per)108 458.4
Q(-\214le memory pool interf)-.2 E(ace.)-.1 E(The)108 475.2 Q F3
(DbMpool)2.7 E F0 .2(\(3\) and).51 F F3(DbMpoolF)2.7 E(ile)-.45 E F0 .2
(\(3\) classes are the library interf).18 F .2(ace intended to pro)-.1 F
.2(vide general-purpose,)-.15 F 1.033(page-oriented b)108 487.2 R(uf)-.2
E 1.033(fer management of one or more \214les.)-.25 F 1.033
(While designed to w)6.033 F 1.033(ork with the other Db func-)-.1 F
1.518(tions, these functions are also useful for more general purposes.)
108 499.2 R 1.518(The memory pools \()6.518 F F3(DbMpool::)A F0 -.55('s)
C 4.017(\)a).55 G(re)-4.017 E .117
(referred to in this document as simply `)108 511.2 R(`pools')-.74 E
2.617('. Pools)-.74 F .118(may be shared between processes.)2.618 F .118
(Pools are usually)5.118 F 1.461
(\214lled by pages from one or more \214les \()108 523.2 R F3(DbMpoolF)A
(ile)-.45 E F0 -.55('s).18 G 3.961(\). P).55 F 1.46
(ages in the pool are replaced in LR)-.15 F 3.96(U\()-.4 G(least-)-3.96
E 1.971(recently-used\) order)108 535.2 R 4.471(,w)-.4 G 1.971
(ith each ne)-4.471 F 4.471(wp)-.25 G 1.971
(age replacing the page that has been unused the longest.)-4.471 F -.15
(Pa)6.972 G(ges).15 E(retrie)108 547.2 Q -.15(ve)-.25 G 2.52(df).15 G
.02(rom the pool using)-2.52 F F3(DbMpoolF)2.52 E(ile::g)-.45 E(et)-.1 E
F0 .02(are `)2.52 F(`pinned')-.74 E 2.52('i)-.74 G 2.52(nt)-2.52 G .02
(he pool, by def)-2.52 F .02(ault, until the)-.1 F 2.52(ya)-.15 G .02
(re returned)-2.52 F(to the pool')108 559.2 Q 2.5(sc)-.55 G
(ontrol using the)-2.5 E F3(DbMpoolF)2.5 E(ile::put)-.45 E F0(method.)
2.5 E F3(DbMpoolF)92 576 Q(ile::open)-.45 E F0(The)108 588 Q F3
(DbMpoolF)2.722 E(ile::open)-.45 E F0 .223
(method opens a \214le in the pool speci\214ed by the)2.722 F F3
(DbMpool::)2.723 E F0(ar)2.723 E .223(gument, cop)-.18 F .223(ying the)
-.1 F(DbMpoolFile pointer representing it into the memory location referenced by)
108 600 Q F3(mpf)2.5 E F0(.)1.96 E(The)108 616.8 Q F3(\214le)2.967 E F0
(ar)2.967 E .467(gument is the name of the \214le to be opened.)-.18 F
(If)5.466 E F3(\214le)2.966 E F0 .466(is NULL, a pri)2.966 F -.25(va)
-.25 G .466(te \214le is created that cannot).25 F(be shared with an)108
628.8 Q 2.5(yo)-.15 G(ther process or thread.)-2.5 E(The)108 645.6 Q F3
(ftype)2.711 E F0(ar)2.711 E .211(gument should be the same as a)-.18 F
F3(ftype)2.711 E F0(ar)2.711 E .212(gument pre)-.18 F .212
(viously speci\214ed to the)-.25 F F3(DbMpool::db_r)2.712 E -.4(eg)-.37
G(is-).4 E(ter)108 657.6 Q F0 .099
(method, unless no input or output processing of the \214le')2.599 F
2.598(sp)-.55 G .098(ages are necessary)-2.598 F 2.598(,i)-.65 G 2.598
(nw)-2.598 G .098(hich case it should be)-2.598 F 2.5(0. \(See)108 669.6
R(the description of the)2.5 E F3(DbMpool::db_r)2.5 E -.4(eg)-.37 G
(ister).4 E F0(method for more information.\))2.5 E(The)108 686.4 Q F3
<8d61>3.76 E(gs)-.1 E F0(and)3.76 E F3(mode)3.76 E F0(ar)3.76 E 1.26
(guments specify ho)-.18 F 3.761<778c>-.25 G 1.261
(les will be opened and/or created when the)-3.761 F 3.761(yd)-.15 G
(on')-3.761 E 3.761(ta)-.18 G(lready)-3.761 E -.15(ex)108 698.4 S 2.5
(ist. The).15 F(\215ags v)2.5 E(alue is speci\214ed by)-.25 E F2(or)2.5
E F0('ing together one or more of the follo)A(wing v)-.25 E(alues:)-.25
E(September 25, 1997)265.865 768 Q(1)188.865 E EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 333.28(DbMpoolFile\(3\) DbMpoolFile\(3\))72 48 R
(DB_CREA)108 84 Q(TE)-1.11 E .484(Create an)133 96 R 2.984(yu)-.15 G
.483(nderlying \214les, as necessary)-2.984 F 5.483(.I)-.65 G 2.983(ft)
-5.483 G .483(he \214les do not already e)-2.983 F .483
(xist and the DB_CREA)-.15 F .483(TE \215ag)-1.11 F
(is not speci\214ed, the call will f)133 108 Q(ail.)-.1 E(DB_NOMMAP)108
124.8 Q(Al)133 136.8 Q -.1(wa)-.1 G .057(ys cop).1 F 2.557(yt)-.1 G .057
(his \214le into the local cache instead of mapping it into process memory \(see the descrip-)
-2.557 F(tion of the)133 148.8 Q/F1 10/Times-Italic@0 SF(mp_mmapsize)2.5
E F0(\214eld of the DbEn)2.5 E 2.5(vo)-.4 G
(bject for further information\).)-2.5 E(DB_RDONL)108 165.6 Q(Y)-1 E
1.124(Open an)133 177.6 R 3.624(yu)-.15 G 1.124
(nderlying \214les for reading only)-3.624 F 6.124(.A)-.65 G 1.424 -.15
(ny a)-6.124 H 1.124
(ttempt to write the \214le using the pool functions).15 F(will f)133
189.6 Q(ail, re)-.1 E -.05(ga)-.15 G
(rdless of the actual permissions of the \214le.).05 E .073
(All \214les created by the method)108 206.4 R F1(DbMpoolF)2.573 E
(ile::open)-.45 E F0 .073(are created with mode)2.573 F F1(mode)2.574 E
F0 .074(\(as described in)2.574 F F1 -.15(ch)2.574 G(mod).15 E F0
(\(2\)\)).77 E .456(and modi\214ed by the process' umask v)108 218.4 R
.456(alue at the time of creation \(see)-.25 F F1(umask)2.956 E F0 2.956
(\(2\)\). The).67 F .455(group o)2.956 F .455(wnership of)-.25 F
(created \214les is based on the system and directory def)108 230.4 Q
(aults, and is not further speci\214ed by DB.)-.1 E(The)108 247.2 Q F1
(pa)3.577 E -.1(ge)-.1 G(size).1 E F0(ar)3.577 E 1.077(gument is the size, in bytes, of the unit of transfer between the application and the pool,)
-.18 F(although it is not necessarily the unit of transfer between the pool and the source \214le.)
108 259.2 Q(The)108 276 Q F1(lsn_of)2.692 E(fset)-.18 E F0(ar)2.692 E
.191(gument is the zero-based byte of)-.18 F .191
(fset in the page of the page')-.25 F 2.691(sl)-.55 G .191
(og sequence number \(LSN\),)-2.691 F .638(or \2551 if no LSN of)108 288
R .638(fset is speci\214ed.)-.25 F .638(\(See the description of the)
5.638 F F1(DbMpool::sync)3.138 E F0 .639(method for more informa-)3.139
F(tion.\))108 300 Q(The)108 316.8 Q F1(pgcookie)2.588 E F0(ar)2.588 E
.088(gument contains the byte string that is passed to the)-.18 F F1
(pgin)2.587 E F0(and)2.587 E F1(pgout)2.587 E F0 .087
(functions for this \214le, if)2.587 F(an)108 328.8 Q 3.8 -.65(y. \()
-.15 H(See the description of the).65 E F1(DbMpool::db_r)2.5 E -.4(eg)
-.37 G(ister).4 E F0(method for more information.\))2.5 E(The)108 345.6
Q F1(uid)2.9 E F0(ar)2.9 E .4
(gument is a unique identi\214er for the \214le.)-.18 F .401
(The mpool functions must be able to uniquely identify)5.401 F .499(\214les in order that multiple processes sharing a \214le will correctly share its underlying pages.)
108 357.6 R(Normally)5.498 E 2.998(,t)-.65 G(he)-2.998 E F1(uid)108
369.6 Q F0(ar)3.282 E .783
(gument should be NULL and the mpool functions will use the \214le')-.18
F 3.283(sd)-.55 G -.25(ev)-3.283 G .783(ice and inode numbers \(see).25
F F1(stat)108 381.6 Q F0 .842(\(2\)\) for this purpose.).68 F .841
(On some \214lesystems, \(e.g., F)5.841 F 3.061 -1.11(AT o)-.74 H 3.341
(rN)1.11 G .841(FS\) \214le de)-3.341 F .841
(vice and inode numbers are not)-.25 F 1.055
(necessarily unique across system reboots.)108 393.6 R/F2 10
/Times-Bold@0 SF -.25(Ap)6.055 G 1.055
(plications wanting to maintain a shar).25 F 1.055(ed memory b)-.18 F
(uffer)-.2 E .436(pool acr)108 405.6 R .436(oss system r)-.18 F .436
(eboots, wher)-.18 F 2.936(et)-.18 G .436(he pool contains pages fr)
-2.936 F .436(om \214les stor)-.18 F .436
(ed on such \214lesystems, must)-.18 F .306
(specify a unique \214le identi\214er to the)108 417.6 R F1(DbMpoolF)
2.807 E(ile::open)-.45 E F0 .307(call and each process opening or re)
2.807 F .307(gistering the)-.15 F 2.424(\214le must pro)108 429.6 R
2.423(vide the same unique identi\214er)-.15 F 7.423(.I)-.55 G 4.923(ft)
-7.423 G(he)-4.923 E F1(uid)4.923 E F0(ar)4.923 E 2.423
(gument is non-NULL, it must reference a)-.18 F .459(DB_FILE_ID_LEN \(as de\214ned in <db_cxx.h>\) length array of bytes that will be used to uniquely identify)
108 441.6 R .289(the \214le.)108 453.6 R .289
(This should not be necessary for most applications.)5.289 F
(Speci\214cally)5.289 E 2.789(,i)-.65 G 2.789(ti)-2.789 G 2.789(sn)
-2.789 G .288(ot necessary if the memory)-2.789 F .771(pool is re-instantiated after each system reboot, the application is using the Db access methods instead of)
108 465.6 R .235(calling the pool functions e)108 477.6 R(xplicitly)-.15
E 2.735(,o)-.65 G 2.735(rt)-2.735 G .234(he \214les in the memory pool are stored on \214lesystems where the \214le)
-2.735 F(de)108 489.6 Q
(vice and inode numbers do not change across system reboots.)-.25 E(The)
108 506.4 Q F1(DbMpoolF)2.82 E(ile::open)-.45 E F0 .32(method thro)2.82
F .32(ws a)-.25 F F1(DbException)2.82 E F0 .32(\(3\) or returns the v)
.24 F .32(alue of)-.25 F F1(errno)2.82 E F0 .32(on f)2.82 F .32
(ailure and 0 on)-.1 F(success.)108 518.4 Q F1(DbMpoolF)92 535.2 Q
(ile::close)-.45 E F0(The)108 547.2 Q F1(DbMpoolF)3.013 E(ile::close)
-.45 E F0 .512
(method closes the source \214le indicated by the DbMpoolFile object.)
3.013 F .512(This method)5.512 F .158(does not imply a call to)108 559.2
R F1(DbMpoolF)2.658 E(ile::sync)-.45 E F0 2.658(,i).31 G .159
(.e. no pages are written to the source \214le as as a result of call-)
-2.658 F(ing)108 571.2 Q F1(DbMpoolF)2.5 E(ile::close)-.45 E F0(.).18 E
1.4(In addition, if the)108 588 R F1(\214le)3.9 E F0(ar)3.9 E 1.4
(gument to)-.18 F F1(DbMpoolF)3.9 E(ile::open)-.45 E F0 -.1(wa)3.9 G 3.9
(sN).1 G 1.4(ULL, an)-3.9 F 3.9(yu)-.15 G 1.4
(nderlying \214les created for this)-3.9 F(DbMpoolFile will be remo)108
600 Q -.15(ve)-.15 G(d.).15 E(The)108 616.8 Q F1(DbMpoolF)2.75 E
(ile::close)-.45 E F0 .25(method thro)2.75 F .25(ws a)-.25 F F1
(DbException)2.75 E F0 .251(\(3\) or returns the v).24 F .251(alue of)
-.25 F F1(errno)2.751 E F0 .251(on f)2.751 F .251(ailure and 0 on)-.1 F
(success.)108 628.8 Q F1(DbMpoolF)92 645.6 Q(ile::g)-.45 E(et)-.1 E F0
(The)108 657.6 Q F1(DbMpoolF)3.292 E(ile::g)-.45 E(et)-.1 E F0 .792(method copies a pointer to the page with the page number speci\214ed by)
3.292 F F1(pgnoaddr)3.292 E F0(,).73 E .199(from the source \214le speci\214ed by the DbMpoolFile object into the memory location referenced by)
108 669.6 R F1(pa)2.7 E -.1(ge)-.1 G(p).1 E F0 5.2(.I).19 G(f)-5.2 E
(the page does not e)108 681.6 Q(xist or cannot be retrie)-.15 E -.15
(ve)-.25 G(d,).15 E F1(DbMpoolF)2.5 E(ile::g)-.45 E(et)-.1 E F0(will f)
2.5 E(ail.)-.1 E(The returned page is size_t type aligned.)108 698.4 Q
F2 -.1(Pa)108 715.2 S(ge numbers begin at 0, e.g).1 E
(., the \214rst page in the \214le is page number 0, not page number 1.)
-.15 E F0(September 25, 1997)265.865 768 Q(2)188.865 E EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 333.28(DbMpoolFile\(3\) DbMpoolFile\(3\))72 48 R
(The)108 84 Q/F1 10/Times-Italic@0 SF<8d61>2.5 E(gs)-.1 E F0(ar)2.5 E
(gument is speci\214ed by)-.18 E/F2 10/Times-Bold@0 SF(or)2.5 E F0
('ing together one or more of the follo)A(wing v)-.25 E(alues:)-.25 E
(DB_MPOOL_CREA)108 100.8 Q(TE)-1.11 E
(If the speci\214ed page does not e)133 112.8 Q(xist, create it.)-.15 E
(In this case, the)5 E F1(pgin)2.5 E F0
(method, if speci\214ed, is called.)2.5 E(DB_MPOOL_LAST)108 129.6 Q
2.106(Return the last page of the source \214le and cop)133 141.6 R
4.605(yi)-.1 G 2.105(ts page number to the location referenced by)-4.605
F F1(pgnoaddr)133 153.6 Q F0(.).73 E(DB_MPOOL_NEW)108 170.4 Q .742
(Create a ne)133 182.4 R 3.242(wp)-.25 G .743(age in the \214le and cop)
-3.242 F 3.243(yi)-.1 G .743
(ts page number to the location referenced by)-3.243 F F1(pgnoaddr)3.243
E F0 5.743(.I).73 G(n)-5.743 E(this case, the)133 194.4 Q F1(pgin)2.5 E
F0(method, if speci\214ed, is not called.)2.5 E(The DB_MPOOL_CREA)108
211.2 Q(TE, DB_MPOOL_LAST and DB_MPOOL_NEW \215ags are mutually e)-1.11
E(xclusi)-.15 E -.15(ve)-.25 G(.).15 E(Created pages ha)108 228 Q .3
-.15(ve a)-.2 H(ll their bytes set to 0.).15 E .361
(All pages returned by)108 244.8 R F1(DbMpoolF)2.861 E(ile::g)-.45 E(et)
-.1 E F0 .361(will be retained \(i.e. `)2.861 F(`pinned')-.74 E .36
('\) in the pool until a subsequent call)-.74 F(to)108 256.8 Q F1
(DbMpoolF)2.5 E(ile::put)-.45 E F0(.).68 E(The)108 273.6 Q F1(DbMpoolF)
3.277 E(ile::g)-.45 E(et)-.1 E F0 .777(method thro)3.277 F .777(ws a)
-.25 F F1(DbException)3.277 E F0 .777(\(3\) or returns the v).24 F .778
(alue of)-.25 F F1(errno)3.278 E F0 .778(on f)3.278 F .778
(ailure and 0 on)-.1 F(success.)108 285.6 Q F1(DbMpoolF)92 302.4 Q
(ile::put)-.45 E F0(The)108 314.4 Q F1(DbMpoolF)3.094 E(ile::put)-.45 E
F0 .594(method indicates that the page referenced by)3.094 F F1(pgaddr)
3.093 E F0 .593(can be e)3.093 F .593(victed from the pool.)-.25 F F1
(Pgaddr)108 326.4 Q F0(must be an address pre)2.5 E(viously returned by)
-.25 E F1(DbMpoolF)2.5 E(ile::g)-.45 E(et)-.1 E F0(.).68 E(The)108 343.2
Q F1<8d61>2.5 E(gs)-.1 E F0(ar)2.5 E(gument is speci\214ed by)-.18 E F2
(or)2.5 E F0('ing together one or more of the follo)A(wing v)-.25 E
(alues:)-.25 E(DB_MPOOL_CLEAN)108 360 Q 1.556(Clear an)133 372 R 4.056
(yp)-.15 G(re)-4.056 E 1.556
(viously set modi\214cation information \(i.e., don')-.25 F 4.056(tb)
-.18 G 1.557(other writing the page back to the)-4.056 F
(source \214le\).)133 384 Q(DB_MPOOL_DIR)108 400.8 Q(TY)-.6 E .052(The page has been modi\214ed and must be written to the source \214le before being e)
133 412.8 R .051(victed from the pool.)-.25 F(DB_MPOOL_DISCARD)108 429.6
Q .144(The page is unlik)133 441.6 R .144(ely to be useful in the near future, and should be discarded before other pages in the)
-.1 F(pool.)133 453.6 Q(The DB_MPOOL_CLEAN and DB_MPOOL_DIR)108 470.4 Q
(TY \215ags are mutually e)-.6 E(xclusi)-.15 E -.15(ve)-.25 G(.).15 E
(The)108 487.2 Q F1(DbMpoolF)3.237 E(ile::put)-.45 E F0 .737
(method thro)3.237 F .737(ws a)-.25 F F1(DbException)3.236 E F0 .736
(\(3\) or returns the v).24 F .736(alue of)-.25 F F1(errno)3.236 E F0
.736(on f)3.236 F .736(ailure and 0 on)-.1 F(success.)108 499.2 Q F1
(DbMpoolF)92 516 Q(ile::set)-.45 E F0(The)108 528 Q F1(DbMpoolF)2.917 E
(ile::set)-.45 E F0 .418
(method sets the \215ags associated with the page referenced by)2.917 F
F1(pgaddr)2.918 E F0 .418(without unpin-)2.918 F 1.355
(ning it from the pool.)108 540 R F1(Pgaddr)6.355 E F0 1.355
(must be an address pre)3.855 F 1.354(viously returned by)-.25 F F1
(DbMpoolF)3.854 E(ile::g)-.45 E(et)-.1 E F0 6.354(.T).68 G(he)-6.354 E
F1<8d61>3.854 E(gs)-.1 E F0(ar)108 552 Q .774(gument to)-.18 F F1
(DbMpoolF)3.274 E(ile::set)-.45 E F0 .774(is speci\214ed by)3.274 F F2
(or)3.274 E F0 .774('ing together one or more of the v)B .775
(alues speci\214ed as \215ags)-.25 F(for the)108 564 Q F1(DbMpoolF)2.5 E
(ile::put)-.45 E F0(call.)2.5 E(The)108 580.8 Q F1(DbMpoolF)3.341 E
(ile::set)-.45 E F0 .841(method thro)3.341 F .841(ws a)-.25 F F1
(DbException)3.341 E F0 .841(\(3\) or returns the v).24 F .841(alue of)
-.25 F F1(errno)3.34 E F0 .84(on f)3.34 F .84(ailure and 0 on)-.1 F
(success.)108 592.8 Q F1(DbMpoolF)92 609.6 Q(ile::sync)-.45 E F0(The)108
621.6 Q F1(DbMpoolF)2.808 E(ile::sync)-.45 E F0 .309(method writes all pages associated with the DbMpoolFile object that were mark)
2.808 F(ed)-.1 E .828(as modi\214ed using)108 633.6 R F1(DbMpoolF)3.328
E(ile::put)-.45 E F0(or)3.328 E F1(DbMpoolF)3.328 E(ile::set)-.45 E F0
3.328(,b).68 G .828(ack to the source \214le.)-3.328 F .828(If an)5.828
F 3.328(yo)-.15 G 3.328(ft)-3.328 G .828(he modi\214ed)-3.328 F .481(pages are also pinned \(i.e., currently referenced by this or another process\))
108 645.6 R F1(DbMpoolF)2.981 E(ile::sync)-.45 E F0 .481(will ignore)
2.981 F(them.)108 657.6 Q(The)108 674.4 Q F1(DbMpoolF)2.63 E(ile::sync)
-.45 E F0 .13(method thro)2.63 F .13(ws a)-.25 F F1(DbException)2.63 E
F0 .129(\(3\) or returns the v).24 F .129(alue of)-.25 F F1(errno)2.629
E F0 .129(on f)2.629 F .129(ailure, 0 on suc-)-.1 F .389
(cess, and DB_INCOMPLETE if there were pages which were modi\214ed b)108
686.4 R .39(ut which)-.2 F F1(DbMpoolF)2.89 E(ile::sync)-.45 E F0 -.1
(wa)2.89 G(s).1 E(unable to write.)108 698.4 Q(September 25, 1997)
265.865 768 Q(3)188.865 E EP
%%Page: 4 4
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 333.28(DbMpoolFile\(3\) DbMpoolFile\(3\))72 48 R
/F1 9/Times-Bold@0 SF(ERR)72 84 Q(ORS)-.27 E F0 .05(Methods mark)108 96
R .05(ed as returning)-.1 F/F2 10/Times-Italic@0 SF(errno)2.55 E F0 .049
(will, by def)2.55 F .049(ault, thro)-.1 F 2.549(wa)-.25 G 2.549(ne)
-2.549 G .049(xception that encapsulates the error informa-)-2.699 F 2.5
(tion. The)108 108 R(def)2.5 E(ault error beha)-.1 E
(vior can be changed, see)-.2 E F2(DbException)2.5 E F0(\(3\).).24 E
(The)108 124.8 Q F2(DbMpoolF)2.849 E(ile::open)-.45 E F0 .349
(method may f)2.849 F .349(ail and thro)-.1 F 2.849(wa)-.25 G F2
(DbException)A F0 .349(\(3\) or return).24 F F2(errno)2.85 E F0 .35
(for an)2.85 F 2.85(yo)-.15 G 2.85(ft)-2.85 G .35(he errors)-2.85 F
(speci\214ed for the follo)108 136.8 Q
(wing DB and library functions: DBmemp->pgin\(3\), DBmemp->pgout\(3\),)
-.25 E
(DbLog::compare\(3\), DbLog::\215ush\(3\), close\(2\), fcntl\(2\), f)108
148.8 Q(\215ush\(3\), fsync\(2\), lseek\(2\), malloc\(3\),)-.25 E
(memcmp\(3\), memcp)108 160.8 Q(y\(3\), memset\(3\), mmap\(2\), open\(2\), sig\214llset\(3\), sigprocmask\(2\), stat\(2\), strcp)
-.1 E(y\(3\),)-.1 E(strdup\(3\), strerror\(3\), strlen\(3\), time\(3\), unlink\(2\), and write\(2\).)
108 172.8 Q .916(In addition, the)108 189.6 R F2(DbMpoolF)3.416 E
(ile::open)-.45 E F0 .916(method may f)3.416 F .917(ail and thro)-.1 F
3.417(wa)-.25 G F2(DbException)A F0 .917(\(3\) or return).24 F F2(errno)
3.417 E F0 .917(for the)3.417 F(follo)108 201.6 Q(wing conditions:)-.25
E([EINV)108 218.4 Q(AL])-1.35 E(An in)133 230.4 Q -.25(va)-.4 G
(lid \215ag v).25 E(alue or parameter w)-.25 E(as speci\214ed.)-.1 E
.001(The \214le has already been entered into the pool, and the)133
254.4 R F2(pa)2.501 E -.1(ge)-.1 G(size).1 E F0 -.25(va)2.501 G .001
(lue is not the same as when the \214le).25 F -.1(wa)133 266.4 S 2.5(se)
.1 G(ntered into the pool, or the length of the \214le is not zero or a multiple of the)
-2.5 E F2(pa)2.5 E -.1(ge)-.1 G(size).1 E F0(.).18 E(The DB_RDONL)133
290.4 Q 2.5<598d>-1 G(ag w)-2.5 E(as speci\214ed for an in-memory pool.)
-.1 E(The)108 307.2 Q F2(DbMpoolF)2.78 E(ile::close)-.45 E F0 .28
(method may f)2.78 F .28(ail and thro)-.1 F 2.78(wa)-.25 G F2
(DbException)A F0 .28(\(3\) or return).24 F F2(errno)2.78 E F0 .28
(for an)2.78 F 2.78(yo)-.15 G 2.78(ft)-2.78 G .28(he errors)-2.78 F
(speci\214ed for the follo)108 319.2 Q
(wing DB and library functions: close\(2\), fcntl\(2\), f)-.25 E
(\215ush\(3\), munmap\(2\), and)-.25 E(strerror\(3\).)108 331.2 Q(The)
108 348 Q F2(DbMpoolF)3.306 E(ile::g)-.45 E(et)-.1 E F0 .807
(method may f)3.306 F .807(ail and thro)-.1 F 3.307(wa)-.25 G F2
(DbException)A F0 .807(\(3\) or return).24 F F2(errno)3.307 E F0 .807
(for an)3.307 F 3.307(yo)-.15 G 3.307(ft)-3.307 G .807(he errors)-3.307
F(speci\214ed for the follo)108 360 Q
(wing DB and library functions: DBmemp->pgin\(3\), DBmemp->pgout\(3\),)
-.25 E
(DbLog::compare\(3\), DbLog::\215ush\(3\), close\(2\), fcntl\(2\), f)108
372 Q(\215ush\(3\), fsync\(2\), lseek\(2\), malloc\(3\),)-.25 E
(memcmp\(3\), memcp)108 384 Q(y\(3\), memset\(3\), mmap\(2\), open\(2\), read\(2\), sig\214llset\(3\), sigprocmask\(2\), stat\(2\),)
-.1 E(strcp)108 396 Q(y\(3\), strdup\(3\), strerror\(3\), strlen\(3\), time\(3\), unlink\(2\), and write\(2\).)
-.1 E .258(In addition, the)108 412.8 R F2(DbMpoolF)2.758 E(ile::g)-.45
E(et)-.1 E F0 .258(method may f)2.758 F .258(ail and thro)-.1 F 2.758
(wa)-.25 G F2(DbException)A F0 .258(\(3\) or return).24 F F2(errno)2.758
E F0 .259(for the fol-)2.758 F(lo)108 424.8 Q(wing conditions:)-.25 E
([EA)108 441.6 Q(GAIN])-.4 E .516(The page reference count has o)133
453.6 R -.15(ve)-.15 G(r\215o).15 E 3.016(wed. \(This)-.25 F .516
(should ne)3.016 F -.15(ve)-.25 G 3.016(rh).15 G .516
(appen unless there')-3.016 F 3.015(sab)-.55 G .515(ug in the ap-)-3.215
F(plication.\))133 465.6 Q([EINV)108 482.4 Q(AL])-1.35 E(An in)133 494.4
Q -.25(va)-.4 G(lid \215ag v).25 E(alue or parameter w)-.25 E
(as speci\214ed.)-.1 E(The DB_MPOOL_NEW \215ag w)133 518.4 Q
(as set and the source \214le w)-.1 E(as not opened for writing.)-.1 E
(The requested page does not e)133 542.4 Q(xist and DB_MPOOL_CREA)-.15 E
(TE w)-1.11 E(as not set.)-.1 E(More than one of DB_MPOOL_CREA)133 566.4
Q(TE, DB_MPOOL_LAST and DB_MPOOL_NEW w)-1.11 E(as set.)-.1 E([ENOMEM])
108 583.2 Q(The cache is full and no more pages will \214t in the pool.)
133 595.2 Q(The)108 612 Q F2(DbMpoolF)3.265 E(ile::put)-.45 E F0 .765
(method may f)3.265 F .765(ail and thro)-.1 F 3.266(wa)-.25 G F2
(DbException)A F0 .766(\(3\) or return).24 F F2(errno)3.266 E F0 .766
(for an)3.266 F 3.266(yo)-.15 G 3.266(ft)-3.266 G .766(he errors)-3.266
F(speci\214ed for the follo)108 624 Q
(wing DB and library functions: DBmemp->pgin\(3\), DBmemp->pgout\(3\),)
-.25 E
(DbLog::compare\(3\), DbLog::\215ush\(3\), close\(2\), fcntl\(2\), f)108
636 Q(\215ush\(3\), fsync\(2\), lseek\(2\), malloc\(3\),)-.25 E
(memcmp\(3\), memcp)108 648 Q(y\(3\), memset\(3\), mmap\(2\), open\(2\), sig\214llset\(3\), sigprocmask\(2\), stat\(2\), strcp)
-.1 E(y\(3\),)-.1 E(strdup\(3\), strerror\(3\), strlen\(3\), time\(3\), unlink\(2\), and write\(2\).)
108 660 Q .216(In addition, the)108 676.8 R F2(DbMpoolF)2.717 E
(ile::put)-.45 E F0 .217(method may f)2.717 F .217(ail and thro)-.1 F
2.717(wa)-.25 G F2(DbException)A F0 .217(\(3\) or return).24 F F2(errno)
2.717 E F0 .217(for the fol-)2.717 F(lo)108 688.8 Q(wing conditions:)
-.25 E([EA)108 705.6 Q(CCES])-.4 E(The DB_MPOOL_DIR)133 717.6 Q
(TY \215ag w)-.6 E(as set and the source \214le w)-.1 E
(as not opened for writing.)-.1 E(September 25, 1997)265.865 768 Q(4)
188.865 E EP
%%Page: 5 5
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 333.28(DbMpoolFile\(3\) DbMpoolFile\(3\))72 48 R
([EINV)108 84 Q(AL])-1.35 E(An in)133 96 Q -.25(va)-.4 G(lid \215ag v)
.25 E(alue or parameter w)-.25 E(as speci\214ed.)-.1 E(The)133 120 Q/F1
10/Times-Italic@0 SF(pgaddr)2.5 E F0
(parameter does not reference a page returned by)2.5 E F1(DbMpoolF)2.5 E
(ile::g)-.45 E(et)-.1 E F0(.).68 E
(More than one of DB_MPOOL_CLEAN and DB_MPOOL_DIR)133 144 Q(TY w)-.6 E
(as set.)-.1 E(The)108 160.8 Q F1(DbMpoolF)3.37 E(ile::set)-.45 E F0 .87
(method may f)3.37 F .87(ail and thro)-.1 F 3.37(wa)-.25 G F1
(DbException)A F0 .87(\(3\) or return).24 F F1(errno)3.37 E F0 .87
(for an)3.37 F 3.37(yo)-.15 G 3.37(ft)-3.37 G .87(he errors)-3.37 F
(speci\214ed for the follo)108 172.8 Q
(wing DB and library functions: fcntl\(2\), and f)-.25 E(\215ush\(3\).)
-.25 E .321(In addition, the)108 189.6 R F1(DbMpoolF)2.821 E(ile::set)
-.45 E F0 .321(method may f)2.821 F .321(ail and thro)-.1 F 2.821(wa)
-.25 G F1(DbException)A F0 .321(\(3\) or return).24 F F1(errno)2.822 E
F0 .322(for the fol-)2.822 F(lo)108 201.6 Q(wing conditions:)-.25 E
([EINV)108 218.4 Q(AL])-1.35 E(An in)133 230.4 Q -.25(va)-.4 G
(lid \215ag v).25 E(alue or parameter w)-.25 E(as speci\214ed.)-.1 E
(The)108 247.2 Q F1(DbMpoolF)2.954 E(ile::sync)-.45 E F0 .454
(method may f)2.954 F .454(ail and thro)-.1 F 2.954(wa)-.25 G F1
(DbException)A F0 .454(\(3\) or return).24 F F1(errno)2.954 E F0 .453
(for an)2.954 F 2.953(yo)-.15 G 2.953(ft)-2.953 G .453(he errors)-2.953
F(speci\214ed for the follo)108 259.2 Q
(wing DB and library functions: DBmemp->pgin\(3\), DBmemp->pgout\(3\),)
-.25 E
(DbLog::compare\(3\), DbLog::\215ush\(3\), close\(2\), fcntl\(2\), f)108
271.2 Q(\215ush\(3\), fsync\(2\), lseek\(2\), malloc\(3\),)-.25 E(memcp)
108 283.2 Q(y\(3\), memset\(3\), open\(2\), qsort\(3\), realloc\(3\), sig\214llset\(3\), sigprocmask\(2\), stat\(2\), strcp)
-.1 E(y\(3\),)-.1 E
(strdup\(3\), strerror\(3\), strlen\(3\), unlink\(2\), and write\(2\).)
108 295.2 Q/F2 9/Times-Bold@0 SF(SEE ALSO)72 316.8 Q F1(db_ar)108 328.8
Q -.15(ch)-.37 G(ive).15 E F0(\(1\),).18 E F1(db_c)2.5 E(hec)-.15 E
(kpoint)-.2 E F0(\(1\),).68 E F1(db_deadloc)2.5 E(k)-.2 E F0(\(1\),).67
E F1(db_dump)2.5 E F0(\(1\),).19 E F1(db_load)2.5 E F0(\(1\),).77 E F1
(db_r)2.5 E(eco)-.37 E(ver)-.1 E F0(\(1\),).73 E F1(db_stat)2.5 E F0
(\(1\),).68 E F1(db_intr)108 340.8 Q(o)-.45 E F0(\(3\),).18 E F1
(db_jump)2.5 E F0(\(3\),).19 E F1(db_thr)2.5 E(ead)-.37 E F0(\(3\),).77
E F1(Db)2.5 E F0(\(3\),).23 E F1(Dbc)2.5 E F0(\(3\),).31 E F1(DbEn)2.5 E
(v)-.4 E F0(\(3\),).32 E F1(DbException)2.5 E F0(\(3\),).24 E F1(DbInfo)
2.5 E F0(\(3\),).18 E F1(DbLoc)2.5 E(k)-.2 E F0(\(3\),).67 E F1(DbLoc)
108 352.8 Q(ktab)-.2 E F0(\(3\),).23 E F1(DbLo)2.5 E(g)-.1 E F0(\(3\),)
.22 E F1(DbLsn)2.5 E F0(\(3\),).24 E F1(DbMpool)2.5 E F0(\(3\),).51 E F1
(DbMpoolF)2.5 E(ile)-.45 E F0(\(3\),).18 E F1(Dbt)2.5 E F0(\(3\),).68 E
F1(DbTxn)2.5 E F0(\(3\),).24 E F1(DbTxnMgr)2.5 E F0(\(3\)).73 E
(September 25, 1997)265.865 768 Q(5)188.865 E EP
%%Trailer
end
%%EOF
