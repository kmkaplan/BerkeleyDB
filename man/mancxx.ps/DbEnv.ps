%!PS-Adobe-3.0
%%Creator: groff version 1.10
%%CreationDate: Fri Nov 28 16:33:33 1997
%%DocumentNeededResources: font Times-Bold
%%+ font Times-Roman
%%+ font Times-Italic
%%DocumentSuppliedResources: procset grops 1.10 0
%%Pages: 9
%%PageOrder: Ascend
%%Orientation: Portrait
%%EndComments
%%BeginProlog
%%BeginResource: procset grops 1.10 0
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/MF{
findfont
[5 2 roll
0 3 1 roll
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}bind def
/DA{
newpath arcn stroke
}bind def
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
/DL{
SN
moveto
SN
lineto stroke
}bind def
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
/FL{
currentgray exch setgray fill setgray
}bind def
/BL/fill load def
/LW/setlinewidth load def
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
}bind def
/PEND{
clear
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%IncludeResource: font Times-Bold
%%IncludeResource: font Times-Roman
%%IncludeResource: font Times-Italic
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 792 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron/Zcaron
/scaron/zcaron/Ydieresis/trademark/quotesingle/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Times-Italic@0 ENC0/Times-Italic RE/Times-Roman@0 ENC0/Times-Roman RE
/Times-Bold@0 ENC0/Times-Bold RE
%%EndProlog
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Bold@0 SF -.18(NA)72 28.8 S(ME).18 E/F1 10/Times-Roman@0 SF
(DbEn)108 40.8 Q 2.5(v\255D)-.4 G 2.5(bi)-2.5 G(nitialization and en)
-2.5 E(vironment options)-.4 E F0(SYNOPSIS)72 57.6 Q/F2 10/Times-Bold@0
SF(#include <db_cxx.h>)108 69.6 Q(DbEn)108 93.6 Q(v::DbEn)-.4 E
(v\(const char *db_home, char *const *db_con\214g, int \215ags\);)-.4 E
(DbEn)108 105.6 Q(v::DbEn)-.4 E(v\(\);)-.4 E(DbEn)108 117.6 Q(v::~DbEn)
-.4 E(v\(\);)-.4 E(int DbEn)108 141.6 Q
(v::appinit\(const char *db_home,)-.4 E
(char *const *db_con\214g, int \215ags\);)158 153.6 Q(int DbEn)108 177.6
Q(v::get_lorder\(\) const;)-.4 E -.1(vo)108 189.6 S(id DbEn).1 E
(v::set_lorder\(int\);)-.4 E(typedef v)108 213.6 Q(oid \(*db_err)-.1 E
(call_fcn\)\(const char *, char *\);)-.18 E(db_err)108 225.6 Q
(call_fcn DbEn)-.18 E(v::get_err)-.4 E(call\(\) const;)-.18 E -.1(vo)108
237.6 S(id DbEn).1 E(v::set_err)-.4 E(call\(db_err)-.18 E(call_fcn\);)
-.18 E(FILE DbEn)108 261.6 Q(v::*get_err\214le\(\) const;)-.4 E -.1(vo)
108 273.6 S(id DbEn).1 E(v::set_err\214le\(FILE *\);)-.4 E
(const char DbEn)108 297.6 Q(v::*get_err)-.4 E(pfx\(\) const;)-.1 E -.1
(vo)108 309.6 S(id DbEn).1 E(v::set_err)-.4 E(pfx\(const char *\);)-.1 E
(int DbEn)108 333.6 Q(v::get_v)-.4 E(erbose\(\) const;)-.1 E -.1(vo)108
345.6 S(id DbEn).1 E(v::set_v)-.4 E(erbose\(int\);)-.1 E(char DbEn)108
369.6 Q(v::*get_home\(\) const;)-.4 E -.1(vo)108 381.6 S(id DbEn).1 E
(v::set_home\(char *\);)-.4 E(char DbEn)108 405.6 Q
(v::*get_log_dir\(\) const;)-.4 E -.1(vo)108 417.6 S(id DbEn).1 E
(v::set_log_dir\(char *\);)-.4 E(char DbEn)108 441.6 Q
(v::*get_tmp_dir\(\) const;)-.4 E -.1(vo)108 453.6 S(id DbEn).1 E
(v::set_tmp_dir\(char *\);)-.4 E(char DbEn)108 477.6 Q
(v::**get_data_dir\(\) const;)-.4 E -.1(vo)108 489.6 S(id DbEn).1 E
(v::set_data_dir\(char **\);)-.4 E(int DbEn)108 513.6 Q
(v::get_data_cnt\(\) const;)-.4 E -.1(vo)108 525.6 S(id DbEn).1 E
(v::set_data_cnt\(int\);)-.4 E(int DbEn)108 549.6 Q
(v::get_data_next\(\) const;)-.4 E -.1(vo)108 561.6 S(id DbEn).1 E
(v::set_data_next\(int\);)-.4 E(DbLockT)108 585.6 Q(ab DbEn)-.92 E
(v::*get_lk_inf)-.4 E(o\(\) const;)-.25 E(u_int8_t DbEn)108 609.6 Q
(v::*get_lk_con\215icts\(\) const;)-.4 E -.1(vo)108 621.6 S(id DbEn).1 E
(v::set_lk_con\215icts\(u_int8_t *\);)-.4 E(int DbEn)108 645.6 Q
(v::get_lk_modes\(\) const;)-.4 E -.1(vo)108 657.6 S(id DbEn).1 E
(v::set_lk_modes\(int\);)-.4 E(unsigned int DbEn)108 681.6 Q
(v::get_lk_max\(\) const;)-.4 E -.1(vo)108 693.6 S(id DbEn).1 E
(v::set_lk_max\(unsigned int\);)-.4 E(u_int32_t DbEn)108 717.6 Q
(v::get_lk_detect\(\) const;)-.4 E -.1(vo)108 729.6 S(id DbEn).1 E
(v::set_lk_detect\(u_int32_t\);)-.4 E F1(1)535 768 Q EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(DbEn)72 48 Q 386.32(v\(3\) DbEn)-.4 F(v\(3\))-.4
E/F1 10/Times-Bold@0 SF(typedef int \(*db_yield_fcn\) \(v)108 84 Q
(oid\);)-.1 E(db_yield_fcn DbEn)108 96 Q(v::get_yield\(\) const;)-.4 E
-.1(vo)108 108 S(id DbEn).1 E(v::set_yield\(db_yield_fcn\);)-.4 E
(DbLog DbEn)108 132 Q(v::*get_lg_inf)-.4 E(o\(\) const;)-.25 E
(u_int32_t DbEn)108 156 Q(v::get_lg_max\(\) const;)-.4 E -.1(vo)108 168
S(id DbEn).1 E(v::set_lg_max\(u_int32_t\);)-.4 E(DbMpool DbEn)108 192 Q
(v::*get_mp_inf)-.4 E(o\(\) const;)-.25 E(size_t DbEn)108 216 Q
(v::get_mp_mmapsize\(\) const;)-.4 E -.1(vo)108 228 S(id DbEn).1 E
(v::set_mp_mmapsize\(size_t\);)-.4 E(size_t DbEn)108 252 Q
(v::get_mp_size\(\) const;)-.4 E -.1(vo)108 264 S(id DbEn).1 E
(v::set_mp_size\(size_t\);)-.4 E(DbTxnMgr DbEn)108 288 Q(v::*get_tx_inf)
-.4 E(o\(\) const;)-.25 E(unsigned int DbEn)108 312 Q
(v::get_tx_max\(\) const;)-.4 E -.1(vo)108 324 S(id DbEn).1 E
(v::set_tx_max\(unsigned int\);)-.4 E(typedef int \(*tx_r)108 348 Q(eco)
-.18 E -.1(ve)-.1 G(r_fcn\)\(DB_LOG *, DBT *, DB_LSN *, int, v).1 E
(oid *\);)-.1 E(tx_r)108 360 Q(eco)-.18 E -.1(ve)-.1 G(r_fcn DbEn).1 E
(v::get_tx_r)-.4 E(eco)-.18 E -.1(ve)-.1 G(r\(\) const;).1 E -.1(vo)108
372 S(id DbEn).1 E(v::set_tx_r)-.4 E(eco)-.18 E -.1(ve)-.1 G(r\(tx_r).1
E(eco)-.18 E -.1(ve)-.1 G(r_fcn\);).1 E(u_int32_t DbEn)108 396 Q
(v::get_\215ags\(\) const;)-.4 E -.1(vo)108 408 S(id DbEn).1 E
(v::set_\215ags\(u_int32_t\);)-.4 E(enum Err)108 432 Q
(orModel { Exception, Err)-.18 E(orRetur)-.18 E 2.5(n})-.15 G(;)-2.5 E
-.1(vo)108 444 S(id DbEn).1 E(v::set_err)-.4 E(or_model\(Err)-.18 E
(orModel\);)-.18 E(Err)108 456 Q(orModel DbEn)-.18 E(v::get_err)-.4 E
(or_model\(\) const;)-.18 E(class ostr)108 480 Q(eam* DbEn)-.18 E
(v::get_err)-.4 E(or_str)-.18 E(eam\(\) const;)-.18 E -.1(vo)108 492 S
(id DbEn).1 E(v::set_err)-.4 E(or_str)-.18 E(eam\(class ostr)-.18 E
(eam*\);)-.18 E/F2 9/Times-Bold@0 SF(DESCRIPTION)72 508.8 Q F0 1.02
(The DB library is a f)108 520.8 R 1.019(amily of classes that pro)-.1 F
1.019(vides a modular programming interf)-.15 F 1.019
(ace to transactions and)-.1 F 1.377(record-oriented \214le access.)108
532.8 R 1.378(The library includes support for transactions, locking, logging and \214le page)
6.377 F .443(caching, as well as v)108 544.8 R .443(arious inde)-.25 F
-.15(xe)-.15 G 2.943(da).15 G .442(ccess methods.)-2.943 F(Man)5.442 E
2.942(yo)-.15 G 2.942(ft)-2.942 G .442
(he classes \(e.g., the \214le page caching class\))-2.942 F .4(are useful independent of the other DB classes, although some classes are e)
108 556.8 R .4(xplicitly based on other classes)-.15 F
(\(e.g., transactions and logging\).)108 568.8 Q -.15(Fo)5 G 2.5(rag).15
G(eneral description of the DB package, see)-2.5 E/F3 10/Times-Italic@0
SF(db_intr)2.5 E(o)-.45 E F0(\(3\).).18 E .482(The DbEn)108 585.6 R
2.982(vc)-.4 G .482(lass pro)-2.982 F .482(vides simple access to an underlying data structure, whose elements can be e)
-.15 F(xamined)-.15 E .863(or changed using the)108 597.6 R F3(set_)
3.363 E F0(or)3.363 E F3 -.1(ge)3.363 G(t_).1 E F0 3.363(methods. The)
3.363 F .864(remainder of the manual page sometimes refers to these)
3.364 F .062(accesses using the underlying name, e.g., simply)108 609.6
R F3(lor)2.562 E(der)-.37 E F0 .062(instead of)2.562 F F3 -.1(ge)2.562 G
(t_lor).1 E(der)-.37 E F0(and)2.562 E F3(set_lor)2.562 E(der)-.37 E F0
5.062(.T).73 G .062(he construc-)-5.062 F .066
(tors set all elements of the underlying structure to zero.)108 621.6 R
.067(The constructor with three ar)5.067 F .067(guments has the ef)-.18
F(fect)-.25 E 1.049(of calling)108 633.6 R F3(DbEn)3.549 E(v::appinit)
-.4 E F0 1.049(immediately to initialize the application with def)3.549
F 1.048(ault parameters.)-.1 F 2.648 -.8(To d)6.048 H 1.048(elay the).8
F 2.011(initialization, use the def)108 645.6 R 2.011(ault constructor)
-.1 F 7.011(.T)-.55 G 2.011(he v)-7.011 F 2.012
(arious set_ methods can then be used to initialize the)-.25 F(DbEn)108
657.6 Q 1.3 -.65(v, a)-.4 H(nd \214nally).65 E 2.5(,ac)-.65 G(all to)
-2.5 E F3(DbEn)2.5 E(v::appinit)-.4 E F0
(should be made to initialize DB.)2.5 E 1.716(Once the DB en)108 674.4 R
1.716(vironment has been initialized by a call to)-.4 F F3(DbEn)4.215 E
(v::appinit)-.4 E F0 4.215(,n).68 G 4.215(os)-4.215 G 1.715
(et methods other than)-4.215 F F3(set_errpfx)108 686.4 Q F0
(should be called.)2.5 E F3(appinit)92 703.2 Q F0(The)108 715.2 Q F3
(appinit)2.968 E F0 .468(method pro)2.968 F .469(vides a simple w)-.15 F
.469(ay to initialize and con\214gure the Db en)-.1 F 2.969
(vironment. It)-.4 F .469(is not neces-)2.969 F .326
(sary that it be called, b)108 727.2 R .326(ut it pro)-.2 F .326
(vides a method of creating a consistent en)-.15 F .326
(vironment for processes using one)-.4 F(No)266.295 768 Q -.15(ve)-.15 G
(mber 25, 1997).15 E(2)189.295 E EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(DbEn)72 48 Q 386.32(v\(3\) DbEn)-.4 F(v\(3\))-.4
E(or more of the features of Db)108 84 Q(.)-.4 E(The)108 100.8 Q/F1 10
/Times-Italic@0 SF(db_home)2.794 E F0(and)2.794 E F1(db_con\214g)2.794 E
F0(ar)2.794 E .294(guments to)-.18 F F1(appinit)2.795 E F0 .295
(are described in the section belo)2.795 F 2.795(we)-.25 G .295
(ntitled `)-2.795 F .295(`FILE N)-.74 F(AM-)-.35 E(ING')108 112.8 Q('.)
-.74 E(The)108 129.6 Q F1<8d61>3.698 E(gs)-.1 E F0(ar)3.698 E 1.197
(gument speci\214es the subsystems that are initialized and ho)-.18 F
3.697(wt)-.25 G 1.197(he en)-3.697 F 1.197(vironment af)-.4 F 1.197
(fects Db \214le)-.25 F .64(naming, among other things.)108 141.6 R .64
(The \215ags v)5.64 F .64(alue is speci\214ed by)-.25 F/F2 10
/Times-Bold@0 SF(or)3.14 E F0 .64
('ing together one or more of the follo)B(wing)-.25 E -.25(va)108 153.6
S(lues:).25 E(DB_CREA)108 182.4 Q(TE)-1.11 E .007
(Cause subsystems to create an)133 194.4 R 2.507(yu)-.15 G .007
(nderlying \214les, as necessary)-2.507 F 5.006(.\()-.65 G(See)-5.006 E
F1(Db)2.506 E F0(\(3\),).23 E F1(DbLoc)2.506 E(kT)-.2 E(ab)-.92 E F0
(\(3\),).23 E F1(DbLo)2.506 E(g)-.1 E F0(\(3\),).22 E F1(DbMpool)133
206.4 Q F0(\(3\) and).51 E F1(DbTxnMgr)2.5 E F0
(\(3\) for more information.\)).73 E(DB_INIT_LOCK)108 235.2 Q .288
(Initialize the lock subsystem; see)133 247.2 R F1(DbLoc)2.788 E(kT)-.2
E(ab)-.92 E F0 2.788(\(3\). This).23 F .289
(subsystem should be used when multiple pro-)2.788 F .147(cesses or threads are going to be reading and writing a Db database, so that the)
133 259.2 R 2.647(yd)-.15 G 2.646(on)-2.647 G .146(ot interfere with)
-2.646 F .303(each other)133 271.2 R 5.303(.I)-.55 G 2.803(fa)-5.303 G
.303(ll threads are accessing the database\(s\) read-only)-2.803 F 2.804
(,t)-.65 G .304(hen locking is unnecessary)-2.804 F 5.304(.W)-.65 G(hen)
-5.304 E .533(the DB_INIT_LOCK \215ag is speci\214ed, it is usually necessary to run the deadlock detector)
133 283.2 R(,)-.4 E F1(db_dead-)3.032 E(loc)133 295.2 Q(k)-.2 E F0
(\(1\), as well.).67 E(DB_INIT_LOG)108 324 Q .577
(Initialize the log subsystem; see)133 336 R F1(DbLo)3.077 E(g)-.1 E F0
3.077(\(3\). This).22 F .577(subsystem is used when reco)3.077 F -.15
(ve)-.15 G .577(ry from application).15 F(or system f)133 348 Q
(ailure is important.)-.1 E(DB_INIT_MPOOL)108 376.8 Q .17
(Initialize the mpool subsystem; see)133 388.8 R F1(DbMpool)2.669 E F0
2.669(\(3\). This).51 F .169(subsystem is used whene)2.669 F -.15(ve)
-.25 G 2.669(rt).15 G .169(he application is)-2.669 F
(using the Db access methods for an)133 400.8 Q 2.5(yp)-.15 G(urpose.)
-2.5 E(DB_INIT_TXN)108 429.6 Q .372
(Initialize the transaction subsystem; see)133 441.6 R F1(DbTxn)2.872 E
F0 2.872(\(3\). This).24 F .373
(subsystem is used when atomicity of multi-)2.872 F 1.757
(ple operations and reco)133 453.6 R -.15(ve)-.15 G 1.757
(ry are important.).15 F 1.756
(The DB_INIT_TXN \215ag implies the DB_INIT_LOG)6.756 F(\215ag.)133
465.6 Q(DB_MPOOL_PRIV)108 494.4 Q -1.11(AT)-1.35 G(E)1.11 E 4.86
(Create a pri)133 506.4 R -.25(va)-.25 G 4.86(te memory pool \(see).25 F
F1(DbMpool)7.36 E F0 4.86(\(3\) for further information\).).51 F 4.86
(Ignored unless)9.86 F(DB_INIT_MPOOL is also speci\214ed.)133 518.4 Q
(DB_NOMMAP)108 547.2 Q 1.465(Do not map an)133 559.2 R 3.965<798c>-.15 G
1.465(les within this en)-3.965 F 1.465(vironment \(see)-.4 F F1
(DbMpool)3.964 E F0 1.464(\(3\) for further information\).).51 F
(Ignored)6.464 E(unless DB_INIT_MPOOL is also speci\214ed.)133 571.2 Q
(DB_RECO)108 600 Q(VER)-.5 E 1.174(Run normal reco)133 612 R -.15(ve)
-.15 G 1.174(ry on this en).15 F 1.175
(vironment before opening it for normal use.)-.4 F 1.175
(If this \215ag is set, the)6.175 F(DB_CREA)133 624 Q .575
(TE, DB_INIT_TXN, and DB_INIT_LOG \215ags must also be set since the re)
-1.11 F .574(gions will be)-.15 F(remo)133 636 Q -.15(ve)-.15 G 2.5(da)
.15 G(nd recreated.)-2.5 E -.15(Fo)5 G 2.5(rf).15 G
(urther information, consult the man page for)-2.5 E F1(db_r)2.5 E(eco)
-.37 E(ver)-.1 E F0(\(1\).).73 E(DB_RECO)108 664.8 Q(VER_F)-.5 E -1.21
-1.11(AT A)-.74 H(L)1.11 E .918(Run catastrophic reco)133 676.8 R -.15
(ve)-.15 G .918(ry on this en).15 F .919
(vironment before opening it for normal use.)-.4 F .919
(If this \215ag is set,)5.919 F .361(the DB_CREA)133 688.8 R .361
(TE, DB_INIT_TXN, and DB_INIT_LOG \215ags must also be set since the re)
-1.11 F .36(gions will)-.15 F(be remo)133 700.8 Q -.15(ve)-.15 G 2.5(da)
.15 G(nd recreated.)-2.5 E -.15(Fo)5 G 2.5(rf).15 G
(urther information, consult the man page for)-2.5 E F1(db_r)2.5 E(eco)
-.37 E(ver)-.1 E F0(\(1\).).73 E(No)266.295 768 Q -.15(ve)-.15 G
(mber 25, 1997).15 E(3)189.295 E EP
%%Page: 4 4
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(DbEn)72 48 Q 386.32(v\(3\) DbEn)-.4 F(v\(3\))-.4
E(DB_THREAD)108 84 Q .97(Ensure that handles returned by the Db subsystems are useable by multiple threads within a single)
133 96 R 2.966(process, i.e., that the system is `)133 108 R
(`free-threaded')-.74 E 5.466('. \(See)-.74 F/F1 10/Times-Italic@0 SF
(DbLoc)5.466 E(kT)-.2 E(ab)-.92 E F0(\(3\),).23 E F1(DbLo)5.466 E(g)-.1
E F0(\(3\),).22 E F1(DbMpool)5.466 E F0(\(3\),).51 E F1(Db::open)133 120
Q F0(\(3\) and).24 E F1(DbTxn)2.5 E F0(\(3\) for more information.\)).24
E(DB_TXN_NOSYNC)108 148.8 Q .972
(On transaction commit, do not synchronously \215ush the log \(see)133
160.8 R F1(DbTxn)3.473 E F0 .973(\(3\) for further information\).).24 F
(Ignored unless DB_INIT_TXN is also speci\214ed.)133 172.8 Q
(DB_USE_ENVIR)108 201.6 Q(ON)-.4 E .368(The Db process' en)133 213.6 R
.367(vironment may be permitted to specify information to be used when naming \214les)
-.4 F 1.13(\(see the section entitled `)133 225.6 R 1.13(`FILE N)-.74 F
(AMING')-.35 E 3.63('b)-.74 G(elo)-3.63 E 3.63(w\). As)-.25 F 1.13
(permitting users to specify which \214les are)3.63 F .572
(used can create security problems, en)133 237.6 R .571
(vironment information will be used in \214le naming for all users)-.4 F
(only if the DB_USE_ENVIR)133 249.6 Q(ON \215ag is set.)-.4 E
(DB_USE_ENVIR)108 278.4 Q(ON_R)-.4 E(OO)-.4 E(T)-.4 E .367
(The Db process' en)133 290.4 R .367(vironment may be permitted to specify information to be used when naming \214les)
-.4 F 1.13(\(see the section entitled `)133 302.4 R 1.13(`FILE N)-.74 F
(AMING')-.35 E 3.63('b)-.74 G(elo)-3.63 E 3.63(w\). As)-.25 F 1.13
(permitting users to specify which \214les are)3.63 F .368
(used can create security problems, if the DB_USE_ENVIR)133 314.4 R
(ON_R)-.4 E(OO)-.4 E 2.868<548d>-.4 G .369(ag is set, en)-2.868 F .369
(vironment infor)-.4 F(-)-.2 E 1.489
(mation will be used for \214le naming only for users with a user)133
326.4 R 1.488(-ID matching that of the superuser)-.2 F(\(speci\214cally)
133 338.4 Q 2.5(,u)-.65 G(sers for whom the)-2.5 E F1 -.1(ge)2.5 G(tuid)
.1 E F0(system call returns the user)2.5 E(-ID 0\).)-.2 E .224
(The Db en)108 355.2 R .224
(vironment is con\214gured based on which set methods ha)-.4 F .524 -.15
(ve b)-.2 H .224(een used.).15 F .224(It is e)5.224 F .225
(xpected that applica-)-.15 F .103(tions will use a single DbEn)108
367.2 R 2.603(vo)-.4 G .103(bject as the ar)-2.603 F .103
(gument to all of the subsystems in the DB package.)-.18 F .103
(The \214elds)5.103 F .21(of the DbEn)108 379.2 R 2.71(vo)-.4 G .21
(bject used by)-2.71 F F1(appinit)2.71 E F0 .21(are described belo)2.71
F 4.011 -.65(w. A)-.25 H 2.711(sr).65 G .211(eferences to the DbEn)
-2.711 F 2.711(vo)-.4 G .211(bject may be main-)-2.711 F .136(tained by)
108 391.2 R F1(appinit)2.636 E F0 2.636(,i).68 G 2.636(ti)-2.636 G 2.636
(sn)-2.636 G .136(ecessary that the DbEn)-2.636 F 2.636(vo)-.4 G .136
(bject and memory it references be v)-2.636 F .135
(alid until the object is)-.25 F(destro)108 403.2 Q 3.157(yed. The)-.1 F
F1(dben)3.157 E(v)-.4 E F0(ar)3.157 E .657(gument may not be NULL.)-.18
F .657(If an)5.657 F 3.157(yo)-.15 G 3.157(ft)-3.157 G .657
(he \214elds of the)-3.157 F F1(dben)3.157 E(v)-.4 E F0 .657
(are set to 0, def)3.157 F(aults)-.1 E
(appropriate for the system are used where possible.)108 415.2 Q .517
(The follo)108 432 R .517(wing \214elds in the DbEn)-.25 F 3.016(vo)-.4
G .516(bject may be initialized, using the appropriate set method, before call-)
-3.016 F(ing)108 444 Q F1(appinit)2.5 E F0(:).68 E -.2(vo)108 460.8 S
(id \(*db_errcall\)\(char *db_errpfx, char *b).2 E(uf)-.2 E(fer\);)-.25
E .593(When an error occurs in the DB package, an)133 472.8 R F1(errno)
3.093 E F0 -.25(va)3.093 G .594(lue is returned by the method.).25 F
.594(In some cases,)5.594 F(ho)133 484.8 Q(we)-.25 E -.15(ve)-.25 G .8
-.4(r, t).15 H(he).4 E F1(errno)2.5 E F0 -.25(va)2.5 G(lue may be insuf)
.25 E(\214cient to completely describe the cause of the error)-.25 E(.)
-.55 E(If)133 501.6 Q F1(db_err)3.064 E(call)-.37 E F0 .564
(is non-NULL, it may be called with additional error information.)3.064
F(The)5.563 E F1(db_errpfx)3.063 E F0(ar)3.063 E(gu-)-.18 E 1.454
(ment is the current en)133 513.6 R(vironment')-.4 E(s)-.55 E F1
(db_errpfx)3.954 E F0 3.954(\214eld. The)3.954 F F1 -.2(bu)3.954 G -.18
(ff).2 G(er).18 E F0(ar)3.954 E 1.455(gument contains a nul-terminated)
-.18 F(string with the additional information.)133 525.6 Q .594
(This error logging f)133 549.6 R .594
(acility should not be required for normal operation, b)-.1 F .593
(ut may be useful in deb)-.2 F(ug-)-.2 E(ging applications.)133 561.6 Q
(FILE *db_err\214le;)108 578.4 Q(The)133 590.4 Q F1(db_err\214le)2.88 E
F0 .38(\214eld beha)2.88 F -.15(ve)-.2 G 2.88(ss).15 G .38
(imilarly to the)-2.88 F F1(db_err)2.88 E(call)-.37 E F0 .38(\214eld, e)
2.88 F .38(xcept that the error message is written)-.15 F
(to the \214le stream represented by)133 602.4 Q F1(db_err\214le)2.5 E
F0(.).18 E(If)133 626.4 Q F1(db_errpfx)3.697 E F0 1.197
(is non-NULL, the message will be preceded by the string referenced by)
3.697 F F1(db_errpfx)3.696 E F0 3.696(,a).53 G(colon \(`)133 638.4 Q
(`:')-.74 E('\) and a space.)-.74 E(The message will be follo)5 E
(wed by a ne)-.25 E(wline character)-.25 E(.)-.55 E
(const char *db_errpfx;)108 655.2 Q 3.783(Ap)133 667.2 S 1.283
(re\214x to prepend to error messages.)-3.783 F 1.283
(Because Db does not cop)6.283 F 3.783(yt)-.1 G 1.283
(he memory referenced by the)-3.783 F F1(db_errpfx)133 679.2 Q F0
(\214eld, the application may modify the error message pre\214x at an)
2.5 E 2.5(yt)-.15 G(ime.)-2.5 E(ostream* error_stream;)108 696 Q .455
(The error_stream functions lik)133 708 R 2.955(et)-.1 G .455
(he error \214le, allo)-2.955 F .455
(wing errors to be redirected to a C++ error stream.)-.25 F
(It is unwise to use both error_stream with nonzero v)133 720 Q
(alues of either errcall or err\214le.)-.25 E(No)266.295 768 Q -.15(ve)
-.15 G(mber 25, 1997).15 E(4)189.295 E EP
%%Page: 5 5
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(DbEn)72 48 Q 386.32(v\(3\) DbEn)-.4 F(v\(3\))-.4
E(int db_v)108 84 Q(erbose;)-.15 E 2.19(Include informational and deb)
133 96 R 2.19(ugging messages as well as error messages in the)-.2 F/F1
10/Times-Italic@0 SF(db_err)4.69 E(call)-.37 E F0(and)4.69 E F1
(db_err\214le)133 108 Q F0(output.)2.5 E(int \(*db_yield\)\(v)108 124.8
Q(oid\);)-.2 E .267(The Db library mak)133 136.8 R .266
(es a system call to pause for some number of microseconds whene)-.1 F
-.15(ve)-.25 G 2.766(ri).15 G 2.766(ti)-2.766 G 2.766(sn)-2.766 G(eces-)
-2.766 E 1.032(sary to w)133 148.8 R 1.032(ait on a lock.)-.1 F 1.032
(This may not be optimal, especially in a thread-only en)6.032 F 1.033
(vironment where it)-.4 F .623(will be more ef)133 160.8 R .623
(\214cient to e)-.25 F .623
(xplicitly yield the processor to another thread.)-.15 F(If)5.622 E F1
(db_yield)3.122 E F0 .622(returns 0, indi-)3.122 F 1.127
(cating success, the lock will be re-tried, otherwise, the def)133 172.8
R 1.127(ault descheduling method will be called)-.1 F .099
(and then the lock will be re-tried.)133 184.8 R .099
(Note, it is probably incorrect to supply a thread)5.099 F F1(db_yield)
2.599 E F0 .098(method if)2.598 F 1.182
(more than a single process is operating in the Db en)133 196.8 R 3.682
(vironment. This)-.4 F 1.182(is because most thread-yield)3.682 F .499
(functions will not allo)133 208.8 R 2.999(wo)-.25 G .498(ther processes to run, and the lock may be held by another process, not by)
-2.999 F(another thread.)133 220.8 Q/F2 10/Times-Bold@0 SF 1.176
(Solaris ar)133 244.8 R(chitectur)-.18 E 3.676(en)-.18 G(ote:)-3.676 E
F0 1.176(Because of b)3.676 F 1.177(ugs in v)-.2 F 1.177
(ersions of Solaris before v)-.15 F 1.177(ersion 5.6, Db uses the)-.15 F
F1(sema_wait)133 256.8 Q F0 .79(\(3T\) call instead of the).68 F F1
(sema_trywait)3.29 E F0 .79(\(3T\) call.).68 F -.15(Fo)5.79 G 3.29(rt)
.15 G .79(his reason, setting the)-3.29 F F1(db_yield)3.29 E F0(\214eld)
3.29 E(of the DbEn)133 268.8 Q 2.5(vo)-.4 G(bject will ha)-2.5 E .3 -.15
(ve n)-.2 H 2.5(oe).15 G -.25(ff)-2.5 G(ect on Solaris.).25 E 1.345
(Each of the open functions that)108 285.6 R F1(appinit)3.845 E F0 1.345
(may call \()3.845 F F1(DbLoc)A(kT)-.2 E(ab::open)-.92 E F0(,).24 E F1
(DbLo)3.845 E(g::open)-.1 E F0(,).24 E F1(DbMpool::open)3.845 E F0(and)
3.845 E F1(DbTxnMgr::open)108 297.6 Q F0 2.5(\)i).24 G 2.5(sc)-2.5 G
(alled as follo)-2.5 E(ws, where the DB_CREA)-.25 E
(TE \215ag is optional:)-1.11 E(XXX::open\(NULL, DB_CREA)158 321.6 Q
(TE,)-1.11 E(S_IR)188 333.6 Q(USR | S_IWUSR | S_IRGRP | S_IWGRP)-.4 E
2.5(,d)-1.11 G(ben)-2.5 E(v\))-.4 E 1.031(This call will cause each subsystem to construct pathnames as described in the section on `)
108 350.4 R 1.03(`FILE N)-.74 F(AM-)-.35 E(ING')108 362.4 Q 2.595
('. The)-.74 F .095(subsystem has permission to read and write underlying \214les as necessary)
2.595 F 2.595(,a)-.65 G .095(nd optionally to cre-)-2.595 F .656
(ate \214les.)108 374.4 R .656
(\(All created \214les will be created readable and writeable by the o)
5.656 F .655(wner and the group.)-.25 F .655(The group)5.655 F -.25(ow)
108 386.4 S .188
(nership of created \214les is based on the system and directory def).25
F .188(aults, and is not further speci\214ed by Db)-.1 F(.\))-.4 E .964
(In addition, the)108 403.2 R F1(dben)3.463 E(v)-.4 E F0(ar)3.463 E .963
(gument is passed to the open functions of an)-.18 F 3.463(ys)-.15 G
.963(ubsystems initialized by)-3.463 F F1(appinit)3.463 E F0(.).68 E
-.15(Fo)108 415.2 S 2.979(rt).15 G .479
(his reason the \214elds of the DbEn)-2.979 F 2.979(vo)-.4 G .479
(bject rele)-2.979 F -.25(va)-.25 G .48
(nt to the subsystems being initialized must themselv).25 F(es)-.15 E
.299(be initialized before)108 427.2 R F1(appinit)2.799 E F0 .299
(is called.)2.799 F .299(See the manual page for each subsystem for a list of these \214elds and)
5.299 F(their uses.)108 439.2 Q(The return v)108 456 Q(alue from each of these calls is placed in the appropriate \214eld of the DbEn)
-.25 E 2.5(vo)-.4 G(bject:)-2.5 E(DbLockT)108 472.8 Q(ab *lk_info;)-.8 E
(The return v)135.5 484.8 Q(alue of the)-.25 E F1(DbLoc)2.5 E(kT)-.2 E
(ab::open)-.92 E F0(\(3\) call.).24 E(DbLog *lg_info;)108 501.6 Q
(The return v)135.5 513.6 Q(alue of the)-.25 E F1(DbLo)2.5 E(g::open)-.1
E F0(\(3\) call.).24 E(DbMpool *mp_info;)108 530.4 Q(The return v)135.5
542.4 Q(alue of the)-.25 E F1(DbMpool::open)2.5 E F0(\(3\) call.).24 E
(DbTxnMgr *tx_info;)108 559.2 Q(The return v)135.5 571.2 Q(alue of the)
-.25 E F1(DbTxnMgr::open)2.5 E F0(\(3\) call.).24 E 1.166(In general, these \214elds are not directly used by applications; subsystems of Db that use these \214elds will)
108 588 R(simply reference them using the DbEn)108 600 Q 2.5(va)-.4 G
-.18(rg)-2.5 G(ument passed to the subsystem.).18 E -.15(Fo)108 616.8 S
3.13(re).15 G .629(xample, an application using the Db hash access method functions to access a database will \214rst call)
-3.28 F F1(Db::open)108 628.8 Q F0 .393(passing it the DbEn)2.893 F
2.893(va)-.4 G -.18(rg)-2.893 G .394
(ument \214lled in by the initial call to).18 F F1(appinit)2.894 E F0
5.394(.T).68 G .394(hen, all future calls to the)-5.394 F .181(hash access method functions for that database will automatically use the underlying shared memory b)
108 640.8 R(uf)-.2 E(fer)-.25 E(pool that w)108 652.8 Q
(as speci\214ed by the)-.1 E F1(mp_info)2.5 E F0(\214eld of that DbEn)
2.5 E 2.5(va)-.4 G -.18(rg)-2.5 G(ument.).18 E 1.898(The single e)108
669.6 R 1.898(xception to this rule is the)-.15 F F1(tx_info)4.398 E F0
1.898(\214eld, which applications must e)4.398 F 1.899
(xplicitly specify to the)-.15 F F1(DbTxnMgr::be)108 681.6 Q(gin)-.4 E
F0(,).24 E F1(DbTxnMgr::c)2.5 E(hec)-.15 E(kpoint)-.2 E F0(and)2.5 E F1
(DbTxnMgr::close)2.5 E F0(functions.)2.5 E(The)108 698.4 Q F1(err)3.39 E
(or_model)-.45 E F0 .89(\214eld of DbEn)3.39 F 3.39(va)-.4 G(llo)-3.39 E
.89(ws the user to con\214gure the w)-.25 F .889
(ay errors are treated in DB.)-.1 F .889(It can be)5.889 F 1.39
(changed at an)108 710.4 R 3.89(yt)-.15 G 1.39
(ime \(e.g., after the call to)-3.89 F F1(DbEn)3.891 E(v::appinit)-.4 E
F0 3.891(\). The).68 F 1.391(error model is described in)3.891 F F1
(DbExcep-)3.891 E(tion)108 722.4 Q F0(\(3\).).24 E(No)266.295 768 Q -.15
(ve)-.15 G(mber 25, 1997).15 E(5)189.295 E EP
%%Page: 6 6
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(DbEn)72 48 Q 386.32(v\(3\) DbEn)-.4 F(v\(3\))-.4
E/F1 9/Times-Bold@0 SF(FILE N)72 84 Q(AMING)-.18 E F0
(The most important task of)108 96 Q/F2 10/Times-Italic@0 SF(appinit)2.5
E F0(is to structure \214le naming within Db)2.5 E(.)-.4 E 1.972(Each of the locking, logging, memory pool and transaction subsystems of Db require shared memory)
108 112.8 R(re)108 124.8 Q 1.001(gions, back)-.15 F 1.001
(ed by the \214lesystem.)-.1 F(Further)6.001 E 3.501(,c)-.4 G 1.002
(ooperating applications \(or multiple in)-3.501 F -.2(vo)-.4 G 1.002
(cations of the same).2 F .71
(application\) must agree on the location of the shared memory re)108
136.8 R .709(gions and other \214les used by the Db sub-)-.15 F(systems, the log \214les used by the logging subsystem, and, of course, the data \214les.)
108 148.8 Q .576(Although it is possible to specify full pathnames to all Db functions, this is cumbersome and requires that)
108 165.6 R .553
(applications be recompiled when database \214les are mo)108 177.6 R
-.15(ve)-.15 G 3.053(d. The).15 F F2(appinit)3.053 E F0 .552(method mak)
3.053 F .552(es it possible to place)-.1 F
(database \214les in a single directory)108 189.6 Q 2.5(,o)-.65 G 2.5
(ri)-2.5 G 2.5(nm)-2.5 G
(ultiple directories, grouped by their method within the database.)-2.5
E .244(Applications are normally e)108 206.4 R .244
(xpected to specify a single directory home for their database.)-.15 F
.245(This can be done)5.245 F .241(easily in the call to)108 218.4 R F2
(appinit)2.741 E F0 .241(by specifying a v)2.741 F .241(alue for the)
-.25 F F2(db_home)2.74 E F0(ar)2.74 E 2.74(gument. There)-.18 F .24
(are more comple)2.74 F 2.74(xc)-.15 G(on-)-2.74 E
(\214gurations where it may be desirable to o)108 230.4 Q -.15(ve)-.15 G
(rride).15 E F2(db_home)2.5 E F0(or pro)2.5 E
(vide supplementary path information.)-.15 E 1.156(The follo)108 247.2 R
1.156(wing describes the possible w)-.25 F 1.156
(ays in which \214le naming information may be speci\214ed to the Db)-.1
F(library)108 259.2 Q 5.04(.T)-.65 G .04
(he speci\214c circumstances and order in which these w)-5.04 F .04
(ays are applied are described in a subsequent)-.1 F(paragraph.)108
271.2 Q F2(db_home)108 288 Q F0 .652(If the)133 300 R F2(db_home)3.153 E
F0(ar)3.153 E .653(gument to)-.18 F F2(appinit)3.153 E F0 .653
(is non-NULL, its v)3.153 F .653
(alue may be used as the database home, and)-.25 F(\214les named relati)
133 312 Q .3 -.15(ve t)-.25 H 2.5(oi).15 G(ts path.)-2.5 E(DB_HOME)108
328.8 Q 1.056(If the DB_HOME en)133 340.8 R 1.056(vironment v)-.4 F
1.056(ariable is set when)-.25 F F2(appinit)3.556 E F0 1.056
(is called, its v)3.556 F 1.056(alue may be used as the)-.25 F
(database home, and \214les named relati)133 352.8 Q .3 -.15(ve t)-.25 H
2.5(oi).15 G(ts path.)-2.5 E F2(db_con\214g)108 369.6 Q F0(The)133 381.6
Q F2(db_con\214g)2.812 E F0(ar)2.813 E .313(gument to)-.18 F F2(appinit)
2.813 E F0 .313
(may be used to specify an array of character strings of the format)
2.813 F -.74(``)133 393.6 S -.35(NA).74 G .265(ME V).35 F(ALUE')-1.35 E
.265(', that specify \214le name information for the process' Db en)-.74
F 2.764(vironment. The)-.4 F(whites-)2.764 E .027
(pace delimiting the tw)133 405.6 R 2.527(op)-.1 G .028
(arts of the entry may be one or more <space> or <tab> characters.)
-2.527 F(\(Leading)5.028 E 1.143
(or trailing <space> and <tab> characters are discarded.\))133 417.6 R
1.143(Each entry must specify both the N)6.143 F(AME)-.35 E 1.878
(and the V)133 429.6 R 1.878(ALUE of the pair)-1.35 F 6.879(.A)-.55 G
1.879(ll entries with unrecognized N)-6.879 F 1.879(AME v)-.35 F 1.879
(alues will be ignored.)-.25 F(The)6.879 E F2(db_con\214g)133 441.6 Q F0
(array must be NULL terminated.)2.5 E(DB_CONFIG)108 458.4 Q .056
(The same information speci\214ed to the)133 470.4 R F2(db_con\214g)
2.555 E F0(ar)2.555 E .055(gument to)-.18 F F2(appinit)2.555 E F0 .055
(may be speci\214ed using a con\214g-)2.555 F .861(uration \214le.)133
482.4 R .861(If a database home directory has been speci\214ed \(either by the application specifying a)
5.861 F(non-NULL)133 494.4 Q F2(db_home)3.24 E F0(ar)3.24 E .74
(gument to)-.18 F F2(appinit)3.24 E F0 3.24(,o).68 G 3.24(rb)-3.24 G
3.24(yt)-3.24 G .74(he application setting the DB_USE_ENVIR)-3.24 F .74
(ON or)-.4 F(DB_USE_ENVIR)133 506.4 Q(ON_R)-.4 E(OO)-.4 E 4.599<548d>-.4
G 2.099(ags and the DB_HOME en)-4.599 F 2.099(vironment v)-.4 F 2.099
(ariable being set\), an)-.25 F 4.599<798c>-.15 G(le)-4.599 E .478
(named `)133 518.4 R(`DB_CONFIG')-.74 E 2.978('i)-.74 G 2.978(nt)-2.978
G .477
(he database home directory will be read for lines of the format `)
-2.978 F(`N)-.74 E(AME)-.35 E -1.35(VA)133 530.4 S(LUE')1.35 E 2.649
('. The)-.74 F .149(whitespace delimiting the tw)2.649 F 2.649(op)-.1 G
.15(arts of the line may be one or more <space> or <tab>)-2.649 F 4.026
(characters. \(Leading)133 542.4 R 1.525
(or trailing <space> and <tab> characters are discarded.\))4.026 F 1.525
(All empty lines or)6.525 F .368
(lines whose \214rst non-whitespace character is a hash character \(`)
133 554.4 R(`#')-.74 E .369('\) will be ignored.)-.74 F .369
(Each line must)5.369 F .377(specify both the N)133 566.4 R .376
(AME and the V)-.35 F .376(ALUE of the pair)-1.35 F 5.376(.A)-.55 G .376
(ll lines with unrecognized N)-5.376 F .376(AME v)-.35 F .376
(alues will)-.25 F(be ignored.)133 578.4 Q .644(The follo)108 595.2 R
.644(wing `)-.25 F(`N)-.74 E .644(AME V)-.35 F(ALUE')-1.35 E 3.144('p)
-.74 G .644(airs in the)-3.144 F F2(db_con\214g)3.144 E F0(ar)3.144 E
.645(gument and the DB_CONFIG \214le are currently)-.18 F
(supported by Db)108 607.2 Q(.)-.4 E(DB_D)108 624 Q -1.21 -1.11(AT A)-.4
H(_DIR)1.11 E .212(The path of a directory to be used as the location of the access method data \214les, e.g., paths speci\214ed)
133 636 R(to the)133 648 Q F2(Db::open)2.5 E F0
(\(3\) method will be relati).24 E .3 -.15(ve t)-.25 H 2.5(ot).15 G
(his path.)-2.5 E 1.045(The DB_D)133 664.8 R -1.21 -1.11(AT A)-.4 H
1.045(_DIR paths are additi)1.11 F -.15(ve)-.25 G 3.545(,a).15 G 1.045
(nd specifying more than one will result in each speci\214ed)-3.545 F
.177(directory being searched for database data \214les.)133 676.8 R
.176(If multiple paths are speci\214ed, created data \214les will)5.177
F(al)133 688.8 Q -.1(wa)-.1 G(ys be created in the).1 E/F3 10
/Times-Bold@0 SF(\214rst)2.5 E F0(directory speci\214ed.)2.5 E
(DB_LOG_DIR)108 705.6 Q .38(The path of a directory to be used as the location of logging \214les, e.g., \214les created by the)
133 717.6 R F2(DbLo)2.88 E(g)-.1 E F0(\(3\)).22 E .182
(subsystem will be relati)133 729.6 R .482 -.15(ve t)-.25 H 2.682(ot).15
G .182(his directory)-2.682 F 5.182(.I)-.65 G 2.682(fs)-5.182 G .182
(peci\214ed, this is the directory name that will be passed)-2.682 F(No)
266.295 768 Q -.15(ve)-.15 G(mber 25, 1997).15 E(6)189.295 E EP
%%Page: 7 7
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(DbEn)72 48 Q 386.32(v\(3\) DbEn)-.4 F(v\(3\))-.4
E(to)133 84 Q/F1 10/Times-Italic@0 SF(DbLo)2.5 E(g::open)-.1 E F0
(\(3\).).24 E(DB_TMP_DIR)108 100.8 Q 1.089(The path of a directory to be used as the location of temporary \214les, e.g., \214les created to back in-)
133 112.8 R .018(memory access method databases will be created relati)
133 124.8 R .317 -.15(ve t)-.25 H 2.517(ot).15 G .017(his path.)-2.517 F
.017(Note, these temporary \214les can)5.017 F(potentially be quite lar)
133 136.8 Q(ge, depending on the size of the database.)-.18 E 3.148
(If DB_TMP_DIR is not speci\214ed, the follo)133 160.8 R 3.148(wing en)
-.25 F 3.148(vironment v)-.4 F 3.149(ariables are check)-.25 F 3.149
(ed in order:)-.1 F -.74(``)133 172.8 S(TMPDIR').74 E .813(', `)-.74 F
(`TEMP')-.74 E .813(', `)-.74 F(`TMP')-.74 E 3.312('a)-.74 G .812(nd `)
-3.312 F(`T)-.74 E(empF)-.7 E(older')-.15 E 3.312('. If)-.74 F .812
(one of them is set, temporary \214les are cre-)3.312 F(ated relati)133
184.8 Q .3 -.15(ve t)-.25 H 2.5(ot).15 G(he directory it speci\214es.)
-2.5 E .135(If DB_TMP_DIR is not speci\214ed and none of the abo)133
208.8 R .436 -.15(ve e)-.15 H -.4(nv).15 G .136(ironment v).4 F .136
(ariables are set, the \214rst possi-)-.25 F(ble one of the follo)133
220.8 Q(wing directories is used:)-.25 E F1(/var/tmp)2.5 E F0(,).19 E F1
(/usr/tmp)2.5 E F0(,).19 E F1(/temp)2.5 E F0(,).19 E F1(/tmp)2.5 E F0(,)
.19 E F1(C:/temp)2.5 E F0(and)2.5 E F1(C:/tmp)2.5 E F0(.).19 E .42
(The follo)108 237.6 R .42
(wing describes the speci\214c circumstances and order in which the dif)
-.25 F .42(ferent w)-.25 F .42(ays of specifying \214le)-.1 F 1.035
(naming information are applied.)108 249.6 R(Speci\214cally)6.036 E
3.536(,D)-.65 G 3.536<628c>-3.536 G 1.036
(le name processing proceeds sequentially through the)-3.536 F(follo)108
261.6 Q(wing steps:)-.25 E -.74(``)108 278.4 S(/').74 E 10.38('I)-.74 G
2.953(fa)-10.38 G .753 -.15(ny \214)-2.953 H .453
(le name speci\214ed to an).15 F 2.953(yD)-.15 G 2.953(bm)-2.953 G .453
(ethod be)-2.953 F .452
(gins with a leading slash, that \214le name is used with-)-.15 F
(out modi\214cation by Db)133 290.4 Q(.)-.4 E(DB_CONFIG)108 307.2 Q .509
(If a rele)133 319.2 R -.25(va)-.25 G .509
(nt con\214guration string \(e.g., DB_D).25 F -1.21 -1.11(AT A)-.4 H
.509(_DIR\), is speci\214ed in the DB_CONFIG con\214gura-)1.11 F .782
(tion \214le, the V)133 331.2 R .781(ALUE from the `)-1.35 F(`N)-.74 E
.781(AME V)-.35 F(ALUE')-1.35 E 3.281('p)-.74 G .781
(air is prepended to the current \214le name.)-3.281 F .781(If the)5.781
F .465(resulting \214le name be)133 343.2 R .466(gins with a leading slash, the \214le name is used without further modi\214cation by)
-.15 F(Db)133 355.2 Q(.)-.4 E 1.295(The DB_CONFIG con\214guration \214le is intended to permit systems to customize \214le location for a)
133 379.2 R .406
(database independent of applications using that database.)133 391.2 R
-.15(Fo)5.407 G 2.907(re).15 G .407
(xample, a database administrator can)-3.057 F(mo)133 403.2 Q .3 -.15
(ve t)-.15 H(he database log and data \214les to a dif).15 E
(ferent location without application recompilation.)-.25 E F1
(db_con\214g)108 420 Q F0 .013(If a rele)133 432 R -.25(va)-.25 G .013
(nt con\214guration string \(e.g., DB_D).25 F -1.21 -1.11(AT A)-.4 H
.013(_DIR\), is speci\214ed in the)1.11 F F1(db_con\214g)2.513 E F0(ar)
2.513 E .012(gument and is)-.18 F .55
(not speci\214ed in the DB_CONFIG \214le, the V)133 444 R .551
(ALUE from the `)-1.35 F(`N)-.74 E .551(AME V)-.35 F(ALUE')-1.35 E 3.051
('p)-.74 G .551(air is prepended to)-3.051 F 1.218
(the current \214le name.)133 456 R 1.218
(If the resulting \214le name be)6.218 F 1.218
(gins with a leading slash, the \214le name is used)-.15 F
(without further modi\214cation by Db)133 468 Q(.)-.4 E(The)133 492 Q F1
(db_con\214g)3.195 E F0(ar)3.195 E .695(gument is intended to permit applications to customize \214le location for a database.)
-.18 F -.15(Fo)133 504 S 2.804(re).15 G .303(xample, an application writer can place data \214les and log \214les in dif)
-2.954 F .303(ferent directories, or instan-)-.25 F(tiate a ne)133 516 Q
2.5(wl)-.25 G(og directory each time the application runs.)-2.5 E
(DB_HOME)108 532.8 Q 3.037(If the DB_HOME en)133 544.8 R 3.037
(vironment v)-.4 F 3.038(ariable w)-.25 F 3.038
(as set, \(and the application has set the appropriate)-.1 F
(DB_USE_ENVIR)133 556.8 Q .674(ON or DB_USE_ENVIR)-.4 F(ON_R)-.4 E(OO)
-.4 E 3.174(Te)-.4 G -.4(nv)-3.174 G .674(ironment v).4 F .674
(ariable\), its v)-.25 F .673(alue is prepended)-.25 F .612
(to the current \214le name.)133 568.8 R .613
(If the resulting \214le name be)5.612 F .613
(gins with a leading slash, the \214le name is used)-.15 F
(without further modi\214cation by Db)133 580.8 Q(.)-.4 E .396
(The DB_HOME en)133 604.8 R .396(vironment v)-.4 F .395
(ariable is intended to permit users and system administrators to o)-.25
F -.15(ve)-.15 G -.2(r-).15 G(ride application and installation def)133
616.8 Q(aults, e.g.,)-.1 E(en)183 640.8 Q 2.5(vD)-.4 G
(B_HOME=/database/my_home application)-2.5 E(Alternati)133 664.8 Q -.15
(ve)-.25 G(ly).15 E 2.651(,a)-.65 G .151
(pplication writers are encouraged to support the)-2.651 F/F2 10
/Times-Bold@0 SF<ad68>2.651 E F0 .152(option found in the supporting Db)
2.652 F(utilities to let users specify a database home.)133 676.8 Q F1
(db_home)108 693.6 Q F0 .803(If the application speci\214ed a non-NULL)
133 705.6 R F1(db_home)3.303 E F0(ar)3.303 E .803(gument to)-.18 F F1
(appinit)3.303 E F0 .803(\(and the database home w)3.303 F(as)-.1 E .821
(not already speci\214ed using the DB_HOME en)133 717.6 R .821
(vironment v)-.4 F .821(ariable\) its v)-.25 F .822
(alue is prepended to the cur)-.25 F(-)-.2 E .909(rent \214le name.)133
729.6 R .909(If the resulting \214le name be)5.909 F .908
(gins with a leading slash, the \214le name is used without)-.15 F(No)
266.295 768 Q -.15(ve)-.15 G(mber 25, 1997).15 E(7)189.295 E EP
%%Page: 8 8
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(DbEn)72 48 Q 386.32(v\(3\) DbEn)-.4 F(v\(3\))-.4
E(further modi\214cation by Db)133 84 Q(.)-.4 E(\(nothing\))108 100.8 Q
(Finally)133 112.8 Q 2.5(,a)-.65 G
(ll \214le names are interpreted relati)-2.5 E .3 -.15(ve t)-.25 H 2.5
(ot).15 G(he current w)-2.5 E(orking directory of the process.)-.1 E
.559(The common model for a Db en)108 129.6 R .559
(vironment is one where only the DB_HOME en)-.4 F .56(vironment v)-.4 F
.56(ariable, or the)-.25 F/F1 10/Times-Italic@0 SF(db_home)108 141.6 Q
F0(ar)2.822 E .322(gument, is speci\214ed.)-.18 F .322
(In this case, all data \214les will be presumed to be relati)5.322 F
.621 -.15(ve t)-.25 H 2.821(ot).15 G .321(hat directory)-2.821 F(,)-.65
E(and all \214les created by the Db subsystems will be created in that directory)
108 153.6 Q(.)-.65 E .563(The more comple)108 170.4 R 3.063(xm)-.15 G
.564(odel for a transaction en)-3.063 F .564
(vironment might be one where a database home is speci\214ed,)-.4 F
3.588(using either the DB_HOME en)108 182.4 R 3.588(vironment v)-.4 F
3.588(ariable or the)-.25 F F1(db_home)6.088 E F0(ar)6.088 E 3.587
(gument to)-.18 F F1(appinit)6.087 E F0 6.087(,a).68 G 3.587(nd then)
-6.087 F(DB_D)108 194.4 Q -1.21 -1.11(AT A)-.4 H .669
(_DIR and DB_LOG_DIR are set to the relati)1.11 F .969 -.15(ve p)-.25 H
.67(ath names of directories underneath the home).15 F
(directory using the)108 206.4 Q F1(db_con\214g)2.5 E F0(ar)2.5 E
(gument to)-.18 E F1(appinit)2.5 E F0(or the DB_CONFIG \214le.)2.5 E/F2
9/Times-Bold@0 SF(EXAMPLES)72 223.2 Q F0
(Store all \214les in the directory)108 235.2 Q F1(/a/database)2.5 E F0
(:).18 E(DbEn)144 252 Q(v::appinit\("/a/database", NULL, ...\);)-.4 E
(Create temporary backing \214les in)108 268.8 Q F1(/b/tempor)2.5 E(ary)
-.15 E F0 2.5(,a).32 G(nd all other \214les in)-2.5 E F1(/a/database)2.5
E F0(:).18 E(char *con\214g[] = {)144 285.6 Q
("DB_TMP_DIR /b/temporary",)154 297.6 Q(NULL)154 309.6 Q(};)144 321.6 Q
(DbEn)144 345.6 Q(v::appinit\("/a/database", con\214g, ...\);)-.4 E
1.209(Store data \214les in)108 362.4 R F1(/a/database/datadir)3.709 E
F0 3.709(,l).73 G 1.209(og \214les in)-3.709 F F1(/a/database/lo)3.709 E
(gdir)-.1 E F0 3.709(,a).73 G 1.208
(nd all other \214les in the directory)-3.709 F F1(/a/database)108 374.4
Q F0(:).18 E(char *con\214g[] = {)144 391.2 Q("DB_D)154 403.2 Q -1.21
-1.11(AT A)-.4 H(_DIR datadir",)1.11 E("DB_LOG_DIR logdir",)154 415.2 Q
(NULL)154 427.2 Q(};)144 439.2 Q(DbEn)144 463.2 Q
(v::appinit\("/a/database", con\214g, ...\);)-.4 E .244
(Store data \214les in)108 480 R F1(/a/database/data1)2.744 E F0(and)
2.744 E F1(/b/data2)2.744 E F0 2.744(,a).02 G .244
(nd all other \214les in the directory)-2.744 F F1(/a/database)2.745 E
F0 5.245(.A).18 G .545 -.15(ny d)-5.245 H(ata).15 E
(\214les that are created will be created in)108 492 Q F1(/b/data2)2.5 E
F0(:).02 E(char *con\214g[] = {)144 508.8 Q("DB_D)154 520.8 Q -1.21
-1.11(AT A)-.4 H(_DIR /b/data2",)1.11 E("DB_D)154 532.8 Q -1.21 -1.11
(AT A)-.4 H(_DIR data1",)1.11 E(NULL)154 544.8 Q(};)144 556.8 Q(DbEn)144
580.8 Q(v::appinit\("/a/database", con\214g, ...\);)-.4 E .008
(See the \214le)108 597.6 R F1 -.2(ex)2.508 G(amples_cxx/AppinitExample)
.2 E(.cpp)-.15 E F0 .008(in the Db source distrib)2.508 F .008
(ution for a C++ language code e)-.2 F(xam-)-.15 E(ple of ho)108 609.6 Q
2.5(wa)-.25 G 2.5(na)-2.5 G(pplication might use)-2.5 E F1(appinit)2.5 E
F0(to con\214gure its Db en)2.5 E(vironment.)-.4 E F2(ERR)72 626.4 Q
(ORS)-.27 E F0 .049(Methods mark)108 638.4 R .049(ed as returning)-.1 F
F1(errno)2.549 E F0 .049(will, by def)2.549 F .049(ault, thro)-.1 F
2.549(wa)-.25 G 2.549(ne)-2.549 G .05
(xception that encapsulates the error informa-)-2.699 F 2.5(tion. The)
108 650.4 R(def)2.5 E(ault error beha)-.1 E(vior can be changed, see)-.2
E F1(DbException)2.5 E F0(\(3\).).24 E(The)108 667.2 Q F1(appinit)2.5 E
F0(method may f)2.5 E(ail and thro)-.1 E 2.5(wa)-.25 G F1(DbException)A
F0(\(3\)).24 E(or return)108 691.2 Q F1(errno)2.5 E F0(for an)2.5 E 2.5
(yo)-.15 G 2.5(ft)-2.5 G(he errors speci\214ed for the follo)-2.5 E
(wing DB and library functions: Db::close\(3\),)-.25 E(DbEn)108 703.2 Q
(v::appe)-.4 E(xit\(3\), DbLock::unlink\(3\), DbLockT)-.15 E
(ab::open\(3\), DbLog::compare\(3\), DbLog::get\(3\),)-.8 E(DbLog::open\(3\), DbLog::unlink\(3\), DbMpool::open\(3\), DbMpool::unlink\(3\), DbTxnMgr::checkpoint\(3\),)
108 715.2 Q(DbTxnMgr::open\(3\), DbTxnMgr::unlink\(3\), calloc\(3\), fclose\(3\), fcntl\(2\), f)
108 727.2 Q(\215ush\(3\), fgets\(3\), fopen\(3\),)-.25 E(No)266.295 768
Q -.15(ve)-.15 G(mber 25, 1997).15 E(8)189.295 E EP
%%Page: 9 9
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(DbEn)72 48 Q 386.32(v\(3\) DbEn)-.4 F(v\(3\))-.4
E(malloc\(3\), memcp)108 84 Q(y\(3\), memset\(3\), realloc\(3\), stat\(2\), strchr\(3\), strcmp\(3\), strcp)
-.1 E(y\(3\), strdup\(3\), strerror\(3\),)-.1 E
(strlen\(3\), strsep\(3\), and time\(3\).)108 96 Q .24(In addition, the)
108 112.8 R/F1 10/Times-Italic@0 SF(appinit)2.74 E F0 .24(method may f)
2.74 F .24(ail and thro)-.1 F 2.741(wa)-.25 G F1(DbException)A F0 .241
(\(3\) or return).24 F F1(errno)2.741 E F0 .241(for the follo)2.741 F
.241(wing con-)-.25 F(ditions:)108 124.8 Q([EINV)108 141.6 Q(AL])-1.35 E
(An in)133 153.6 Q -.25(va)-.4 G(lid \215ag v).25 E(alue or parameter w)
-.25 E(as speci\214ed.)-.1 E(The DB_THREAD \215ag w)133 177.6 Q(as speci\214ed and spinlocks are not implemented for this architecture.)
-.1 E(The DB_HOME or TMPDIR en)133 201.6 Q(vironment v)-.4 E
(ariables were set b)-.25 E(ut empty)-.2 E(.)-.65 E
(An incorrectly formatted `)133 225.6 Q(`N)-.74 E(AME V)-.35 E(ALUE')
-1.35 E 2.5('e)-.74 G(ntry or line w)-2.5 E(as found.)-.1 E([ENOSPC])108
242.4 Q(HP-UX only: a pre)133 254.4 Q(viously created Db en)-.25 E
(vironment for this process still e)-.4 E(xists.)-.15 E(The)108 271.2 Q
F1(DbEn)2.5 E(v::appe)-.4 E(xit)-.2 E F0(method may f)2.5 E
(ail and thro)-.1 E 2.5(wa)-.25 G F1(DbException)A F0(\(3\)).24 E
(or return)108 295.2 Q F1(errno)2.5 E F0(for an)2.5 E 2.5(yo)-.15 G 2.5
(ft)-2.5 G(he errors speci\214ed for the follo)-2.5 E
(wing DB and library functions: DbLock-)-.25 E -.8(Ta)108 307.2 S(b::close\(3\), DbLog::close\(3\), DbMpool::close\(3\), and DbTxnMgr::close\(3\).)
.8 E/F2 9/Times-Bold@0 SF -.09(BU)72 324 S(GS).09 E F0 .318
(Due to the constraints of the P)108 336 R .318
(A-RISC memory architecture, HP-UX does not allo)-.92 F 2.819(wap)-.25 G
.319(rocess to map a \214le)-2.819 F .222
(into its address space multiple times.)108 348 R -.15(Fo)5.222 G 2.722
(rt).15 G .222(his reason, each DB en)-2.722 F .221
(vironment may be opened only once by a)-.4 F .635
(process on HP-UX, i.e., calls to)108 360 R F1(appinit)3.135 E F0 .635
(will f)3.135 F .636(ail if the speci\214ed Db en)-.1 F .636
(vironment has been opened and not)-.4 F 2.5(subsequently closed.)108
372 R .01(Because of b)108 388.8 R .01(ugs in v)-.2 F .01
(ersions of Solaris before v)-.15 F .009(ersion 5.6, setting the)-.15 F
F1(db_yield)2.509 E F0 .009(\214eld of the DbEn)2.509 F 2.509(vo)-.4 G
.009(bject will)-2.509 F(ha)108 400.8 Q .3 -.15(ve n)-.2 H 2.5(oe).15 G
-.25(ff)-2.5 G(ect on Solaris.).25 E F2(SEE ALSO)72 417.6 Q F1(db_ar)108
429.6 Q -.15(ch)-.37 G(ive).15 E F0(\(1\),).18 E F1(db_c)2.5 E(hec)-.15
E(kpoint)-.2 E F0(\(1\),).68 E F1(db_deadloc)2.5 E(k)-.2 E F0(\(1\),).67
E F1(db_dump)2.5 E F0(\(1\),).19 E F1(db_load)2.5 E F0(\(1\),).77 E F1
(db_r)2.5 E(eco)-.37 E(ver)-.1 E F0(\(1\),).73 E F1(db_stat)2.5 E F0
(\(1\),).68 E F1(db_intr)108 441.6 Q(o)-.45 E F0(\(3\),).18 E F1
(db_internal)2.5 E F0(\(3\),).51 E F1(db_thr)2.5 E(ead)-.37 E F0(\(3\),)
.77 E F1(Db)2.5 E F0(\(3\),).23 E F1(Dbc)2.5 E F0(\(3\),).31 E F1(DbEn)
2.5 E(v)-.4 E F0(\(3\),).32 E F1(DbException)2.5 E F0(\(3\),).24 E F1
(DbInfo)2.5 E F0(\(3\),).18 E F1(DbLoc)108 453.6 Q(k)-.2 E F0(\(3\),).67
E F1(DbLoc)2.5 E(kT)-.2 E(ab)-.92 E F0(\(3\),).23 E F1(DbLo)2.5 E(g)-.1
E F0(\(3\),).22 E F1(DbLsn)2.5 E F0(\(3\),).24 E F1(DbMpool)2.5 E F0
(\(3\),).51 E F1(DbMpoolF)2.5 E(ile)-.45 E F0(\(3\),).18 E F1(Dbt)2.5 E
F0(\(3\),).68 E F1(DbTxn)2.5 E F0(\(3\),).24 E F1(DbTxnMgr)108 465.6 Q
F0(\(3\)).73 E(No)266.295 768 Q -.15(ve)-.15 G(mber 25, 1997).15 E(9)
189.295 E EP
%%Trailer
end
%%EOF
