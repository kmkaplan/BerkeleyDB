%!PS-Adobe-3.0
%%Creator: groff version 1.10
%%CreationDate: Mon Nov  3 11:28:44 1997
%%DocumentNeededResources: font Times-Roman
%%+ font Times-Bold
%%+ font Times-Italic
%%DocumentSuppliedResources: procset grops 1.10 0
%%Pages: 14
%%PageOrder: Ascend
%%Orientation: Portrait
%%EndComments
%%BeginProlog
%%BeginResource: procset grops 1.10 0
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/MF{
findfont
[5 2 roll
0 3 1 roll
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}bind def
/DA{
newpath arcn stroke
}bind def
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
/DL{
SN
moveto
SN
lineto stroke
}bind def
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
/FL{
currentgray exch setgray fill setgray
}bind def
/BL/fill load def
/LW/setlinewidth load def
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
}bind def
/PEND{
clear
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%IncludeResource: font Times-Roman
%%IncludeResource: font Times-Bold
%%IncludeResource: font Times-Italic
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 792 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron/Zcaron
/scaron/zcaron/Ydieresis/trademark/quotesingle/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Times-Italic@0 ENC0/Times-Italic RE/Times-Bold@0 ENC0/Times-Bold RE
/Times-Roman@0 ENC0/Times-Roman RE
%%EndProlog
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 352.18(DB_OPEN\(3\) DB_OPEN\(3\))72 48 R/F1 9
/Times-Bold@0 SF -.18(NA)72 84 S(ME).18 E F0
(db_open \255 database access methods)108 96 Q F1(SYNOPSIS)72 112.8 Q/F2
10/Times-Bold@0 SF(#include <db)108 124.8 Q(.h>)-.4 E(int)108 148.8 Q
(db_open\(const char *\214le, DBTYPE type,)108 160.8 Q
(int \215ags, int mode, DB_ENV *dben)158 172.8 Q 1.1 -.55(v, D)-.4 H
(B_INFO *dbinf).55 E(o, DB **dbpp\);)-.25 E(int)108 196.8 Q
(DB->close\(DB *db, int \215ags\);)108 208.8 Q(int)108 232.8 Q
(DB->cursor\(DB *db, DB_TXN *txnid, DBC **cursor)108 244.8 Q(p\);)-.1 E
(int)108 268.8 Q(DB->del\(DB *db, DB_TXN *txnid, DBT *k)108 280.8 Q(ey)
-.1 E 2.5(,i)-.55 G(nt \215ags\);)-2.5 E(int)108 304.8 Q
(DB->fd\(DB *db, int *fdp\);)108 316.8 Q(int)108 340.8 Q
(DB->get\(DB *db, DB_TXN *txnid, DBT *k)108 352.8 Q(ey)-.1 E 2.5(,D)-.55
G(BT *data, int \215ags\);)-2.5 E(int)108 376.8 Q
(DB->put\(DB *db, DB_TXN *txnid, DBT *k)108 388.8 Q(ey)-.1 E 2.5(,D)-.55
G(BT *data, int \215ags\);)-2.5 E(int)108 412.8 Q
(DB->sync\(DB *db, int \215ags\);)108 424.8 Q(int)108 448.8 Q
(DB->stat\(DB *db, v)108 460.8 Q(oid *sp, v)-.1 E
(oid *\(*db_malloc\)\(size_t\), int \215ags\);)-.1 E F1(DESCRIPTION)72
477.6 Q F0 .486(The DB library is a f)108 489.6 R .485
(amily of groups of functions that pro)-.1 F .485
(vides a modular programming interf)-.15 F .485(ace to trans-)-.1 F .523
(actions and record-oriented \214le access.)108 501.6 R .523
(The library includes support for transactions, locking, logging and)
5.523 F .507(\214le page caching, as well as v)108 513.6 R .507
(arious inde)-.25 F -.15(xe)-.15 G 3.007(da).15 G .506(ccess methods.)
-3.007 F(Man)5.506 E 3.006(yo)-.15 G 3.006(ft)-3.006 G .506
(he functional groups \(e.g., the \214le)-3.006 F .168(page caching functions\) are useful independent of the other DB functions, although some functional groups)
108 525.6 R .122(are e)108 537.6 R .121(xplicitly based on other functional groups \(e.g., transactions and logging\).)
-.15 F -.15(Fo)5.121 G 2.621(rag).15 G .121(eneral description of)-2.621
F(the DB package, see)108 549.6 Q/F3 10/Times-Italic@0 SF(db_intr)2.5 E
(o)-.45 E F0(\(3\).).18 E(This manual page describes the o)108 566.4 Q
-.15(ve)-.15 G(rall structure of the DB library access methods.).15 E
.484
(The currently supported \214le formats are btree, hashed and recno.)108
583.2 R .484(The btree format is a representation of a)5.484 F .875
(sorted, balanced tree structure.)108 595.2 R .875
(The hashed format is an e)5.875 F .875
(xtensible, dynamic hashing scheme.)-.15 F .875(The recno)5.875 F
(format supports \214x)108 607.2 Q(ed or v)-.15 E
(ariable length records \(optionally retrie)-.25 E -.15(ve)-.25 G 2.5
(df).15 G(rom a \215at te)-2.5 E(xt \214le\).)-.15 E .367
(Storage and retrie)108 624 R -.25(va)-.25 G 2.867(lf).25 G .368
(or the DB access methods are based on k)-2.867 F -.15(ey)-.1 G .368
(/data pairs, or DBT structures as the).15 F 2.868(ya)-.15 G(re)-2.868 E
-1.95(typedef ')108 636 R 3.16(di)-.5 G 3.16(nt)-3.16 G .66(he <db)-3.16
F .66(.h> include \214le.)-.4 F(See)5.66 E F3(db_dbt)3.16 E F0 .66
(\(3\) for speci\214c information on the structure and capabili-).68 F
(ties of a DBT)108 648 Q(.)-.74 E(The)108 664.8 Q F3(db_open)4.091 E F0
1.591(function opens the database represented by)4.091 F F3(\214le)4.091
E F0 1.592(for both reading and writing.)4.091 F 1.592(Files ne)6.592 F
-.15(ve)-.25 G(r).15 E(intended to be shared or preserv)108 676.8 Q
(ed on disk may be created by setting the \214le parameter to NULL.)-.15
E(The)108 693.6 Q F3(db_open)3.057 E F0 .557
(function copies a pointer to a DB structure \(as typedef)3.057 F 1.557
-.5('d i).55 H 3.056(nt).5 G .556(he <db)-3.056 F .556
(.h> include \214le\), into the)-.4 F .05(memory location referenced by)
108 705.6 R F3(dbpp)2.55 E F0 5.05(.T).19 G .051
(his structure includes a set of functions to perform v)-5.05 F .051
(arious database)-.25 F(actions, as described belo)108 717.6 Q 3.8 -.65
(w. T)-.25 H(he).65 E F3(db_open)2.5 E F0(function returns the v)2.5 E
(alue of)-.25 E F3(errno)2.5 E F0(on f)2.5 E(ailure and 0 on success.)
-.1 E(October 25, 1997)271.145 768 Q(1)194.145 E EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 352.18(DB_OPEN\(3\) DB_OPEN\(3\))72 48 R .032
(Note, while most of the access methods use)108 84 R/F1 10
/Times-Italic@0 SF(\214le)2.532 E F0 .031
(as the name of an underlying \214le on disk, this is not guaran-)2.532
F 4(teed. Also,)108 96 R(calling)4 E F1(db_open)4 E F0 1.5
(is a reasonably e)4 F(xpensi)-.15 E 1.801 -.15(ve o)-.25 H 4.001
(peration. \(This).15 F 1.501(is based on a model where the)4.001 F
(DBMS k)108 108 Q(eeps a set of \214les open for a long time rather than opening and closing them on each query)
-.1 E(.\))-.65 E(The)108 124.8 Q F1(type)3.554 E F0(ar)3.554 E 1.054
(gument is of type DBTYPE \(as de\214ned in the <db)-.18 F 1.053
(.h> include \214le\) and must be set to one of)-.4 F 1.748
(DB_BTREE, DB_HASH, DB_RECNO or DB_UNKNO)108 136.8 R 4.248(WN. If)-.35 F
F1(type)4.248 E F0 1.748(is DB_UNKNO)4.248 F 1.748(WN, the database)-.35
F 3.59(must already e)108 148.8 R 3.59(xist and)-.15 F F1(db_open)6.09 E
F0 3.589(will then determine if it is of type DB_BTREE, DB_HASH or)6.09
F(DB_RECNO.)108 160.8 Q(The)108 177.6 Q F1<8d61>3.76 E(gs)-.1 E F0(and)
3.76 E F1(mode)3.76 E F0(ar)3.76 E 1.26(guments specify ho)-.18 F 3.761
<778c>-.25 G 1.261(les will be opened and/or created when the)-3.761 F
3.761(yd)-.15 G(on')-3.761 E 3.761(ta)-.18 G(lready)-3.761 E -.15(ex)108
189.6 S 2.5(ist. The).15 F(\215ags v)2.5 E(alue is speci\214ed by)-.25 E
/F2 10/Times-Bold@0 SF(or)2.5 E F0
('ing together one or more of the follo)A(wing v)-.25 E(alues:)-.25 E
(DB_CREA)108 206.4 Q(TE)-1.11 E .484(Create an)133 218.4 R 2.984(yu)-.15
G .483(nderlying \214les, as necessary)-2.984 F 5.483(.I)-.65 G 2.983
(ft)-5.483 G .483(he \214les do not already e)-2.983 F .483
(xist and the DB_CREA)-.15 F .483(TE \215ag)-1.11 F
(is not speci\214ed, the call will f)133 230.4 Q(ail.)-.1 E(DB_NOMMAP)
108 247.2 Q(Do not map this \214le \(see)133 259.2 Q F1(db_mpool)2.5 E
F0(\(3\) for further information\).).51 E(DB_RDONL)108 276 Q(Y)-1 E .248
(Open the database for reading only)133 288 R 5.249(.A)-.65 G .549 -.15
(ny a)-5.249 H .249
(ttempt to write the database using the access methods will).15 F -.1
(fa)133 300 S(il re).1 E -.05(ga)-.15 G
(rdless of the actual permissions of an).05 E 2.5(yu)-.15 G
(nderlying \214les.)-2.5 E(DB_THREAD)108 316.8 Q 1.066
(Cause the DB handle returned by the)133 328.8 R F1(db_open)3.566 E F0
1.065(function to be useable by multiple threads within a)3.566 F
(single address space, i.e., to be `)133 340.8 Q(`free-threaded')-.74 E
('.)-.74 E(DB_TR)108 357.6 Q(UNCA)-.4 E(TE)-1.11 E -.74(``)133 369.6 S
-.35(Tr).74 G(uncate').35 E 3.221('t)-.74 G .721(he database if it e)
-3.221 F .721(xists, i.e., beha)-.15 F 1.021 -.15(ve a)-.2 H 3.221(si)
.15 G 3.221(ft)-3.221 G .722
(he database were just created, discarding an)-3.221 F(y)-.15 E(pre)133
381.6 Q(vious contents.)-.25 E .496
(All \214les created by the access methods are created with mode)108
398.4 R F1(mode)2.996 E F0 .496(\(as described in)2.996 F F1 -.15(ch)
2.996 G(mod).15 E F0 .495(\(2\)\) and modi-).77 F .816
(\214ed by the process' umask v)108 410.4 R .816
(alue at the time of creation \(see)-.25 F F1(umask)3.317 E F0 3.317
(\(2\)\). The).67 F .817(group o)3.317 F .817(wnership of created)-.25 F
(\214les is based on the system and directory def)108 422.4 Q
(aults, and is not further speci\214ed by DB.)-.1 E/F3 9/Times-Bold@0 SF
(DB_ENV)72 439.2 Q F0 .647(The access methods mak)108 451.2 R 3.146(ec)
-.1 G .646(alls to the other subsystems in the DB library based on the)
-3.146 F F1(dben)3.146 E(v)-.4 E F0(ar)3.146 E .646(gument to)-.18 F F1
(db_open)108 463.2 Q F0 2.558(,w).24 G .058
(hich is a pointer to a structure of type DB_ENV \(typedef)-2.558 F
1.058 -.5('d i).55 H 2.559(n<).5 G(db)-2.559 E 2.559(.h>\). It)-.4 F
.059(is e)2.559 F .059(xpected that appli-)-.15 F .132
(cations will use a single DB_ENV structure as the ar)108 475.2 R .132
(gument to all of the subsystems in the DB package.)-.18 F(In)5.132 E
.971(order to ensure compatibility with future releases of DB, all \214elds of the DB_ENV structure that are not)
108 487.2 R -.15(ex)108 499.2 S .656(plicitly set should be initialized to 0 before the \214rst time the structure is used.)
.15 F .655(Do this by declaring the)5.656 F(structure e)108 511.2 Q
(xternal or static, or by calling the C library routine)-.15 E F1(bzer)
2.5 E(o)-.45 E F0(\(3\) or).18 E F1(memset)2.5 E F0(\(3\).).68 E .395
(The \214elds of the DB_ENV structure used by)108 528 R F1(db_open)2.896
E F0 .396(are described belo)2.896 F 4.196 -.65(w. A)-.25 H 2.896(sr).65
G .396(eferences to the DB_ENV)-2.896 F .666
(structure may be maintained by)108 540 R F1(db_open)3.166 E F0 3.166
(,i).24 G 3.166(ti)-3.166 G 3.166(sn)-3.166 G .665
(ecessary that the DB_ENV structure and memory it refer)-3.166 F(-)-.2 E
.45(ences be v)108 552 R .45(alid until the)-.25 F F1(close)2.95 E F0
.45(function is called.)2.95 F(If)5.45 E F1(dben)2.95 E(v)-.4 E F0 .451
(is NULL or an)2.95 F 2.951(yo)-.15 G 2.951(fi)-2.951 G .451
(ts \214elds are set to 0, def)-2.951 F(aults)-.1 E
(appropriate for the system are used where possible.)108 564 Q
(The follo)108 580.8 Q(wing \214elds in the DB_ENV structure may be initialized before calling)
-.25 E F1(db_open)2.5 E F0(:).24 E(DB_LOG *lg_info;)108 597.6 Q .924
(If modi\214cations to the \214le being opened should be logged, the)133
609.6 R F1(lg_info)3.424 E F0 .923(\214eld contains a return v)3.424 F
(alue)-.25 E(from the function)133 621.6 Q F1(lo)2.5 E(g_open)-.1 E F0 5
(.I).24 G(f)-5 E F1(lg_info)2.5 E F0
(is NULL, no logging is done by the DB access methods.)2.5 E(DB_LOCKT)
108 638.4 Q(AB *lk_info;)-.93 E .394(If locking is required for the \214le being opened \(as is the case when multiple processes or threads are)
133 650.4 R 1.412(accessing the same \214le\), the)133 662.4 R F1
(lk_info)3.912 E F0 1.411(\214eld contains a return v)3.911 F 1.411
(alue from the function)-.25 F F1(loc)3.911 E(k_open)-.2 E F0 6.411(.I)
.24 G(f)-6.411 E F1(lk_info)133 674.4 Q F0
(is NULL, no locking is done by the DB access methods.)2.5 E .743
(If both locking and transactions are being performed \(i.e., both)133
698.4 R F1(lk_info)3.244 E F0(and)3.244 E F1(tx_info)3.244 E F0 .744
(are non-NULL\),)3.244 F .944
(the transaction ID will be used as the lock)133 710.4 R .944(er ID.)-.1
F .944(If only locking is being performed,)5.944 F F1(db_open)3.444 E F0
(will)3.444 E 2.317(acquire a lock)133 722.4 R 2.317(er ID from)-.1 F F1
(loc)4.817 E(k_id)-.2 E F0 2.317
(\(3\), and will use it for all locks required for this instance of).77
F(October 25, 1997)271.145 768 Q(2)194.145 E EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 352.18(DB_OPEN\(3\) DB_OPEN\(3\))72 48 R/F1 10
/Times-Italic@0 SF(db_open)133 84 Q F0(.).24 E(DB_MPOOL *mp_info;)108
100.8 Q .372(If the cache for the \214le being opened should be maintained in a shared b)
133 112.8 R(uf)-.2 E .371(fer pool, the)-.25 F F1(mp_info)2.871 E F0
(\214eld)2.871 E .146(contains a return v)133 124.8 R .146
(alue from the function)-.25 F F1(memp_open)2.646 E F0 5.146(.I).24 G(f)
-5.146 E F1(mp_info)2.646 E F0 .147(is NULL, a memory pool may still)
2.646 F(be created by DB, b)133 136.8 Q(ut it will be pri)-.2 E -.25(va)
-.25 G(te to the application and managed by DB.).25 E
(DB_TXNMGR *tx_info;)108 153.6 Q 1.161
(If the accesses to the \214le being opened should tak)133 165.6 R 3.661
(ep)-.1 G 1.161(lace in the conte)-3.661 F 1.161
(xt of transactions \(pro)-.15 F(viding)-.15 E 1.239
(atomicity and error reco)133 177.6 R -.15(ve)-.15 G 1.239(ry\), the).15
F F1(tx_info)3.739 E F0 1.239(\214eld contains a return v)3.739 F 1.24
(alue from the function)-.25 F F1(txn_open)3.74 E F0(\(see)133 189.6 Q
F1(db_txn)2.984 E F0 2.983(\(3\)\). If).24 F .483(transactions are speci\214ed, the application is responsible for making suitable calls)
2.983 F(to)133 201.6 Q F1(txn_be)3.074 E(gin)-.4 E F0(,).24 E F1
(txn_abort)3.074 E F0 3.074(,a).68 G(nd)-3.074 E F1(txn_commit)3.074 E
F0 5.574(.I).68 G(f)-5.574 E F1(tx_info)3.074 E F0 .574
(is NULL, no transaction support is done by the)3.074 F
(DB access methods.)133 213.6 Q 1(When the access methods are used in conjunction with transactions, the application must abort the)
133 237.6 R .974(transaction \(using)133 249.6 R F1(txn_abort)3.474 E F0
3.474(\)i).68 G 3.474(fa)-3.474 G 1.274 -.15(ny o)-3.474 H 3.474(ft).15
G .974(he transaction protected access method calls \(i.e., an)-3.474 F
3.475(yc)-.15 G(alls)-3.475 E .352(other than open, close and sync\) returns a system error \(e.g., deadlock, which returns EA)
133 261.6 R 2.852(GAIN\). As)-.4 F(described by)133 273.6 Q F1(db_intr)
2.5 E(o)-.45 E F0(\(3\), a system error is an).18 E 2.5(yv)-.15 G
(alue greater than 0.)-2.75 E/F2 9/Times-Bold@0 SF(DB_INFO)72 290.4 Q F0
3.168(The access methods are con\214gured using the DB_INFO data structure ar)
108 302.4 R 3.168(gument to)-.18 F F1(db_open)5.668 E F0 8.168(.T).24 G
(he)-8.168 E .104(DB_INFO structure is typedef)108 314.4 R 1.104 -.5
('d i).55 H 2.604(n<).5 G(db)-2.604 E .104(.h> and has a lar)-.4 F .104
(ge number of \214elds, most speci\214c to a single access)-.18 F .299
(method, although a fe)108 326.4 R 2.799(wa)-.25 G .299(re shared.)
-2.799 F .3(The \214elds that are common to all access methods are listed here; those)
5.299 F 1.235(speci\214c to an indi)108 338.4 R 1.235
(vidual access method are described belo)-.25 F 5.035 -.65(w. N)-.25 H
3.735(or).65 G 1.234(eference to the DB_INFO structure is)-3.735 F
(maintained by DB, so it is possible to discard it as soon as the)108
350.4 Q F1(db_open)2.5 E F0(call returns.)2.5 E .546(In order to ensure compatibility with future releases of DB, all \214elds of the DB_INFO structure should be)
108 367.2 R .41(initialized to 0 before the structure is used.)108 379.2
R .409(Do this by declaring the structure e)5.41 F .409
(xternal or static, or by call-)-.15 F(ing the C library function)108
391.2 Q F1(bzer)2.5 E(o)-.45 E F0(\(3\) or).18 E F1(memset)2.5 E F0
(\(3\).).68 E .576(If possible, def)108 408 R .576
(aults appropriate for the system are used for the DB_INFO \214elds if)
-.1 F F1(dbinfo)3.076 E F0 .577(is NULL or an)3.076 F(y)-.15 E .054
(\214elds of the DB_INFO structure are set to 0.)108 420 R .054
(The follo)5.054 F .054
(wing DB_INFO \214elds may be initialized before call-)-.25 F(ing)108
432 Q F1(db_open)2.5 E F0(:).24 E(size_t db_cachesize;)108 448.8 Q 2.777
(As)133 460.8 S .277
(uggested maximum size of the memory pool cache, in bytes.)-2.777 F(If)
5.278 E F1(db_cac)2.778 E(hesize)-.15 E F0 .278(is 0, an appropriate)
2.778 F(def)133 472.8 Q(ault is used.)-.1 E(If the)5 E F1(mp_info)2.5 E
F0(\214eld is also speci\214ed, this \214eld is ignored.)2.5 E/F3 10
/Times-Bold@0 SF 1.408(Note, the minimum number of pages in the cache should be no less than 10, and the access)
133 496.8 R 1.598(methods will fail if an insuf\214ciently lar)133 508.8
R 1.599(ge cache is speci\214ed.)-.1 F F0 1.599
(In addition, for applications that)6.599 F -.15(ex)133 520.8 S .593(hibit strong locality in their data access patterns, increasing the size of the cache can signi\214cantly)
.15 F(impro)133 532.8 Q .3 -.15(ve a)-.15 H(pplication performance.).15
E(int db_lorder;)108 549.6 Q .65(The byte order for inte)133 561.6 R .65
(gers in the stored database metadata.)-.15 F .65
(The number should represent the order)5.65 F .093(as an inte)133 573.6
R(ger)-.15 E 2.593(,f)-.4 G .093(or e)-2.593 F .092(xample, big endian order is the number 4,321, and little endian order is the number)
-.15 F 2.5(1,234. If)133 585.6 R F1(db_lor)2.5 E(der)-.37 E F0
(is 0, the host order of the machine where the DB library w)2.5 E
(as compiled is used.)-.1 E 1.211(The v)133 609.6 R 1.211(alue of)-.25 F
F1(db_lor)3.711 E(der)-.37 E F0 1.211(is ignored e)3.711 F 1.211
(xcept when databases are being created.)-.15 F 1.212
(If a database already)6.212 F -.15(ex)133 621.6 S
(ists, the byte order it uses is determined when the \214le is read.).15
E F3 1.864(The access methods pr)133 645.6 R -.1(ov)-.18 G 1.864
(ide no guarantees about the byte ordering of the application data).1 F
(stor)133 657.6 Q .934(ed in the database, and applications ar)-.18 F
3.434(er)-.18 G .934(esponsible f)-3.614 F .934
(or maintaining any necessary order)-.25 F(-)-.37 E(ing)133 669.6 Q(.)
-.15 E F0(size_t db_pagesize;)108 686.4 Q .955
(The size of the pages used to hold items in the database, in bytes.)133
698.4 R .955(The minimum page size is 512)5.955 F .323
(bytes and the maximum page size is 64K bytes.)133 710.4 R(If)5.324 E F1
(db_pa)2.824 E -.1(ge)-.1 G(size).1 E F0 .324
(is 0, a page size is selected based on)2.824 F 1.263
(the underlying \214lesystem I/O block size.)133 722.4 R 1.263
(The selected size has a lo)6.263 F 1.263(wer limit of 512 bytes and an)
-.25 F(October 25, 1997)271.145 768 Q(3)194.145 E EP
%%Page: 4 4
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 352.18(DB_OPEN\(3\) DB_OPEN\(3\))72 48 R
(upper limit of 16K bytes.)133 84 Q -.2(vo)108 100.8 S
(id *\(*db_malloc\)\(size_t\);).2 E 1.416(The \215ag DB_DBT_MALLOC, when speci\214ed in the DBT structure, will cause the DB library to)
133 112.8 R .256(allocate memory which then becomes the responsibility of the calling application.)
133 124.8 R(See)5.255 E/F1 10/Times-Italic@0 SF(db_dbt)2.755 E F0 .255
(\(3\) for).68 F(more information.)133 136.8 Q 1.524(On systems where separate heaps are maintained for applications and libraries \(notably W)
133 160.8 R(indo)-.4 E(ws)-.25 E .55
(NT\), specifying the DB_DBT_MALLOC \215ag will f)133 172.8 R .55
(ail because the DB library will allocate memory)-.1 F .827(from a dif)
133 184.8 R .827(ferent heap than the application will use to free it.)
-.25 F 2.427 -.8(To a)5.827 H -.2(vo).6 G .827(id this problem, the).2 F
F1(db_malloc)3.328 E F0 .352
(\214eld should be set to point to the application')133 196.8 R 2.851
(sa)-.55 G .351(llocation routine.)-2.851 F(If)5.351 E F1(db_malloc)
2.851 E F0 .351(is non-NULL, it will)2.851 F .781(be used to allocate the memory returned when the DB_DBT_MALLOC \215ag is set.)
133 208.8 R(The)5.782 E F1(db_malloc)3.282 E F0
(function must match the calling con)133 220.8 Q -.15(ve)-.4 G
(ntions of the).15 E F1(malloc)2.5 E F0(\(3\) library routine.).31 E/F2
9/Times-Bold@0 SF(BTREE)72 237.6 Q F0 1.518(The btree data structure is a sorted, balanced tree structure storing associated k)
108 249.6 R -.15(ey)-.1 G 1.517(/data pairs.).15 F(Searches,)6.517 E
.135(insertions, and deletions in the btree will all complete in O \(lg base N\) where base is the a)
108 261.6 R -.15(ve)-.2 G .136(rage number of).15 F -.1(ke)108 273.6 S
.025(ys per page.)-.05 F .024(Often, inserting ordered data into btrees results in pages that are half-full.)
5.025 F .024(This implementa-)5.024 F .336
(tion has been modi\214ed to mak)108 285.6 R 2.836(eo)-.1 G .336
(rdered \(or in)-2.836 F -.15(ve)-.4 G .337
(rse ordered\) insertion the best case, resulting in nearly per).15 F(-)
-.2 E(fect page space utilization.)108 297.6 Q .189
(Space freed by deleting k)108 314.4 R -.15(ey)-.1 G .188
(/data pairs from the database is ne).15 F -.15(ve)-.25 G 2.688(rr).15 G
.188(eclaimed from the \214lesystem, although it)-2.688 F 1.28
(is reused where possible.)108 326.4 R 1.28
(This means that the btree storage structure is gro)6.28 F(w-only)-.25 E
6.28(.I)-.65 G 3.78(fs)-6.28 G(uf)-3.78 E 1.28(\214ciently man)-.25 F(y)
-.15 E -.1(ke)108 338.4 S 1.379(ys are deleted from a tree that shrinking the underlying database \214le is desirable, this can be accom-)
-.05 F(plished by creating a ne)108 350.4 Q 2.5(wt)-.25 G
(ree from a scan of the e)-2.5 E(xisting one.)-.15 E 2.227(The follo)108
367.2 R 2.227(wing additional \214elds and \215ags may be initialized in the DB_INFO structure before calling)
-.25 F F1(db_open)108 379.2 Q F0 2.5(,w).24 G
(hen using the btree access method:)-2.5 E
(int \(*bt_compare\)\(const DBT *, const DBT *\);)108 396 Q(The)133 408
Q F1(bt_compar)3.318 E(e)-.37 E F0 .818(function is the k)3.318 F 1.118
-.15(ey c)-.1 H .818(omparison function.).15 F .818
(It must return an inte)5.818 F .818(ger less than, equal)-.15 F .153
(to, or greater than zero if the \214rst k)133 420 R .453 -.15(ey a)-.1
H -.18(rg).15 G .153(ument is considered to be respecti).18 F -.15(ve)
-.25 G .154(ly less than, equal to, or).15 F .669
(greater than the second k)133 432 R .968 -.15(ey a)-.1 H -.18(rg).15 G
3.168(ument. The).18 F .668
(same comparison function must be used on a gi)3.168 F -.15(ve)-.25 G
3.168(nt).15 G(ree)-3.168 E -2.15 -.25(ev e)133 444 T .606
(ry time it is opened.).25 F(If)5.606 E F1(bt_compar)3.106 E(e)-.37 E F0
.606(is NULL, the k)3.106 F -.15(ey)-.1 G 3.106(sa).15 G .606
(re compared le)-3.106 F(xically)-.15 E 3.107(,w)-.65 G .607
(ith shorter k)-3.107 F -.15(ey)-.1 G(s).15 E(collating before longer k)
133 456 Q -.15(ey)-.1 G(s.).15 E(int bt_mink)108 472.8 Q -.15(ey)-.1 G
(;).15 E .119(The minimum number of k)133 484.8 R -.15(ey)-.1 G 2.619
(st).15 G .118(hat will be stored on an)-2.619 F 2.618(ys)-.15 G .118
(ingle page.)-2.618 F .118(This v)5.118 F .118
(alue is used to determine)-.25 F 1.255(which k)133 496.8 R -.15(ey)-.1
G 3.755(sw).15 G 1.255(ill be stored on o)-3.755 F -.15(ve)-.15 G
(r\215o).15 E 3.756(wp)-.25 G 1.256(ages, i.e. if a k)-3.756 F 1.556
-.15(ey o)-.1 H 3.756(rd).15 G 1.256(ata item is lar)-3.756 F 1.256
(ger than the pagesize)-.18 F(di)133 508.8 Q .365(vided by the)-.25 F F1
(bt_mink)2.865 E -.3(ey)-.1 G F0 -.25(va)3.165 G .365
(lue, it will be stored on o).25 F -.15(ve)-.15 G(r\215o).15 E 2.864(wp)
-.25 G .364(ages instead of in the page itself.)-2.864 F(The)5.364 E F1
(bt_mink)133 520.8 Q -.3(ey)-.1 G F0 -.25(va)2.8 G
(lue speci\214ed must be at least 2; if).25 E F1(bt_mink)2.5 E -.3(ey)
-.1 G F0(is 0, a v)2.8 E(alue of 2 is used.)-.25 E
(size_t \(*bt_pre\214x\)\(const DBT *, const DBT *\);)108 537.6 Q(The)
133 549.6 Q F1(bt_pr)3.406 E(e\214x)-.37 E F0 .906
(function is the pre\214x comparison function.)3.406 F .907
(If speci\214ed, this function must return the)5.906 F .202
(number of bytes of the second k)133 561.6 R .502 -.15(ey a)-.1 H -.18
(rg).15 G .201
(ument that are necessary to determine that it is greater than the).18 F
(\214rst k)133 573.6 Q .3 -.15(ey a)-.1 H -.18(rg).15 G 2.5(ument. If)
.18 F(the k)2.5 E -.15(ey)-.1 G 2.5(sa).15 G(re equal, the k)-2.5 E .3
-.15(ey l)-.1 H(ength should be returned.).15 E .837
(This is used to compress the k)133 597.6 R -.15(ey)-.1 G 3.338(ss).15 G
.838(tored on the btree internal pages.)-3.338 F .838
(The usefulness of this is data)5.838 F 1.19(dependent, b)133 609.6 R
1.189(ut in some data sets can produce signi\214cantly reduced tree sizes and search times.)
-.2 F(If)6.189 E F1(bt_pr)133 621.6 Q(e\214x)-.37 E F0 .468
(is NULL, and no comparison function is speci\214ed, a def)2.968 F .469
(ault le)-.1 F .469(xical comparison function is)-.15 F 2.5(used. If)133
633.6 R F1(bt_pr)2.5 E(e\214x)-.37 E F0(is NULL and a comparison function is speci\214ed, no pre\214x comparison is done.)
2.5 E(unsigned long \215ags;)108 650.4 Q .349(The follo)133 662.4 R .349
(wing additional \215ags may be speci\214ed by)-.25 F/F3 10/Times-Bold@0
SF(or)2.849 E F0 .349('ing together one or more of the follo)B .348
(wing v)-.25 F(al-)-.25 E(ues:)133 674.4 Q(DB_DUP)133 691.2 Q .262
(Permit duplicate k)158 703.2 R -.15(ey)-.1 G 2.762(si).15 G 2.762(nt)
-2.762 G .262(he tree, i.e. insertion when the k)-2.762 F .563 -.15
(ey o)-.1 H 2.763(ft).15 G .263(he k)-2.763 F -.15(ey)-.1 G .263
(/data pair being inserted).15 F 1.298(already e)158 715.2 R 1.298
(xists in the tree will be successful.)-.15 F 1.297
(The ordering of duplicates in the tree is deter)6.298 F(-)-.2 E .91(mined by the order of insertion, unless the ordering is otherwise speci\214ed by use of a cursor)
158 727.2 R(October 25, 1997)271.145 768 Q(4)194.145 E EP
%%Page: 5 5
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 352.18(DB_OPEN\(3\) DB_OPEN\(3\))72 48 R(\(see)
158 84 Q/F1 10/Times-Italic@0 SF(db_cur)5.794 E(sor)-.1 E F0 3.294
(\(3\) for more information.\)).73 F 3.294
(It is an error to specify both DB_DUP and)8.294 F(DB_RECNUM.)158 96 Q
(DB_RECNUM)133 112.8 Q 4.64(Support retrie)158 124.8 R -.25(va)-.25 G
7.14(lf).25 G 4.64(rom btrees using record numbers.)-7.14 F -.15(Fo)9.64
G 7.14(rm).15 G 4.64(ore information, see the)-7.14 F 1.799
(DB_SET_RECNO \215ag to the)158 136.8 R F1(DB->g)4.299 E(et)-.1 E F0
1.798(function \(belo)4.298 F 1.798(w\), and the cursor)-.25 F F1(c_g)
4.298 E(et)-.1 E F0 1.798(function \(in)4.298 F F1(db_cur)158 148.8 Q
(sor)-.1 E F0(\(3\)\).).73 E .831
(Logical record numbers in btrees are mutable in the f)158 172.8 R .832
(ace of record insertion or deletion.)-.1 F(See)5.832 E
(the DB_RENUMBER \215ag in the RECNO section belo)158 184.8 Q 2.5(wf)
-.25 G(or further discussion.)-2.5 E .713(Maintaining record counts within a btree introduces a serious point of contention, namely the)
158 208.8 R .701(page locations where the record counts are stored.)158
220.8 R .702(In addition, the entire tree must be lock)5.701 F(ed)-.1 E
.676(during both insertions and deletions, ef)158 232.8 R(fecti)-.25 E
-.15(ve)-.25 G .675(ly single-threading the tree for those operations.)
.15 F .11(Specifying DB_RECNUM can result in serious performance de)158
244.8 R .11(gradation for some applications)-.15 F(and data sets.)158
256.8 Q(It is an error to specify both DB_DUP and DB_RECNUM.)158 280.8 Q
/F2 9/Times-Bold@0 SF(HASH)72 297.6 Q F0 .591
(The hash data structure is an e)108 309.6 R .591
(xtensible, dynamic hashing scheme.)-.15 F(Backw)5.591 E .59
(ard compatible interf)-.1 F .59(aces to the)-.1 F .107
(functions described in)108 321.6 R F1(dbm)2.608 E F0(\(3\),).32 E F1
(ndbm)2.608 E F0 .108(\(3\) and).32 F F1(hsear)2.608 E -.15(ch)-.37 G F0
.108(\(3\) are pro).43 F .108(vided, ho)-.15 F(we)-.25 E -.15(ve)-.25 G
2.608(rt).15 G .108(hese interf)-2.608 F .108(aces are not com-)-.1 F
(patible with pre)108 333.6 Q(vious \214le formats.)-.25 E 2.228
(The follo)108 350.4 R 2.227(wing additional \214elds and \215ags may be initialized in the DB_INFO structure before calling)
-.25 F F1(db_open)108 362.4 Q F0 2.5(,w).24 G
(hen using the hash access method:)-2.5 E(unsigned int h_f)108 379.2 Q
-.1(fa)-.25 G(ctor;).1 E .787
(The desired density within the hash table.)133 391.2 R .787
(It is an approximation of the number of k)5.787 F -.15(ey)-.1 G 3.287
(sa).15 G(llo)-3.287 E .788(wed to)-.25 F .505(accumulate in an)133
403.2 R 3.005(yo)-.15 G .505(ne b)-3.005 F(uck)-.2 E .505
(et, determining when the hash table gro)-.1 F .504(ws or shrinks.)-.25
F .504(The def)5.504 F .504(ault v)-.1 F(alue)-.25 E
(is 0, indicating that the \214ll f)133 415.2 Q
(actor will be selected dynamically as pages are \214lled.)-.1 E
(u_int32_t \(*h_hash\)\(const v)108 432 Q(oid *, u_int32_t\);)-.2 E(The)
133 444 Q F1(h_hash)2.835 E F0 .335
(\214eld is a user de\214ned hash function; if)2.835 F F1(h_hash)2.835 E
F0 .335(is NULL, a def)2.835 F .335(ault hash function is used.)-.1 F
.458(Since no hash function performs equally well on all possible data, the user may \214nd that the b)
133 456 R(uilt-in)-.2 E .792
(hash function performs poorly with a particular data set.)133 468 R
.793(User speci\214ed hash functions must tak)5.793 F 3.293(ea)-.1 G
(pointer to a byte string and a length as ar)133 480 Q
(guments and return a u_int32_t v)-.18 E(alue.)-.25 E .666
(If a hash function is speci\214ed,)133 496.8 R F1(hash_open)3.166 E F0
.665(will attempt to determine if the hash function speci\214ed is)3.166
F(the same as the one with which the database w)133 508.8 Q
(as created, and will f)-.1 E(ail if it detects that it is not.)-.1 E
(unsigned int h_nelem;)108 525.6 Q .069
(An estimate of the \214nal size of the hash table.)133 537.6 R .069
(If not set or set too lo)5.069 F 1.369 -.65(w, h)-.25 H .069
(ash tables will e).65 F .07(xpand grace-)-.15 F 1.356(fully as k)133
549.6 R -.15(ey)-.1 G 3.856(sa).15 G 1.356
(re entered, although a slight performance de)-3.856 F 1.355
(gradation may be noticed.)-.15 F 1.355(The def)6.355 F(ault)-.1 E -.25
(va)133 561.6 S(lue is 1.).25 E(unsigned long \215ags;)108 578.4 Q .348
(The follo)133 590.4 R .348
(wing additional \215ags may be speci\214ed by)-.25 F/F3 10/Times-Bold@0
SF(or)2.849 E F0 .349('ing together one or more of the follo)B .349
(wing v)-.25 F(al-)-.25 E(ues:)133 602.4 Q(DB_DUP)133 619.2 Q .263
(Permit duplicate k)158 631.2 R -.15(ey)-.1 G 2.763(si).15 G 2.763(nt)
-2.763 G .263(he tree, i.e. insertion when the k)-2.763 F .562 -.15
(ey o)-.1 H 2.762(ft).15 G .262(he k)-2.762 F -.15(ey)-.1 G .262
(/data pair being inserted).15 F 1.297(already e)158 643.2 R 1.297
(xists in the tree will be successful.)-.15 F 1.298
(The ordering of duplicates in the tree is deter)6.297 F(-)-.2 E .91(mined by the order of insertion, unless the ordering is otherwise speci\214ed by use of a cursor)
158 655.2 R(\(see)158 667.2 Q F1(db_cur)2.5 E(sor)-.1 E F0
(\(3\) for more information.\)).73 E F2(RECNO)72 684 Q F0 .223
(The recno access method pro)108 696 R .223(vides support for \214x)-.15
F .223(ed and v)-.15 F .223(ariable length records, optionally back)-.25
F .224(ed by a \215at)-.1 F(te)108 708 Q(xt \(byte stream\) \214le.)-.15
E(Both \214x)5 E(ed and v)-.15 E
(ariable length records are accessed by their logical record number)-.25
E(.)-.55 E .341(It is v)108 724.8 R .34(alid to create a record whose record number is more than one greater than the last record currently in)
-.25 F(October 25, 1997)271.145 768 Q(5)194.145 E EP
%%Page: 6 6
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 352.18(DB_OPEN\(3\) DB_OPEN\(3\))72 48 R .041
(the database.)108 84 R -.15(Fo)5.041 G 2.541(re).15 G .041(xample, the creation of record number 8, when records 6 and 7 do not yet e)
-2.691 F .042(xist, is not an)-.15 F(error)108 96 Q 5(.H)-.55 G -.25(ow)
-5 G -2.15 -.25(ev e).25 H .8 -.4(r, a).25 H .3 -.15(ny a).4 H
(ttempt to retrie).15 E .3 -.15(ve s)-.25 H
(uch records \(e.g., records 6 and 7\) will return DB_KEYEMPTY).15 E(.)
-1.29 E 1.008(Deleting a record will not, by def)108 112.8 R 1.008
(ault, renumber records follo)-.1 F 1.008
(wing the deleted record \(see DB_RENUM-)-.25 F(BER belo)108 124.8 Q 2.5
(wf)-.25 G(or more information\).)-2.5 E(An)5 E 2.5(ya)-.15 G
(ttempt to retrie)-2.5 E .3 -.15(ve d)-.25 H
(eleted records will return DB_KEYEMPTY).15 E(.)-1.29 E 2.227(The follo)
108 141.6 R 2.227(wing additional \214elds and \215ags may be initialized in the DB_INFO structure before calling)
-.25 F/F1 10/Times-Italic@0 SF(db_open)108 153.6 Q F0 2.5(,w).24 G
(hen using the recno access method:)-2.5 E(int re_delim;)108 170.4 Q
-.15(Fo)133 182.4 S 2.804(rv).15 G .304(ariable length records, if the)
-3.054 F F1 -.37(re)2.804 G(_sour).37 E(ce)-.37 E F0 .304
(\214le is speci\214ed and the DB_DELIMITER \215ag is set, the)2.804 F
.659
(delimiting byte used to mark the end of a record in the source \214le.)
133 194.4 R .659(If the)5.659 F F1 -.37(re)3.159 G(_sour).37 E(ce)-.37 E
F0 .659(\214le is speci\214ed)3.159 F 1.214
(and the DB_DELIMITER \215ag is not set, <ne)133 206.4 R 1.213
(wline> characters \(i.e. `)-.25 F(`\\n')-.74 E 1.213
(', 0x0a\) are interpreted as)-.74 F(end-of-record mark)133 218.4 Q
(ers.)-.1 E(u_int32_t re_len;)108 235.2 Q(The length of a \214x)133
247.2 Q(ed-length record.)-.15 E(int re_pad;)108 264 Q -.15(Fo)133 276 S
4.507<728c>.15 G -.15(xe)-4.507 G 4.507(dl).15 G 2.007
(ength records, if the DB_P)-4.507 F 2.008
(AD \215ag is set, the pad character for short records.)-.92 F 2.008
(If the)7.008 F(DB_P)133 288 Q(AD \215ag is not set, <space> characters \(i.e., 0x20\) are used for padding.)
-.92 E(char *re_source;)108 304.8 Q .013(The purpose of the)133 316.8 R
F1 -.37(re)2.513 G(_sour).37 E(ce)-.37 E F0 .012(\214eld is to pro)2.513
F .012(vide f)-.15 F .012
(ast access and modi\214cation to databases that are nor)-.1 F(-)-.2 E
(mally stored as \215at te)133 328.8 Q(xt \214les.)-.15 E .209(If the)
133 352.8 R F1 -.37(re)2.709 G(_sour).37 E(ce)-.37 E F0 .209
(\214eld is non-NULL, it speci\214es an underlying \215at te)2.709 F .21
(xt database \214le that is read to ini-)-.15 F .662
(tialize a transient record number inde)133 364.8 R 3.161(x. In)-.15 F
.661(the case of v)3.161 F .661
(ariable length records, the records are sepa-)-.25 F .081
(rated by the byte v)133 376.8 R(alue)-.25 E F1 -.37(re)2.581 G(_delim)
.37 E F0 5.081(.F).32 G .081(or e)-5.231 F .081
(xample, standard UNIX byte stream \214les can be interpreted as)-.15 F
2.5(as)133 388.8 S(equence of v)-2.5 E
(ariable length records separated by <ne)-.25 E(wline> characters.)-.25
E .756(In addition, when cached data w)133 412.8 R .756(ould normally be written back to the underlying database \214le \(e.g.,)
-.1 F(the)133 424.8 Q F1(close)2.544 E F0(or)2.544 E F1(sync)2.544 E F0
.044(functions are called\), the in-memory cop)2.544 F 2.544(yo)-.1 G
2.545(ft)-2.544 G .045(he database will be written back to the)-2.545 F
F1 -.37(re)133 436.8 S(_sour).37 E(ce)-.37 E F0(\214le.)2.5 E .45
(By def)133 460.8 R .45(ault, the backing source \214le is read lazily)
-.1 F 2.95(,i)-.65 G .449
(.e., records are not read from the \214le until the)-2.95 F 2.949(ya)
-.15 G(re)-2.949 E .747(requested by the application.)133 472.8 R/F2 10
/Times-Bold@0 SF .748(If multiple pr)5.747 F .748(ocesses \(not thr)-.18
F .748(eads\) ar)-.18 F 3.248(ea)-.18 G .748(ccessing a r)-3.248 F .748
(ecno database)-.18 F(concurr)133 484.8 Q .109
(ently and either inserting or deleting r)-.18 F .109
(ecords, the backing sour)-.18 F .108(ce \214le must be r)-.18 F .108
(ead in its)-.18 F(entir)133 496.8 Q .722(ety bef)-.18 F(or)-.25 E 3.222
(em)-.18 G(or)-3.222 E 3.223(et)-.18 G .723(han a single pr)-3.223 F
.723(ocess accesses the database, and only that pr)-.18 F .723
(ocess should)-.18 F .75(specify the backing sour)133 508.8 R .749
(ce \214le as part of the db_open call.)-.18 F F0 .749(See the DB_SN)
5.749 F(APSHO)-.35 E 3.249<548d>-.4 G .749(ag belo)-3.249 F(w)-.25 E
(for more information.)133 520.8 Q F2 1.276
(Reading and writing the backing sour)133 544.8 R 1.276
(ce \214le speci\214ed by r)-.18 F(e_sour)-.18 E 1.276
(ce cannot be transactionally)-.18 F(pr)133 556.8 Q 2.09
(otected because it in)-.18 F -.1(vo)-.4 G(lv).1 E 2.09
(es \214lesystem operations that ar)-.1 F 4.59(en)-.18 G 2.09
(ot part of the DB transaction)-4.59 F(methodology)133 568.8 Q(.)-.7 E
F0 -.15(Fo)5.373 G 2.873(rt).15 G .374(his reason, if a temporary database is used to hold the records, i.e., a NULL w)
-2.873 F(as)-.1 E .259(speci\214ed as the)133 580.8 R F1(\214le)2.759 E
F0(ar)2.759 E .259(gument to)-.18 F F1(db_open)2.759 E F0 2.759(,i).24 G
2.759(ti)-2.759 G 2.759(sp)-2.759 G .259
(ossible to lose the contents of the)-2.759 F F1 -.37(re)2.759 G(_sour)
.37 E(ce)-.37 E F0 .258(\214le, e.g.,)2.758 F .777
(if the system crashes at the right instant.)133 592.8 R .777
(If a \214le is used to hold the database, i.e., a \214le name w)5.777 F
(as)-.1 E .758(speci\214ed as the)133 604.8 R F1(\214le)3.258 E F0(ar)
3.258 E .758(gument to)-.18 F F1(db_open)3.258 E F0 3.258(,n).24 G .758
(ormal database reco)-3.258 F -.15(ve)-.15 G .757
(ry on that \214le can be used to pre-).15 F -.15(ve)133 616.8 S .145(nt information loss, although it is still possible that the contents of)
.15 F F1 -.37(re)2.645 G(_sour).37 E(ce)-.37 E F0 .145
(will be lost if the sys-)2.645 F(tem crashes.)133 628.8 Q(The)133 652.8
Q F1 -.37(re)2.5 G(_sour).37 E(ce)-.37 E F0(\214le must already e)2.5 E
(xist \(b)-.15 E(ut may be zero-length\) when)-.2 E F1(db_open)2.5 E F0
(is called.)2.5 E -.15(Fo)133 676.8 S 3.086(ra).15 G .586(ll of the abo)
-3.086 F .886 -.15(ve r)-.15 H .585(easons, the).15 F F1 -.37(re)3.085 G
(_sour).37 E(ce)-.37 E F0 .585
(\214eld is generally used to specify databases that are read-)3.085 F
.143(only for DB applications, and that are either generated on the \215y by softw)
133 688.8 R .143(are tools, or modi\214ed using)-.1 F 2.5(ad)133 700.8 S
(if)-2.5 E(ferent mechanism, e.g., a te)-.25 E(xt editor)-.15 E(.)-.55 E
(October 25, 1997)271.145 768 Q(6)194.145 E EP
%%Page: 7 7
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 352.18(DB_OPEN\(3\) DB_OPEN\(3\))72 48 R
(unsigned long \215ags;)108 84 Q .349(The follo)133 96 R .349
(wing additional \215ags may be speci\214ed by)-.25 F/F1 10/Times-Bold@0
SF(or)2.849 E F0 .349('ing together one or more of the follo)B .348
(wing v)-.25 F(al-)-.25 E(ues:)133 108 Q(DB_DELIMITER)133 124.8 Q(The)
158 136.8 Q/F2 10/Times-Italic@0 SF -.37(re)2.5 G(_delim).37 E F0
(\214eld is set.)2.5 E(DB_FIXEDLEN)133 153.6 Q 1.442
(The records are \214x)158 165.6 R 1.442(ed-length, not byte delimited.)
-.15 F 1.443(The structure element)6.443 F F2 -.37(re)3.943 G(_len).37 E
F0 1.443(speci\214es the)3.943 F
(length of the record, and the structure element)158 177.6 Q F2 -.37(re)
2.5 G(_pad).37 E F0(is used as the pad character)2.5 E(.)-.55 E(An)158
201.6 Q 4.789(yr)-.15 G 2.289
(ecords added to the database that are less than)-4.789 F F2 -.37(re)
4.788 G(_len).37 E F0 2.288(bytes long are automatically)4.788 F 2.876
(padded. An)158 213.6 R 2.876(ya)-.15 G .377
(ttempt to insert records into the database that are greater than)-2.876
F F2 -.37(re)2.877 G(_len).37 E F0 .377(bytes long)2.877 F
(will cause the call to f)158 225.6 Q
(ail immediately and return an error)-.1 E(.)-.55 E(DB_P)133 242.4 Q(AD)
-.92 E(The)158 254.4 Q F2 -.37(re)2.5 G(_pad).37 E F0(\214eld is set.)
2.5 E(DB_RENUMBER)133 271.2 Q 1.258(Specifying the DB_RENUMBER \215ag causes the logical record numbers to be mutable, and)
158 283.2 R 1.16
(change as records are added to and deleted from the database.)158 295.2
R -.15(Fo)6.16 G 3.66(re).15 G 1.16(xample, the deletion of)-3.81 F .016
(record number 4 causes records numbered 5 and greater to be renumbered do)
158 307.2 R(wnw)-.25 E .015(ard by 1.)-.1 F .015(If a)5.015 F .57
(cursor w)158 319.2 R .571(as positioned to record number 4 before the deletion, it will reference the ne)
-.1 F 3.071(wr)-.25 G(ecord)-3.071 E .608(number 4, if an)158 331.2 R
3.108(ys)-.15 G .608(uch record e)-3.108 F .608
(xists, after the deletion.)-.15 F .607(If a cursor w)5.607 F .607
(as positioned after record)-.1 F .267
(number 4 before the deletion, it will be shifted do)158 343.2 R(wnw)
-.25 E .268(ard 1 logical record, continuing to refer)-.1 F(-)-.2 E
(ence the same record as it did before.)158 355.2 Q 1.662(Using the)158
379.2 R F2(c_put)4.162 E F0(or)4.162 E F2(put)4.162 E F0(interf)4.162 E
1.662(aces to create ne)-.1 F 4.162(wr)-.25 G 1.662
(ecords will cause the creation of multiple)-4.162 F .872
(records if the record number is more than one greater than the lar)158
391.2 R .872(gest record currently in the)-.18 F 3.45(database. F)158
403.2 R .95(or e)-.15 F .95
(xample, creating record 28, when record 25 w)-.15 F .95(as pre)-.1 F
.95(viously the last record in)-.25 F 1.353
(the database, will create records 26 and 27 as well as 28.)158 415.2 R
1.353(Attempts to retrie)6.353 F 1.654 -.15(ve r)-.25 H 1.354
(ecords that).15 F(were created in this manner will result in an error return of DB_KEYEMPTY)
158 427.2 Q(.)-1.29 E .05(If a created record is not at the end of the database, all records follo)
158 451.2 R .049(wing the ne)-.25 F 2.549(wr)-.25 G .049(ecord will be)
-2.549 F .057(automatically renumbered upw)158 463.2 R .057(ard by 1.)
-.1 F -.15(Fo)5.057 G 2.557(re).15 G .057(xample, the creation of a ne)
-2.707 F 2.557(wr)-.25 G .058(ecord numbered 8)-2.557 F .805
(causes records numbered 8 and greater to be renumbered upw)158 475.2 R
.804(ard by 1.)-.1 F .804(If a cursor w)5.804 F .804(as posi-)-.1 F
1.056(tioned to record number 8 or greater before the insertion, it will be shifted upw)
158 487.2 R 1.056(ard 1 logical)-.1 F
(record, continuing to reference the same record as it did before.)158
499.2 Q -.15(Fo)158 523.2 S 2.672(rt).15 G .172(hese reasons, concurrent access to a recno database with the DB_RENUMBER \215ag speci-)
-2.672 F(\214ed may be lar)158 535.2 Q
(gely meaningless, although it is supported.)-.18 E(DB_SN)133 552 Q
(APSHO)-.35 E(T)-.4 E 1.547(This \215ag speci\214es that an)158 564 R
4.047(ys)-.15 G(peci\214ed)-4.047 E F2 -.37(re)4.047 G(_sour).37 E(ce)
-.37 E F0 1.547(\214le be read in its entirety when)4.047 F F2(db_open)
4.048 E F0(is)4.048 E 2.5(called. If)158 576 R
(this \215ag is not speci\214ed, the)2.5 E F2 -.37(re)2.5 G(_sour).37 E
(ce)-.37 E F0(\214le may be read lazily)2.5 E(.)-.65 E/F3 9/Times-Bold@0
SF(DB OPERA)72 597.6 Q(TIONS)-.855 E F0 .156
(The DB structure returned by)108 609.6 R F2(db_open)2.656 E F0 .156
(describes a database type, and includes a set of functions to perform)
2.656 F -.25(va)108 621.6 S .036(rious actions, as described belo).25 F
3.836 -.65(w. E)-.25 H .037(ach of these functions tak).65 F .037
(es a pointer to a DB structure, and may tak)-.1 F(e)-.1 E
(one or more DBT *')108 633.6 Q 2.5(sa)-.55 G(nd a \215ag v)-2.5 E
(alue as well.)-.25 E(The \214elds of the DB structure are as follo)5 E
(ws:)-.25 E(DBTYPE type;)108 650.4 Q .618
(The type of the underlying access method \(and \214le format\).)133
662.4 R .618(Set to one of DB_BTREE, DB_HASH)5.618 F 1.151(or DB_RECNO.)
133 674.4 R 1.151(This \214eld may be used to determine the type of the database after a return from)
6.151 F F2(db_open)133 686.4 Q F0(with the)2.5 E F2(type)2.5 E F0(ar)2.5
E(gument set to DB_UNKNO)-.18 E(WN.)-.35 E
(int \(*close\)\(DB *db, int \215ags\);)108 703.2 Q 3.043(Ap)133 715.2 S
.543(ointer to a function to \215ush an)-3.043 F 3.043(yc)-.15 G .543
(ached information to disk, close an)-3.043 F 3.043(yo)-.15 G .543
(pen cursors \(see)-3.043 F F2(db_cur)3.042 E(-)-.2 E(sor)133 727.2 Q F0
.376(\(3\)\), free an).73 F 2.876(ya)-.15 G .376
(llocated resources, and close an)-2.876 F 2.876(yu)-.15 G .377
(nderlying \214les.)-2.876 F .377(Since k)5.377 F -.15(ey)-.1 G .377
(/data pairs are cached).15 F(October 25, 1997)271.145 768 Q(7)194.145 E
EP
%%Page: 8 8
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 352.18(DB_OPEN\(3\) DB_OPEN\(3\))72 48 R .787
(in memory)133 84 R 3.287(,f)-.65 G .787
(ailing to sync the \214le with the)-3.387 F/F1 10/Times-Italic@0 SF
(close)3.287 E F0(or)3.287 E F1(sync)3.287 E F0 .786
(function may result in inconsistent or lost)3.287 F(information.)133 96
Q(The)133 112.8 Q F1<8d61>2.5 E(gs)-.1 E F0
(parameter must be set to 0 or the follo)2.5 E(wing v)-.25 E(alue:)-.25
E(DB_NOSYNC)133 129.6 Q(Do not \215ush cached information to disk.)158
141.6 Q .69(The DB_NOSYNC \215ag is a dangerous option.)133 158.4 R .691
(It should only be set if the application is doing log-)5.69 F .918
(ging \(with or without transactions\) so that the database is reco)133
170.4 R -.15(ve)-.15 G .917(rable after a system or application).15 F
(crash, or if the database is al)133 182.4 Q -.1(wa)-.1 G
(ys generated from scratch after an).1 E 2.5(ys)-.15 G
(ystem or application crash.)-2.5 E/F2 10/Times-Bold@0 SF .436
(It is important to understand that \215ushing cached inf)133 199.2 R
.437(ormation to disk only minimizes the win-)-.25 F(do)133 211.2 Q
3.656(wo)-.1 G 3.656(fo)-3.656 G 1.156(pportunity f)-3.656 F 1.156
(or corrupted data.)-.25 F F0 1.156(While unlik)6.156 F(ely)-.1 E 3.656
(,i)-.65 G 3.656(ti)-3.656 G 3.656(sp)-3.656 G 1.155
(ossible for database corruption to)-3.656 F 1.326(happen if a system or application crash occurs while writing data to the database.)
133 223.2 R 2.926 -.8(To e)6.326 H 1.326(nsure that).8 F 1.062
(database corruption ne)133 235.2 R -.15(ve)-.25 G 3.562(ro).15 G 1.062
(ccurs, applications must either: use transactions and logging with auto-)
-3.562 F 1.324(matic reco)133 247.2 R -.15(ve)-.15 G(ry).15 E 3.824(,u)
-.65 G 1.324(se logging and application-speci\214c reco)-3.824 F -.15
(ve)-.15 G(ry).15 E 3.824(,o)-.65 G 3.824(re)-3.824 G 1.324(dit a cop)
-3.824 F 3.825(yo)-.1 G 3.825(ft)-3.825 G 1.325(he database, and,)-3.825
F .602(once all applications using the database ha)133 259.2 R .902 -.15
(ve s)-.2 H .601(uccessfully called).15 F F1(close)3.101 E F0 3.101(,r)
.18 G .601(eplace the original database)-3.101 F(with the updated cop)
133 271.2 Q -.65(y.)-.1 G .812
(When multiple threads are using the DB handle concurrently)133 288 R
3.312(,o)-.65 G .812(nly a single thread may call the DB)-3.312 F
(handle close function.)133 300 Q(The)133 316.8 Q F1(close)2.5 E F0
(function returns the v)2.5 E(alue of)-.25 E F1(errno)2.5 E F0(on f)2.5
E(ailure and 0 on success.)-.1 E
(int \(*cursor\)\(DB *db, DB_TXN *txnid, DBC **cursorp\);)108 333.6 Q
2.759(Ap)133 345.6 S .259
(ointer to a function to create a cursor and cop)-2.759 F 2.758(yap)-.1
G .258(ointer to it into the memory referenced by)-2.758 F F1(cur)2.758
E(-)-.2 E(sorp)133 357.6 Q F0(.).19 E 3.41(Ac)133 374.4 S .91
(ursor is a structure used to pro)-3.41 F .91
(vide sequential access through a database.)-.15 F .91(This interf)5.91
F .91(ace and its)-.1 F 1.066
(associated functions replaces the functionality pro)133 386.4 R 1.066
(vided by the)-.15 F F1(seq)3.566 E F0 1.066(function in pre)3.566 F
1.066(vious releases of)-.25 F(the DB library)133 398.4 Q(.)-.65 E 1.768
(If the \214le is being accessed under transaction protection, the)133
420 R F1(txnid)4.269 E F0 1.769(parameter is a transaction ID)4.269 F
1.691(returned from)133 432 R F1(txn_be)4.191 E(gin)-.4 E F0 4.191(,o)
.24 G 1.691(therwise, NULL.)-4.191 F 1.691
(If transaction protection is enabled, cursors must be)6.691 F .63
(opened and closed within the conte)133 444 R .631
(xt of a transaction, and the)-.15 F F1(txnid)3.131 E F0 .631
(parameter speci\214es the transac-)3.131 F(tion conte)133 456 Q
(xt in which the cursor may be used.)-.15 E(See)5 E F1(db_cur)2.5 E(sor)
-.1 E F0(\(3\) for more information.).73 E(The)133 472.8 Q F1(cur)2.5 E
(sor)-.1 E F0(function returns the v)2.5 E(alue of)-.25 E F1(errno)2.5 E
F0(on f)2.5 E(ailure and 0 on success.)-.1 E
(int \(*del\)\(DB *db, DB_TXN *txnid, DBT *k)108 489.6 Q -.15(ey)-.1 G
2.5(,i)-.5 G(nt \215ags\);)-2.5 E 2.542(Ap)133 501.6 S .042
(ointer to a function to remo)-2.542 F .341 -.15(ve k)-.15 H -.15(ey).05
G .041(/data pairs from the database.).15 F .041(The k)5.041 F -.15(ey)
-.1 G .041(/data pair associated with).15 F .518(the speci\214ed)133
513.6 R F1 -.1(ke)3.018 G(y)-.2 E F0 .518
(is discarded from the database.)3.018 F .518
(In the presence of duplicate k)5.518 F .818 -.15(ey v)-.1 H .519
(alues, all records)-.1 F(associated with the designated k)133 525.6 Q
.3 -.15(ey w)-.1 H(ill be discarded.).15 E 1.769
(If the \214le is being accessed under transaction protection, the)133
542.4 R F1(txnid)4.269 E F0 1.768(parameter is a transaction ID)4.268 F
(returned from)133 554.4 Q F1(txn_be)2.5 E(gin)-.4 E F0 2.5(,o).24 G
(therwise, NULL.)-2.5 E(The)133 571.2 Q F1<8d61>2.5 E(gs)-.1 E F0
(parameter is currently unused, and must be set to 0.)2.5 E(The)133 588
Q F1(del)3.856 E F0 1.357(function returns the v)3.856 F 1.357(alue of)
-.25 F F1(errno)3.857 E F0 1.357(on f)3.857 F 1.357
(ailure, 0 on success, and DB_NO)-.1 F 1.357(TFOUND if the)-.4 F
(speci\214ed)133 600 Q F1 -.1(ke)2.5 G(y)-.2 E F0(did not e)2.5 E
(xist in the \214le.)-.15 E(int \(*fd\)\(DB *db, int *fdp\);)108 616.8 Q
2.898(Ap)133 628.8 S .398
(ointer to a function that copies a \214le descriptor representati)
-2.898 F .697 -.15(ve o)-.25 H 2.897(ft).15 G .397
(he underlying database into the)-2.897 F 1.23(memory referenced by)133
640.8 R F1(fdp)3.73 E F0 6.23(.A).19 G 1.23(\214le descriptor referencing the same \214le will be returned to all pro-)
-2.5 F .77(cesses that call)133 652.8 R F1(db_open)3.27 E F0 .77
(with the same)3.27 F F1(\214le)3.27 E F0(ar)3.269 E 3.269(gument. This)
-.18 F .769(\214le descriptor may be safely used as an)3.269 F(ar)133
664.8 Q .487(gument to the)-.18 F F1(fcntl)2.987 E F0 .487(\(2\) and).51
F F1(\215oc)2.987 E(k)-.2 E F0 .487(\(2\) locking functions.).67 F .487
(The \214le descriptor is not necessarily associ-)5.487 F(ated with an)
133 676.8 Q 2.5(yo)-.15 G 2.5(ft)-2.5 G
(he underlying \214les used by the access method.)-2.5 E(The)133 693.6 Q
F1(fd)3.718 E F0 1.218
(function only supports a coarse-grained form of locking.)3.718 F 1.218
(Applications should use the lock)6.218 F(manager where possible.)133
705.6 Q(October 25, 1997)271.145 768 Q(8)194.145 E EP
%%Page: 9 9
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 352.18(DB_OPEN\(3\) DB_OPEN\(3\))72 48 R(The)133
84 Q/F1 10/Times-Italic@0 SF(fd)2.5 E F0(function returns the v)2.5 E
(alue of)-.25 E F1(errno)2.5 E F0(on f)2.5 E(ailure and 0 on success.)
-.1 E(int \(*get\)\(DB *db, DB_TXN *txnid,)108 100.8 Q(DBT *k)183 112.8
Q -.15(ey)-.1 G 2.5(,D)-.5 G(BT *data, int \215ags\);)-2.5 E 3.572(Ap)
133 124.8 S 1.072(ointer to a function that is an interf)-3.572 F 1.072
(ace for k)-.1 F -.15(ey)-.1 G 1.072(ed retrie).15 F -.25(va)-.25 G
3.573(lf).25 G 1.073(rom the database.)-3.573 F 1.073(The address and)
6.073 F(length of the data associated with the speci\214ed)133 136.8 Q
F1 -.1(ke)2.5 G(y)-.2 E F0(are returned in the structure referenced by)
2.5 E F1(data)2.5 E F0(.).26 E 1.502(In the presence of duplicate k)133
160.8 R 1.801 -.15(ey v)-.1 H(alues,)-.1 E F1 -.1(ge)4.001 G(t).1 E F0
1.501(will return the \214rst data item for the designated k)4.001 F
-.15(ey)-.1 G(.)-.5 E .819(Duplicates are sorted by insert order e)133
172.8 R .819(xcept where this order has been o)-.15 F -.15(ve)-.15 G .82
(rwritten by cursor opera-).15 F(tions.)133 184.8 Q/F2 10/Times-Bold@0
SF(Retrie)5.199 E -.1(va)-.15 G 2.699(lo).1 G 2.699(fd)-2.699 G .199
(uplicates r)-2.699 F(equir)-.18 E .198
(es the use of cursor operations.)-.18 F F0(See)5.198 E F1(db_cur)2.698
E(sor)-.1 E F0 .198(\(3\) for details.).73 F 1.768
(If the \214le is being accessed under transaction protection, the)133
201.6 R F1(txnid)4.269 E F0 1.769(parameter is a transaction ID)4.269 F
(returned from)133 213.6 Q F1(txn_be)2.5 E(gin)-.4 E F0 2.5(,o).24 G
(therwise, NULL.)-2.5 E(The)133 230.4 Q F1<8d61>2.5 E(gs)-.1 E F0
(parameter must be set to 0 or the follo)2.5 E(wing v)-.25 E(alue:)-.25
E(DB_SET_RECNO)133 247.2 Q(Retrie)158 259.2 Q .823 -.15(ve t)-.25 H .522
(he speci\214ed numbered k).15 F -.15(ey)-.1 G .522
(/data pair from a database.).15 F .522(Upon return, both the)5.522 F F1
-.1(ke)3.022 G(y)-.2 E F0(and)3.022 E F1(data)158 271.2 Q F0 .276
(items will ha)2.776 F .576 -.15(ve b)-.2 H .277(een \214lled in, not just the data item as is done for all other uses of the)
.15 F F1 -.1(ge)2.777 G(t).1 E F0(function.)158 283.2 Q(The)158 307.2 Q
F1(data)4.36 E F0 1.86(\214eld of the speci\214ed)4.36 F F1 -.1(ke)4.36
G(y)-.2 E F0 1.86(must be a pointer to a memory location from which a)
4.36 F F1(db_r)158 319.2 Q(ecno_t)-.37 E F0 1.613
(may be read, as described in)4.112 F F1(db_dbt)4.113 E F0 4.113
(\(3\). This).68 F 1.613(memory location will be read to)4.113 F
(determine the record to be retrie)158 331.2 Q -.15(ve)-.25 G(d.).15 E
-.15(Fo)158 355.2 S 3.788(rD).15 G 1.287(B_SET_RECNO to be speci\214ed, the underlying database must be of type btree and it)
-3.788 F(must ha)158 367.2 Q .3 -.15(ve b)-.2 H
(een created with the DB_RECNUM \215ag \(see).15 E F1(db_open)2.5 E F0
(\(3\)\).).24 E .753
(If the database is a recno database and the requested k)133 384 R 1.053
-.15(ey ex)-.1 H .753(ists, b).15 F .753(ut w)-.2 F .753(as ne)-.1 F
-.15(ve)-.25 G 3.253(re).15 G .753(xplicitly created by)-3.403 F 1.577
(the application or w)133 396 R 1.577(as later deleted, the)-.1 F F1 -.1
(ge)4.077 G(t).1 E F0 1.577(function returns DB_KEYEMPTY)4.077 F 6.577
(.O)-1.29 G 1.577(therwise, if the)-6.577 F 1.2(requested k)133 408 R
1.5 -.15(ey i)-.1 H(sn').15 E 3.7(ti)-.18 G 3.7(nt)-3.7 G 1.2
(he database, the)-3.7 F F1 -.1(ge)3.7 G(t).1 E F0 1.2
(function returns DB_NO)3.7 F 3.7(TFOUND. Otherwise,)-.4 F(the)3.7 E F1
-.1(ge)3.7 G(t).1 E F0(function returns the v)133 420 Q(alue of)-.25 E
F1(errno)2.5 E F0(on f)2.5 E(ailure and 0 on success.)-.1 E
(int \(*put\)\(DB *db, DB_TXN *txnid,)108 436.8 Q(DBT *k)183 448.8 Q
-.15(ey)-.1 G 2.5(,D)-.5 G(BT *data, int \215ags\);)-2.5 E 2.572(Ap)133
460.8 S .071(ointer to a function to store k)-2.572 F -.15(ey)-.1 G .071
(/data pairs in the database.).15 F .071
(If the database supports duplicates, the)5.071 F F1(put)133 472.8 Q F0
(function adds the ne)2.5 E 2.5(wd)-.25 G(ata v)-2.5 E
(alue at the end of the duplicate set.)-.25 E 1.768
(If the \214le is being accessed under transaction protection, the)133
489.6 R F1(txnid)4.269 E F0 1.769(parameter is a transaction ID)4.269 F
(returned from)133 501.6 Q F1(txn_be)2.5 E(gin)-.4 E F0 2.5(,o).24 G
(therwise, NULL.)-2.5 E(The \215ags v)133 518.4 Q
(alue is speci\214ed by)-.25 E F2(or)2.5 E F0
('ing together one or more of the follo)A(wing v)-.25 E(alues:)-.25 E
(DB_APPEND)133 535.2 Q 1.201(Append the k)158 547.2 R -.15(ey)-.1 G
1.201(/data pair to the end of the database.).15 F -.15(Fo)6.201 G 3.7
(rD).15 G 1.2(B_APPEND to be speci\214ed, the)-3.7 F 1.974
(underlying database must be of type recno.)158 559.2 R 1.975
(The record number allocated to the record is)6.974 F
(returned in the speci\214ed)158 571.2 Q F1 -.1(ke)2.5 G(y)-.2 E F0(.)
.32 E(DB_NOO)133 588 Q(VER)-.5 E(WRITE)-.55 E(Enter the ne)158 600 Q 2.5
(wk)-.25 G -.15(ey)-2.6 G(/data pair only if the k).15 E .3 -.15(ey d)
-.1 H(oes not already appear in the database.).15 E .907(The def)133
616.8 R .907(ault beha)-.1 F .907(vior of the)-.2 F F1(put)3.407 E F0
.907(function is to enter the ne)3.407 F 3.407(wk)-.25 G -.15(ey)-3.507
G .907(/data pair).15 F 3.407(,r)-.4 G .906(eplacing an)-3.407 F 3.406
(yp)-.15 G(re)-3.406 E(viously)-.25 E -.15(ex)133 628.8 S .02(isting k)
.15 F .32 -.15(ey i)-.1 H 2.52(fd).15 G .02(uplicates are disallo)-2.52
F .021(wed, or to add a duplicate entry if duplicates are allo)-.25 F
2.521(wed. Ev)-.25 F .021(en if)-.15 F .815
(the designated database allo)133 640.8 R .814(ws duplicates, a call to)
-.25 F F1(put)3.314 E F0 .814(with the DB_NOO)3.314 F(VER)-.5 E .814
(WRITE \215ag set will)-.55 F -.1(fa)133 652.8 S(il if the k).1 E .3
-.15(ey a)-.1 H(lready e).15 E(xists in the database.)-.15 E(The)133
669.6 Q F1(put)4.178 E F0 1.678(function returns the v)4.178 F 1.679
(alue of)-.25 F F1(errno)4.179 E F0 1.679(on f)4.179 F 1.679
(ailure, 0 on success, and DB_KEYEXIST if the)-.1 F(DB_NOO)133 681.6 Q
(VER)-.5 E(WRITE)-.55 E F1<8d61>2.5 E(g)-.1 E F0 -.1(wa)2.5 G 2.5(ss).1
G(et and the k)-2.5 E .3 -.15(ey a)-.1 H(lready e).15 E
(xists in the \214le.)-.15 E(int \(*sync\)\(DB *db, int \215ags\);)108
698.4 Q 3.291(Ap)133 710.4 S .791(ointer to a function to \215ush an)
-3.291 F 3.291(yc)-.15 G .791(ached information to disk.)-3.291 F .79
(If the database is in memory only)5.79 F(,)-.65 E(the)133 722.4 Q F1
(sync)2.5 E F0(function has no ef)2.5 E(fect and will al)-.25 E -.1(wa)
-.1 G(ys succeed.).1 E(October 25, 1997)271.145 768 Q(9)194.145 E EP
%%Page: 10 10
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 352.18(DB_OPEN\(3\) DB_OPEN\(3\))72 48 R(The)133
84 Q/F1 10/Times-Italic@0 SF<8d61>2.5 E(gs)-.1 E F0
(parameter is currently unused, and must be set to 0.)2.5 E(See the)133
100.8 Q F1(close)2.5 E F0(function description abo)2.5 E .3 -.15(ve f)
-.15 H(or a discussion of DB and cached data.).15 E(The)133 117.6 Q F1
(sync)2.5 E F0(function returns the v)2.5 E(alue of)-.25 E F1(errno)2.5
E F0(on f)2.5 E(ailure and 0 on success.)-.1 E(int \(*stat\)\(DB *db, v)
108 134.4 Q(oid *sp,)-.2 E -.2(vo)183 146.4 S
(id *\(*db_malloc\)\(size_t\), int \215ags\);).2 E 3.897(Ap)133 158.4 S
1.397(ointer to a function to create a statistical structure and cop)
-3.897 F 3.897(yap)-.1 G 1.397(ointer to it into user)-3.897 F
(-speci\214ed)-.2 E 1.273(memory locations.)133 170.4 R(Speci\214cally)
6.273 E 3.773(,i)-.65 G(f)-3.773 E F1(sp)3.773 E F0 1.273
(is non-NULL, a pointer to the statistics for the database are)3.773 F
(copied into the memory location it references.)133 182.4 Q .218
(Statistical structures are created in allocated memory)133 206.4 R
5.218(.I)-.65 G(f)-5.218 E F1(db_malloc)2.718 E F0 .218
(is non-NULL, it is called to allo-)2.718 F 1.36(cate the memory)133
218.4 R 3.86(,o)-.65 G 1.359(therwise, the library function)-3.86 F F1
(malloc)3.859 E F0 1.359(\(3\) is used.).31 F 1.359(The function)6.359 F
F1(db_malloc)3.859 E F0(must)3.859 E .79(match the calling con)133 230.4
R -.15(ve)-.4 G .791(ntions of the).15 F F1(malloc)3.291 E F0 .791
(\(3\) library routine.).31 F(Re)5.791 E -.05(ga)-.15 G .791
(rdless, the caller is responsible).05 F .667
(for deallocating the returned memory)133 242.4 R 5.666(.T)-.65 G 3.166
(od)-6.466 G .666(eallocate the returned memory)-3.166 F 3.166(,f)-.65 G
.666(ree each returned mem-)-3.166 F
(ory pointer; pointers inside the memory do not need to be indi)133
254.4 Q(vidually freed.)-.25 E/F2 10/Times-Bold@0 SF 1.82(In the pr)133
278.4 R 1.821(esence of multiple thr)-.18 F 1.821(eads or pr)-.18 F
1.821(ocesses accessing an acti)-.18 F 2.021 -.1(ve d)-.1 H 1.821
(atabase, the r).1 F(etur)-.18 E(ned)-.15 E(inf)133 290.4 Q
(ormation may be out-of-date.)-.25 E .17
(This function may access all of the pages in the database, and ther)133
314.4 R(ef)-.18 E(or)-.25 E 2.67(em)-.18 G .17(ay incur a se)-2.67 F -.1
(ve)-.15 G .53 -.18(re p).1 H(er).18 E(-)-.37 E -.25(fo)133 326.4 S
(rmance penalty and ha).25 E .2 -.1(ve o)-.25 H -.15(bv).1 G
(ious negati).15 E .2 -.1(ve e)-.1 H(ffects on the underlying b).1 E
(uffer pool.)-.2 E F0(The)133 355.2 Q F1<8d61>2.5 E(gs)-.1 E F0
(parameter must be set to 0 or the follo)2.5 E(wing v)-.25 E(alue:)-.25
E(DB_RECORDCOUNT)133 376.8 Q 1.312(Fill in the)158 388.8 R F1(bt_nr)
3.812 E(ecs)-.37 E F0 1.312(\214eld of the statistics structure, b)3.812
F 1.312(ut do not collect an)-.2 F 3.812(yo)-.15 G 1.312
(ther information.)-3.812 F .016(This \215ag mak)158 400.8 R .015(es it reasonable for applications to request a record count from a database without)
-.1 F 1.272(incurring a performance penalty)158 412.8 R 6.272(.I)-.65 G
3.772(ti)-6.272 G 3.772(so)-3.772 G 1.272(nly a)-3.772 F -.25(va)-.2 G
1.273(ilable for recno databases, or btree databases).25 F
(where the underlying database w)158 424.8 Q
(as created with the DB_RECNUM \215ag.)-.1 E(The)133 441.6 Q F1(stat)2.5
E F0(function returns the v)2.5 E(alue of)-.25 E F1(errno)2.5 E F0(on f)
2.5 E(ailure and 0 on success.)-.1 E 4.143(In the case of a btree or recno database, the statistics are stored in a structure of type)
133 458.4 R(DB_BTREE_ST)133 470.4 Q 2.22 -1.11(AT \()-.93 H -1.95
(typedef ')1.11 F 2.5(di)-.5 G 2.5(n<)-2.5 G(db)-2.5 E 2.5(.h>\). The)
-.4 F(follo)2.5 E(wing \214elds will be \214lled in:)-.25 E
(u_int32_t bt_magic;)133 487.2 Q
(Magic number that identi\214es the \214le as a btree \214le.)158 499.2
Q(u_int32_t bt_v)133 511.2 Q(ersion;)-.15 E(The v)158 523.2 Q
(ersion of the btree \214le type.)-.15 E(u_int32_t bt_\215ags;)133 535.2
Q 5.924(Permanent database \215ags, including DB_DUP)158 547.2 R 8.424
(,D)-1.11 G 5.925(B_FIXEDLEN, DB_RECNUM and)-8.424 F(DB_RENUMBER.)158
559.2 Q(u_int32_t bt_mink)133 571.2 Q -.15(ey)-.1 G(;).15 E(The)158
583.2 Q F1(bt_mink)2.5 E -.3(ey)-.1 G F0 -.25(va)2.8 G
(lue speci\214ed to).25 E F1(db_open)2.5 E F0(\(3\), if an).24 E -.65
(y.)-.15 G(u_int32_t bt_re_len;)133 595.2 Q(The)158 607.2 Q F1 -.37(re)
2.5 G(_len).37 E F0 -.25(va)2.5 G(lue speci\214ed to).25 E F1(db_open)
2.5 E F0(\(3\), if an).24 E -.65(y.)-.15 G(u_int32_t bt_re_pad;)133
619.2 Q(The)158 631.2 Q F1 -.37(re)2.5 G(_pad).37 E F0 -.25(va)2.5 G
(lue speci\214ed to).25 E F1(db_open)2.5 E F0(\(3\), if an).24 E -.65
(y.)-.15 G(u_int32_t bt_pagesize;)133 643.2 Q
(Underlying tree page size.)158 655.2 Q(u_int32_t bt_le)133 667.2 Q -.15
(ve)-.25 G(ls;).15 E(Number of le)158 679.2 Q -.15(ve)-.25 G
(ls in the tree.).15 E(u_int32_t bt_nrecs;)133 691.2 Q .534(Number of data items in the tree \(since there may be multiple data items per k)
158 703.2 R -.15(ey)-.1 G 3.033(,t)-.5 G .533(his number)-3.033 F
(may not be the same as the number of k)158 715.2 Q -.15(ey)-.1 G(s\).)
.15 E(October 25, 1997)271.145 768 Q(10)189.145 E EP
%%Page: 11 11
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 352.18(DB_OPEN\(3\) DB_OPEN\(3\))72 48 R
(u_int32_t bt_int_pg;)133 84 Q(Number of tree internal pages.)158 96 Q
(u_int32_t bt_leaf_pg;)133 108 Q(Number of tree leaf pages.)158 120 Q
(u_int32_t bt_dup_pg;)133 132 Q(Number of tree duplicate pages.)158 144
Q(u_int32_t bt_o)133 156 Q -.15(ve)-.15 G(r_pg;).15 E(Number of tree o)
158 168 Q -.15(ve)-.15 G(r\215o).15 E 2.5(wp)-.25 G(ages.)-2.5 E
(u_int32_t bt_free;)133 180 Q(Number of pages on the free list.)158 192
Q(u_int32_t bt_freed;)133 204 Q(Number of pages made a)158 216 Q -.25
(va)-.2 G(ilable for reuse because the).25 E 2.5(yw)-.15 G(ere emptied.)
-2.5 E(u_int32_t bt_int_pgfree;)133 228 Q
(Number of bytes free in tree internal pages.)158 240 Q
(u_int32_t bt_leaf_pgfree;)133 252 Q
(Number of bytes free in tree leaf pages.)158 264 Q
(u_int32_t bt_dup_pgfree;)133 276 Q
(Number of bytes free in tree duplicate pages.)158 288 Q(u_int32_t bt_o)
133 300 Q -.15(ve)-.15 G(r_pgfree;).15 E(Number of bytes free in tree o)
158 312 Q -.15(ve)-.15 G(r\215o).15 E 2.5(wp)-.25 G(ages.)-2.5 E
(u_int32_t bt_pfxsa)133 324 Q -.15(ve)-.2 G(d;).15 E(Number of bytes sa)
158 336 Q -.15(ve)-.2 G 2.5(db).15 G 2.5(yp)-2.5 G(re\214x compression.)
-2.5 E(u_int32_t bt_split;)133 348 Q -.8(To)158 360 S
(tal number of tree page splits \(includes f).8 E
(ast and root splits\).)-.1 E(u_int32_t bt_rootsplit;)133 372 Q
(Number of root page splits.)158 384 Q(u_int32_t bt_f)133 396 Q
(astsplit;)-.1 E .458(Number of f)158 408 R .458(ast splits.)-.1 F .458
(When sorted k)5.458 F -.15(ey)-.1 G 2.958(sa).15 G .458
(re added to the database, the DB btree implementa-)-2.958 F 1.105
(tion will split left or right to increase the page-\214ll f)158 420 R
(actor)-.1 E 6.105(.T)-.55 G 1.104(his number is a measure of ho)-6.105
F(w)-.25 E(often it w)158 432 Q(as possible to mak)-.1 E 2.5(es)-.1 G
(uch a split.)-2.5 E(u_int32_t bt_added;)133 444 Q(Number of k)158 456 Q
-.15(ey)-.1 G 2.5(sa).15 G(dded.)-2.5 E(u_int32_t bt_deleted;)133 468 Q
(Number of k)158 480 Q -.15(ey)-.1 G 2.5(sd).15 G(eleted.)-2.5 E
(u_int32_t bt_get;)133 492 Q 2.273(Number of k)158 504 R -.15(ey)-.1 G
4.773(sr).15 G(etrie)-4.773 E -.15(ve)-.25 G 4.773(d. \(Note,).15 F
2.273(this v)4.773 F 2.274(alue will not re\215ect an)-.25 F 4.774(yk)
-.15 G -.15(ey)-4.874 G 4.774(sr).15 G(etrie)-4.774 E -.15(ve)-.25 G
4.774(dw).15 G 2.274(hen the)-4.774 F .221(database w)158 516 R .221(as open for read-only access, as there is no permanent location to store the informa-)
-.1 F(tion in this case.\))158 528 Q(u_int32_t bt_cache_hit;)133 540 Q
.898(Number of hits in tree f)158 552 R .899(ast-insert code.)-.1 F .899
(When sorted k)5.899 F -.15(ey)-.1 G 3.399(sa).15 G .899
(re added to the database, the DB)-3.399 F 1.617(btree implementation will check the last page where an insert occurred before doing a full)
158 564 R 2.5(lookup. This)158 576 R(number is a measure of ho)2.5 E 2.5
(wo)-.25 G(ften the lookup w)-2.5 E(as successful.)-.1 E
(u_int32_t bt_cache_miss;)133 588 Q .051(Number of misses in tree f)158
600 R .051(ast-insert code.)-.1 F .052
(See the description of bt_cache_hit; this number is a)5.051 F
(measure of ho)158 612 Q 2.5(wo)-.25 G(ften the lookup f)-2.5 E(ailed.)
-.1 E/F1 9/Times-Bold@0 SF(ENVIR)72 628.8 Q(ONMENT V)-.27 E(ARIABLES)
-1.215 E F0(The follo)108 640.8 Q(wing en)-.25 E(vironment v)-.4 E
(ariables af)-.25 E(fect the e)-.25 E -.15(xe)-.15 G(cution of).15 E/F2
10/Times-Italic@0 SF(db_open)2.5 E F0(:).24 E(DB_HOME)108 657.6 Q 3.072
(If the)133 669.6 R F2(dben)5.572 E(v)-.4 E F0(ar)5.572 E 3.072
(gument to)-.18 F F2(db_open)5.572 E F0 -.1(wa)5.572 G 5.572(si).1 G
3.072(nitialized using)-5.572 F F2(db_appinit)5.571 E F0 5.571(,t).68 G
3.071(he en)-5.571 F 3.071(vironment v)-.4 F(ariable)-.25 E .508(DB_HOME may be used as the path of the database home for the interpretation of the)
133 681.6 R F2(dir)3.009 E F0(ar)3.009 E(gument)-.18 E(to)133 693.6 Q F2
(db_open)4.105 E F0 4.105(,a).24 G 4.104(sd)-4.105 G 1.604(escribed in)
-4.104 F F2(db_appinit)4.104 E F0 4.104(\(3\). Speci\214cally).68 F(,)
-.65 E F2(db_open)4.104 E F0 1.604(is af)4.104 F 1.604
(fected by the con\214guration)-.25 F(string v)133 705.6 Q(alue of DB_D)
-.25 E -1.21 -1.11(AT A)-.4 H(_DIR.)1.11 E(October 25, 1997)271.145 768
Q(11)189.145 E EP
%%Page: 12 12
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 352.18(DB_OPEN\(3\) DB_OPEN\(3\))72 48 R/F1 9
/Times-Bold@0 SF(EXAMPLES)72 84 Q F0 .489
(Applications that create short-li)108 96 R -.15(ve)-.25 G 2.989(dd).15
G .489(atabases that are discarded or recreated when the system f)-2.989
F .49(ails and are)-.1 F 1.96(unconcerned with concurrent access and loss of data due to catastrophic f)
108 108 R 1.96(ailure, may wish to use the)-.1 F/F2 10/Times-Italic@0 SF
(db_open)108 120 Q F0 .198
(functionality without other parts of the DB library)2.698 F 5.198(.S)
-.65 G .198(uch applications will only be concerned with)-5.198 F .435
(the DB access methods.)108 132 R .435
(The DB access methods will use the memory pool subsystem, b)5.435 F
.435(ut the application)-.2 F .434(is unlik)108 144 R .434(ely to be a)
-.1 F -.1(wa)-.15 G .434(re of this.).1 F .434(See the \214les)5.434 F
F2 -.2(ex)2.934 G(ample/e).2 E(x_access.c)-.2 E F0(and)2.935 E F2 -.2
(ex)2.935 G(ample/e).2 E(x_btr)-.2 E(ec.c)-.37 E F0 .435
(in the DB source)2.935 F(distrib)108 156 Q(ution for C language code e)
-.2 E(xamples of ho)-.15 E 2.5(ws)-.25 G
(uch applications might use the DB library)-2.5 E(.)-.65 E F1(ERR)72
172.8 Q(ORS)-.27 E F0(The)108 184.8 Q F2(db_open)3.415 E F0 .915
(function may f)3.415 F .915(ail and return)-.1 F F2(errno)3.415 E F0
.915(for an)3.415 F 3.415(yo)-.15 G 3.415(ft)-3.415 G .915
(he errors speci\214ed for the follo)-3.415 F .915(wing DB and)-.25 F(library functions: DB->sync\(3\), calloc\(3\), close\(2\), fcntl\(2\), f)
108 196.8 Q(\215ush\(3\), lock_get\(3\), lock_id\(3\), lock_put\(3\),)
-.25 E(lock_v)108 208.8 Q(ec\(3\), log_put\(3\), log_re)-.15 E
(gister\(3\), log_unre)-.15 E(gister\(3\), malloc\(3\), memcp)-.15 E
(y\(3\), memmo)-.1 E -.15(ve)-.15 G(\(3\),).15 E(memp_close\(3\), memp_fclose\(3\), memp_fget\(3\), memp_fopen\(3\), memp_fput\(3\), memp_fset\(3\),)
108 220.8 Q(memp_fsync\(3\), memp_open\(3\), memp_re)108 232.8 Q(gister\(3\), memset\(3\), mmap\(2\), munmap\(2\), open\(2\), read\(2\),)
-.15 E
(realloc\(3\), sig\214llset\(3\), sigprocmask\(2\), stat\(2\), strcp)108
244.8 Q(y\(3\), strdup\(3\), strerror\(3\), strlen\(3\), time\(3\), and)
-.1 E(unlink\(2\).)108 256.8 Q(In addition, the)108 273.6 Q F2(db_open)
2.5 E F0(function may f)2.5 E(ail and return)-.1 E F2(errno)2.5 E F0
(for the follo)2.5 E(wing conditions:)-.25 E([EA)108 290.4 Q(GAIN])-.4 E
2.5(Al)133 302.4 S(ock w)-2.5 E(as una)-.1 E -.25(va)-.2 G(ilable.).25 E
([EINV)108 319.2 Q(AL])-1.35 E .446(An in)133 331.2 R -.25(va)-.4 G .446
(lid \215ag v).25 F .446(alue or parameter w)-.25 F .445
(as speci\214ed \(e.g., unkno)-.1 F .445
(wn database type, page size, hash func-)-.25 F .222
(tion, recno pad byte, byte order\) or a \215ag v)133 343.2 R .222
(alue or parameter that is incompatible with the current)-.25 F F2
(\214le)2.723 E F0(speci\214cation.)133 355.2 Q(The DB_THREAD \215ag w)
133 379.2 Q(as speci\214ed and spinlocks are not implemented for this architecture.)
-.1 E(There is a mismatch between the v)133 403.2 Q(ersion number of)
-.15 E F2(\214le)2.5 E F0(and the softw)2.5 E(are.)-.1 E(A)133 427.2 Q
F2 -.37(re)2.889 G(_sour).37 E(ce)-.37 E F0 .389(\214le w)2.889 F .389
(as speci\214ed with either the DB_THREAD \215ag or a non-NULL)-.1 F F2
(tx_info)2.888 E F0 .388(\214eld in the)2.888 F(DB_ENV ar)133 439.2 Q
(gument to db_open.)-.18 E([ENOENT])108 456 Q 2.5(An)133 468 S(on-e)-2.5
E(xistent)-.15 E F2 -.37(re)2.5 G(_sour).37 E(ce)-.37 E F0(\214le w)2.5
E(as speci\214ed.)-.1 E([EPERM])108 484.8 Q .577(Database corruption w)
133 496.8 R .577(as detected.)-.1 F .578
(All subsequent database calls \(other than)5.577 F F2(DB->close)3.078 E
F0 3.078(\)w).18 G .578(ill return)-3.078 F(EPERM.)133 508.8 Q(The)108
525.6 Q F2(DB->close)2.887 E F0 .386(function may f)2.887 F .386
(ail and return)-.1 F F2(errno)2.886 E F0 .386(for an)2.886 F 2.886(yo)
-.15 G 2.886(ft)-2.886 G .386(he errors speci\214ed for the follo)-2.886
F .386(wing DB and)-.25 F
(library functions: DB->sync\(3\), calloc\(3\), close\(2\), f)108 537.6
Q(\215ush\(3\), lock_get\(3\), lock_put\(3\), lock_v)-.25 E(ec\(3\),)
-.15 E(log_put\(3\), log_unre)108 549.6 Q
(gister\(3\), malloc\(3\), memcp)-.15 E(y\(3\), memmo)-.1 E -.15(ve)-.15
G(\(3\), memp_close\(3\), memp_fclose\(3\),).15 E(memp_fget\(3\), memp_fput\(3\), memp_fset\(3\), memp_fsync\(3\), memset\(3\), munmap\(2\), realloc\(3\), and)
108 561.6 Q(strerror\(3\).)108 573.6 Q(The)108 590.4 Q F2(DB->cur)2.583
E(sor)-.1 E F0 .083(function may f)2.583 F .083(ail and return)-.1 F F2
(errno)2.583 E F0 .083(for an)2.583 F 2.583(yo)-.15 G 2.583(ft)-2.583 G
.083(he errors speci\214ed for the follo)-2.583 F .082(wing DB and)-.25
F(library functions: calloc\(3\).)108 602.4 Q(In addition, the)108 619.2
Q F2(DB->cur)2.5 E(sor)-.1 E F0(function may f)2.5 E(ail and return)-.1
E F2(errno)2.5 E F0(for the follo)2.5 E(wing conditions:)-.25 E([EINV)
108 636 Q(AL])-1.35 E(An in)133 648 Q -.25(va)-.4 G(lid \215ag v).25 E
(alue or parameter w)-.25 E(as speci\214ed.)-.1 E([EPERM])108 664.8 Q
.577(Database corruption w)133 676.8 R .577(as detected.)-.1 F .578
(All subsequent database calls \(other than)5.577 F F2(DB->close)3.078 E
F0 3.078(\)w).18 G .578(ill return)-3.078 F(EPERM.)133 688.8 Q(The)108
705.6 Q F2(DB->del)2.705 E F0 .205(function may f)2.705 F .205
(ail and return)-.1 F F2(errno)2.705 E F0 .205(for an)2.705 F 2.705(yo)
-.15 G 2.705(ft)-2.705 G .205(he errors speci\214ed for the follo)-2.705
F .204(wing DB and li-)-.25 F
(brary functions: calloc\(3\), fcntl\(2\), f)108 717.6 Q
(\215ush\(3\), lock_get\(3\), lock_id\(3\), lock_put\(3\), lock_v)-.25 E
(ec\(3\), log_put\(3\),)-.15 E(malloc\(3\), memcmp\(3\), memcp)108 729.6
Q(y\(3\), memmo)-.1 E -.15(ve)-.15 G
(\(3\), memp_fget\(3\), memp_fput\(3\), memp_fset\(3\),).15 E
(October 25, 1997)271.145 768 Q(12)189.145 E EP
%%Page: 13 13
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 352.18(DB_OPEN\(3\) DB_OPEN\(3\))72 48 R
(memset\(3\), realloc\(3\), and strerror\(3\).)108 84 Q
(In addition, the)108 100.8 Q/F1 10/Times-Italic@0 SF(DB->del)2.5 E F0
(function may f)2.5 E(ail and return)-.1 E F1(errno)2.5 E F0
(for the follo)2.5 E(wing conditions:)-.25 E([EA)108 117.6 Q(GAIN])-.4 E
2.5(Al)133 129.6 S(ock w)-2.5 E(as una)-.1 E -.25(va)-.2 G(ilable.).25 E
([EINV)108 146.4 Q(AL])-1.35 E(An in)133 158.4 Q -.25(va)-.4 G
(lid \215ag v).25 E(alue or parameter w)-.25 E(as speci\214ed.)-.1 E
([EPERM])108 175.2 Q .577(Database corruption w)133 187.2 R .577
(as detected.)-.1 F .578(All subsequent database calls \(other than)
5.577 F F1(DB->close)3.078 E F0 3.078(\)w).18 G .578(ill return)-3.078 F
(EPERM.)133 199.2 Q(In addition, the)108 216 Q F1(DB->fd)2.5 E F0
(function may f)2.5 E(ail and return)-.1 E F1(errno)2.5 E F0
(for the follo)2.5 E(wing conditions:)-.25 E([ENOENT])108 232.8 Q(The)
133 244.8 Q F1(DB->fd)2.719 E F0 .219(function w)2.719 F .219(as called for an in-memory database, or no underlying \214le has yet been creat-)
-.1 F(ed.)133 256.8 Q([EPERM])108 273.6 Q .577(Database corruption w)133
285.6 R .577(as detected.)-.1 F .578
(All subsequent database calls \(other than)5.577 F F1(DB->close)3.078 E
F0 3.078(\)w).18 G .578(ill return)-3.078 F(EPERM.)133 297.6 Q(The)108
314.4 Q F1(DB->g)2.71 E(et)-.1 E F0 .21(function may f)2.71 F .21
(ail and return)-.1 F F1(errno)2.71 E F0 .21(for an)2.71 F 2.71(yo)-.15
G 2.71(ft)-2.71 G .21(he errors speci\214ed for the follo)-2.71 F .21
(wing DB and li-)-.25 F(brary functions: DBcursor)108 326.4 Q
(->c_get\(3\), calloc\(3\), fcntl\(2\), f)-.2 E
(\215ush\(3\), lock_get\(3\), lock_id\(3\), lock_put\(3\),)-.25 E
(lock_v)108 338.4 Q
(ec\(3\), log_put\(3\), malloc\(3\), memcmp\(3\), memcp)-.15 E
(y\(3\), memmo)-.1 E -.15(ve)-.15 G
(\(3\), memp_fget\(3\), memp_fput\(3\),).15 E
(memp_fset\(3\), memset\(3\), realloc\(3\), and strerror\(3\).)108 350.4
Q(In addition, the)108 367.2 Q F1(DB->g)2.5 E(et)-.1 E F0
(function may f)2.5 E(ail and return)-.1 E F1(errno)2.5 E F0
(for the follo)2.5 E(wing conditions:)-.25 E([EA)108 384 Q(GAIN])-.4 E
2.5(Al)133 396 S(ock w)-2.5 E(as una)-.1 E -.25(va)-.2 G(ilable.).25 E
([EINV)108 412.8 Q(AL])-1.35 E(An in)133 424.8 Q -.25(va)-.4 G
(lid \215ag v).25 E(alue or parameter w)-.25 E(as speci\214ed.)-.1 E
1.039(The DB_THREAD \215ag w)133 448.8 R 1.039(as speci\214ed to the)-.1
F F1(db_open)3.539 E F0 1.039
(\(3\) function and neither the DB_DBT_MAL-).24 F
(LOC or DB_DBT_USERMEM \215ags were set in the DBT)133 460.8 Q(.)-.74 E
2.5(Ar)133 484.8 S(ecord number of 0 w)-2.5 E(as speci\214ed.)-.1 E
([EPERM])108 501.6 Q .578(Database corruption w)133 513.6 R .578
(as detected.)-.1 F .577(All subsequent database calls \(other than)
5.578 F F1(DB->close)3.077 E F0 3.077(\)w).18 G .577(ill return)-3.077 F
(EPERM.)133 525.6 Q(The)108 542.4 Q F1(DB->put)2.675 E F0 .175
(function may f)2.675 F .175(ail and return)-.1 F F1(errno)2.675 E F0
.175(for an)2.675 F 2.675(yo)-.15 G 2.675(ft)-2.675 G .175
(he errors speci\214ed for the follo)-2.675 F .176(wing DB and li-)-.25
F(brary functions: calloc\(3\), fcntl\(2\), f)108 554.4 Q
(\215ush\(3\), lock_get\(3\), lock_id\(3\), lock_put\(3\), lock_v)-.25 E
(ec\(3\), log_put\(3\),)-.15 E(malloc\(3\), memcmp\(3\), memcp)108 566.4
Q(y\(3\), memmo)-.1 E -.15(ve)-.15 G
(\(3\), memp_fget\(3\), memp_fput\(3\), memp_fset\(3\),).15 E
(memset\(3\), realloc\(3\), and strerror\(3\).)108 578.4 Q
(In addition, the)108 595.2 Q F1(DB->put)2.5 E F0(function may f)2.5 E
(ail and return)-.1 E F1(errno)2.5 E F0(for the follo)2.5 E
(wing conditions:)-.25 E([EA)108 612 Q(CCES])-.4 E(An attempt w)133 624
Q(as made to modify a read-only database.)-.1 E([EA)108 640.8 Q(GAIN])
-.4 E 2.5(Al)133 652.8 S(ock w)-2.5 E(as una)-.1 E -.25(va)-.2 G
(ilable.).25 E([EINV)108 669.6 Q(AL])-1.35 E(An in)133 681.6 Q -.25(va)
-.4 G(lid \215ag v).25 E(alue or parameter w)-.25 E(as speci\214ed.)-.1
E 2.5(Ar)133 705.6 S(ecord number of 0 w)-2.5 E(as speci\214ed.)-.1 E
(An attempt w)133 729.6 Q(as made to add a record to a \214x)-.1 E
(ed-length database that w)-.15 E(as too lar)-.1 E(ge to \214t.)-.18 E
(October 25, 1997)271.145 768 Q(13)189.145 E EP
%%Page: 14 14
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 352.18(DB_OPEN\(3\) DB_OPEN\(3\))72 48 R
(An attempt w)133 84 Q(as made to do a partial put.)-.1 E([EPERM])108
100.8 Q .578(Database corruption w)133 112.8 R .578(as detected.)-.1 F
.577(All subsequent database calls \(other than)5.578 F/F1 10
/Times-Italic@0 SF(DB->close)3.077 E F0 3.077(\)w).18 G .577(ill return)
-3.077 F(EPERM.)133 124.8 Q([ENOSPC])108 141.6 Q 2.5(Ab)133 153.6 S
(tree e)-2.5 E(xceeded the maximum btree depth \(255\).)-.15 E(The)108
170.4 Q F1(DB->stat)2.587 E F0 .087(function may f)2.587 F .087
(ail and return)-.1 F F1(errno)2.587 E F0 .087(for an)2.587 F 2.587(yo)
-.15 G 2.587(ft)-2.587 G .088(he errors speci\214ed for the follo)-2.587
F .088(wing DB and li-)-.25 F
(brary functions: calloc\(3\), fcntl\(2\), f)108 182.4 Q
(\215ush\(3\), lock_get\(3\), lock_id\(3\), lock_put\(3\), lock_v)-.25 E
(ec\(3\), malloc\(3\),)-.15 E(memcp)108 194.4 Q
(y\(3\), memp_fget\(3\), memp_fput\(3\), and memset\(3\).)-.1 E(The)108
211.2 Q F1(DB->sync)3.04 E F0 .54(function may f)3.04 F .54
(ail and return)-.1 F F1(errno)3.04 E F0 .541(for an)3.04 F 3.041(yo)
-.15 G 3.041(ft)-3.041 G .541(he errors speci\214ed for the follo)-3.041
F .541(wing DB and)-.25 F(library functions: DB->get\(3\), DB->sync\(3\), calloc\(3\), close\(2\), fcntl\(2\), f)
108 223.2 Q(\215ush\(3\), lock_get\(3\), lock_id\(3\),)-.25 E
(lock_put\(3\), lock_v)108 235.2 Q
(ec\(3\), log_put\(3\), malloc\(3\), memcp)-.15 E(y\(3\), memmo)-.1 E
-.15(ve)-.15 G(\(3\), memp_fget\(3\), memp_fput\(3\),).15 E(memp_fset\(3\), memp_fsync\(3\), memset\(3\), munmap\(2\), open\(2\), realloc\(3\), strerror\(3\), unlink\(2\), and)
108 247.2 Q(write\(2\).)108 259.2 Q(In addition, the)108 276 Q F1
(DB->sync)2.5 E F0(function may f)2.5 E(ail and return)-.1 E F1(errno)
2.5 E F0(for the follo)2.5 E(wing conditions:)-.25 E([EINV)108 292.8 Q
(AL])-1.35 E(An in)133 304.8 Q -.25(va)-.4 G(lid \215ag v).25 E
(alue or parameter w)-.25 E(as speci\214ed.)-.1 E([EPERM])108 321.6 Q
.577(Database corruption w)133 333.6 R .577(as detected.)-.1 F .578
(All subsequent database calls \(other than)5.577 F F1(DB->close)3.078 E
F0 3.078(\)w).18 G .578(ill return)-3.078 F(EPERM.)133 345.6 Q/F2 9
/Times-Bold@0 SF(SEE ALSO)72 362.4 Q F1(The Ubiquitous B-tr)108 374.4 Q
(ee)-.37 E F0 2.5(,D).18 G(ouglas Comer)-2.5 E 2.5(,A)-.4 G
(CM Comput. Surv)-2.9 E 2.5(.1)-.65 G(1, 2 \(June 1979\), 121-138.)-2.5
E F1(Pr)108 398.4 Q 1.588(e\214x B-tr)-.37 F(ees)-.37 E F0 4.088(,B).27
G 1.587(ayer and Unterauer)-4.088 F 4.087(,A)-.4 G 1.587(CM T)-4.487 F
1.587(ransactions on Database Systems, V)-.35 F 1.587
(ol. 2, 1 \(March 1977\),)-1.29 F(11-26.)108 410.4 Q F1
(The Art of Computer Pr)108 434.4 Q -.1(og)-.45 G -.15(ra).1 G(mming V)
.15 E(ol. 3: Sorting and Sear)-1.11 E -.15(ch)-.37 G(ing).15 E F0 2.5
(,D).22 G(.E. Knuth, 1968, pp 471-480.)-2.5 E F1(Dynamic Hash T)108
458.4 Q(ables)-.92 E F0 2.5(,P).27 G(er)-2.5 E(-Ak)-.2 E 2.5(eL)-.1 G
(arson, Communications of the A)-2.5 E(CM, April 1988.)-.4 E F1 2.5(AN)
108 482.4 S .3 -.15(ew H)-2.5 H(ash P).15 E(ac)-.8 E(ka)-.2 E .2 -.1
(ge f)-.1 H(or UNIX).1 E F0 2.5(,M).94 G(ar)-2.5 E(go Seltzer)-.18 E 2.5
(,U)-.4 G(SENIX Proceedings, W)-2.5 E(inter 1991.)-.4 E F1 2.754
(Document Pr)108 506.4 R 2.754(ocessing in a Relational Database System)
-.45 F F0 5.255(,M).32 G 2.755(ichael Stonebrak)-5.255 F(er)-.1 E 5.255
(,H)-.4 G 2.755(eidi Stettner)-5.255 F 5.255(,J)-.4 G(oseph)-5.255 E
(Kalash, Antonin Guttman, Nadene L)108 518.4 Q
(ynn, Memorandum No. UCB/ERL M82/32, May 1982.)-.55 E F1(db_ar)108 542.4
Q -.15(ch)-.37 G(ive).15 E F0(\(1\),).18 E F1(db_c)2.5 E(hec)-.15 E
(kpoint)-.2 E F0(\(1\),).68 E F1(db_deadloc)2.5 E(k)-.2 E F0(\(1\),).67
E F1(db_dump)2.5 E F0(\(1\),).19 E F1(db_load)2.5 E F0(\(1\),).77 E F1
(db_r)2.5 E(eco)-.37 E(ver)-.1 E F0(\(1\),).73 E F1(db_stat)2.5 E F0
(\(1\),).68 E F1(db_intr)108 554.4 Q(o)-.45 E F0(\(3\),).18 E F1
(db_appinit)2.5 E F0(\(3\),).68 E F1(db_cur)2.5 E(sor)-.1 E F0(\(3\),)
.73 E F1(db_dbm)2.5 E F0(\(3\),).32 E F1(db_jump)2.5 E F0(\(3\),).19 E
F1(db_loc)2.5 E(k)-.2 E F0(\(3\),).67 E F1(db_lo)2.5 E(g)-.1 E F0
(\(3\),).22 E F1(db_mpool)2.5 E F0(\(3\),).51 E F1(db_open)108 566.4 Q
F0(\(3\),).24 E F1(db_thr)2.5 E(ead)-.37 E F0(\(3\),).77 E F1(db_txn)2.5
E F0(\(3\)).24 E(October 25, 1997)271.145 768 Q(14)189.145 E EP
%%Trailer
end
%%EOF
