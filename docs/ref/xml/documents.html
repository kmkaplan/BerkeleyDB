<!--$Id: documents.so,v 1.3 2003/05/09 17:44:09 bostic Exp $-->
<!--Copyright 1997-2003 by Sleepycat Software, Inc.-->
<!--All rights reserved.-->
<!--See the file LICENSE for redistribution information.-->
<html>
<head>
<title>Berkeley DB Reference Guide: Documents</title>
<meta name="description" content="Berkeley DB: An embedded database programmatic toolkit.">
<meta name="keywords" content="embedded,database,programmatic,toolkit,b+tree,btree,hash,hashing,transaction,transactions,locking,logging,access method,access methods,Java,C,C++">
</head>
<body bgcolor=white>
<a name="2"><!--meow--></a>
<table width="100%"><tr valign=top>
<td><h3><dl><dt>Berkeley DB Reference Guide:<dd>Berkeley DB XML</dl></h3></td>
<td align=right><a href="../../ref/xml/arch.html"><img src="../../images/prev.gif" alt="Prev"></a><a href="../../reftoc.html"><img src="../../images/ref.gif" alt="Ref"></a><a href="../../ref/xml/env.html"><img src="../../images/next.gif" alt="Next"></a>
</td></tr></table>
<p>
<h3 align=center>Documents</h3>
<p>A Berkeley DB XML document consists of content, a name, an ID, and a set of
metadata attributes. The document content is a byte stream, which
must be well formed XML, but need not be valid.</p>
<p>The document name is a user-provided identifier for the document. The
user can retrieve the document by name through the container query
interface. The document name can be referenced in an XPath expression
as "dbxml:name". For example, the XPath expression:</p>
<blockquote><pre>/*[@dbxml:name= 'abc123']</pre></blockquote>
<p>would retrieve the document with the name "abc123".</p>
<p>The Berkeley DB XML system assigns each document a unique ID when it is inserted
into a container. The document ID uniquely identifies the document
within a container, and can be used to retrieve the document from its
container.</p>
<p>The metadata attributes provide a means of associating information with
a document, without having to store the information within the document
itself. Example metadata attributes might be: document owner, creation
time, receipt time, originating source, final destination, and next
processing phase. They are analogous to the attributes of a file in a
file system. Each metadata attribute consists of a name-value pair.</p>
<p>There are three parts to the name of a metadata attribute; a namespace
URI, a namespace prefix, and a local name. The namespace URI and prefix
are optional, but should be used to avoid naming collisions. The system
reflects each metadata attribute into the document by adding a namespace
declaration attribute and metadata attribute to the document root
element. The following code example demonstrates how to associate a
metadata attribute with a document:</p>
<blockquote><pre>XmlDocument document;
document.setContent("&lt;x/&gt;");
document.setMetaData("http://acme.com/", "acme", "received", "1-Jan-2002");
</pre></blockquote>
<p>The system reflects the metadata attribute into the document as follows:</p>
<blockquote><pre>&lt;x xmlns:acme= 'http://acme.com/' acme:received= '1-Jan-2002'/&gt;
</pre></blockquote>
<p>The metadata attribute can be queried using the XPath expression:</p>
<blockquote><pre>/*[@acme:received= '1-Jan-2002']</pre></blockquote>
<table width="100%"><tr><td><br></td><td align=right><a href="../../ref/xml/arch.html"><img src="../../images/prev.gif" alt="Prev"></a><a href="../../reftoc.html"><img src="../../images/ref.gif" alt="Ref"></a><a href="../../ref/xml/env.html"><img src="../../images/next.gif" alt="Next"></a>
</td></tr></table>
<p><font size=1><a href="../../sleepycat/legal.html">Copyright (c) 1996-2003</a> <a href="http://www.sleepycat.com">Sleepycat Software, Inc.</a> - All rights reserved.</font>
</body>
</html>
